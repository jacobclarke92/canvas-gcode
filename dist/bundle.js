(()=>{"use strict";var t={563:(t,r,i)=>{i.d(r,{Z:()=>y});var o=i(729),a=i(575),u=i(52),l=i(58),c=i(323),p=i(73),h=i(132);function _wrapNativeSuper(t){var r="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function _wrapNativeSuper(t){if(null===t||!function _isNativeFunction(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,Wrapper)}function Wrapper(){return _construct(t,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(t.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,t)},_wrapNativeSuper(t)}function _construct(t,r,i){return _construct=_isNativeReflectConstruct()?Reflect.construct.bind():function _construct(t,r,i){var o=[null];o.push.apply(o,r);var a=new(Function.bind.apply(t,o));return i&&_setPrototypeOf(a,i.prototype),a},_construct.apply(null,arguments)}function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||_unsupportedIterableToArray(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,o=new Array(r);i<r;i++)o[i]=t[i];return o}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey(o.key),o)}}function _createClass(t,r,i){return r&&_defineProperties(t.prototype,r),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}function _setPrototypeOf(t,r){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){return t.__proto__=r,t},_setPrototypeOf(t,r)}function _createSuper(t){var r=_isNativeReflectConstruct();return function _createSuperInternal(){var i,o=_getPrototypeOf(t);if(r){var a=_getPrototypeOf(this).constructor;i=Reflect.construct(o,arguments,a)}else i=o.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _toPropertyKey(t){var r=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===_typeof(r)?r:String(r)}var y=function(t){_inherits(Path,t);var r=_createSuper(Path);function Path(){var t;_classCallCheck(this,Path);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return function _defineProperty(t,r,i){return(r=_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}(_assertThisInitialized(t=r.call.apply(r,[this].concat(o))),"subPaths",[]),t}return _createClass(Path,[{key:"clone",value:function clone(){var t=new Path;return t.subPaths=this.subPaths.slice(0),t}},{key:"moveTo",value:function moveTo(t,r){var i=new p.Z;i.moveTo(t,r),this.subPaths.push(i),this.current=i}},{key:"ensure",value:function ensure(t,r){0===this.subPaths.length&&this.moveTo(t,r)}},{key:"close",value:function close(){if(!this.current)return!1;this.current.close()}},{key:"lineTo",value:function lineTo(){var t;this.ensure.apply(this,arguments),(t=this.current).lineTo.apply(t,arguments)}},{key:"arc",value:function arc(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var o=r[0],a=r[1],u=r[2],l=r[3],c=r[4],p=r[5];this.ellipse(o,a,u,u,l,c,p)}},{key:"ellipse",value:function ellipse(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i[0],u=i[1],l=i[2],c=(i[3],i[4]),p=i[5],y=(i[6],(0,h.CS)(a,u,c,p,l));this.current&&(0,h.Bj)(this.current.lastPoint(),y.start)||this.moveTo(y.start.x,y.start.y),(t=this.current).ellipse.apply(t,i)}},{key:"quadraticCurveTo",value:function quadraticCurveTo(){var t;(t=this.current).quadraticCurveTo.apply(t,arguments)}},{key:"bezierCurveTo",value:function bezierCurveTo(){var t;(t=this.current).bezierCurveTo.apply(t,arguments)}},{key:"rect",value:function rect(t,r,i,o){this.moveTo(t,r),this.lineTo(t+i,r),this.lineTo(t+i,r+o),this.lineTo(t,r+o),this.lineTo(t,r)}},{key:"toPolygons",value:function toPolygons(t,r){if(!t)throw"NO SCALE!";var i,o=new v,a=function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var o=0,a=function F(){};return{s:a,n:function n(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,l=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();return l=t.done,t},e:function e(t){c=!0,u=t},f:function f(){try{l||null==i.return||i.return()}finally{if(c)throw u}}}}(this.subPaths);try{for(a.s();!(i=a.n()).done;){var u=i.value;o.push(u.toPolygon(t,r))}}catch(t){a.e(t)}finally{a.f()}return o}},{key:"fromPolygons",value:function fromPolygons(t,r){if(!r)throw"NO SCALE!";this.subPaths=[];for(var i=0,o=t.length;i<o;++i){var a=new p.Z;a.fromPolygon(t[i],r),this.subPaths.push(a),this.current=a}return this}},{key:"clip",value:function clip(t,r,i){if(!t)return this;r=r||0;var a=1e3,l=this.toPolygons(a,i),c=t.toPolygons(a,i),p=new o.x;p.addPaths(l,u.pr.subject,!0),p.addPaths(c,u.pr.clip,!0);var h=new v;p.execute(r,h);var y=new Path;return y.fromPolygons(h,a),y}},{key:"translate",value:function translate(t,r){var i=new Path;return this.subPaths.forEach((function(o){var a=o.getPoints();i.moveTo(a[0].x+t,a[0].y+r),a.slice(1).forEach((function(o){i.lineTo(o.x+t,o.y+r)}))})),i}},{key:"clipToBounds",value:function clipToBounds(t){var r,i=new Path,o=new c.Z,a=o.clone();return this.subPaths.forEach((function(u){u.getPoints().forEach((function(u,l){if(u=u.clone(),r=u.clone(),u.y<t.top){var c=(u.x-o.x)/(u.y-o.y);u.x+=c*(t.top-u.y)||0,u.y=t.top}else if(a.y<t.top){var p=(u.x-a.x)/(u.y-a.y)*(t.top-u.y)||0;i.moveTo(u.x+p,t.top)}if(u.x>t.right){var h=(u.y-o.y)/(u.x-o.x);u.y+=h*(t.right-u.x),u.x=t.right}else a.x,t.right;0===l?i.moveTo(u.x,u.y):i.lineTo(u.x,u.y),o=u,a=r}))})),i}},{key:"simplify",value:function simplify(t,r){var i=this.toPolygons(1e3,r),a=u.Xk.nonZero;"evenodd"===t&&(a=u.Xk.evenOdd),i=o.x.simplifyPolygons(i,a);var l=new Path;return l.fromPolygons(i,1e3),l}},{key:"is",value:function is(t){return 1===this.subPaths.length&&2===this.subPaths[0].actions.length&&this.subPaths[0].actions[1].type===t}},{key:"offset",value:function offset(t,r){if(0===t)return this;if(this.is("ELLIPSE")){var i=new Path,o=this.subPaths[0].actions[1].args;return!(o[2]+t<0)&&(i.ellipse(o[0],o[1],o[2]+t,o[3]+t,o[4],o[5],o[6]),i)}var l=1e3,c=this.toPolygons(l,r),p=new a.W;p.addPaths(c,u.AH.miter,u.u.closedPolygon);var h=new v;try{p.execute(h,t*l)}catch(t){return!1}if(!h||0===h.length||0===h[0].length)return!1;var y=new Path;return y.fromPolygons(h,l),y.close(),y}},{key:"ramp",value:function ramp(t){}},{key:"addPath",value:function addPath(t){this.subPaths=this.subPaths.concat(t.subPaths)}},{key:"estimateMaxOffset",value:function estimateMaxOffset(t){for(var r=this.getBounds(),i=Math.abs(r.right-r.left),o=Math.abs(r.bottom-r.top),a=Math.min(i,o)/2,u=0,l=0;l<5;++l){var c=u+(a-u)/2;this.offset(-c,3)?u=c:a=c}return{lt:a,gt:u}}},{key:"fillPath",value:function fillPath(t,r){for(var i=new Path,o=Math.sin(Math.PI/4),a=this.estimateMaxOffset(5).lt,u=-(a-=t/2);u<-t/2;u+=t*o){var l=this.offset(u,r);if(!l)break;l=l.reverse(),i.addPath(l)}var c=this.offset(-t/2,r);return c&&i.addPath(c.reverse()),i}},{key:"connectEnds",value:function connectEnds(t){for(var r=this.subPaths.length-1;r>0;--r){var i=this.subPaths[r-1],o=this.subPaths[r],a=i.lastPoint(),u=o.nearestPoint(a),l=u.point;u.distance<2*t&&(o=o.shift(u.i),i.lineTo(l.x,l.y),o.actions[0].type="LINE_TO",i.actions=i.actions.concat(o.actions),this.subPaths.splice(r,1))}return this}},{key:"reverse",value:function reverse(){if(this.is("ELLIPSE")){var t=new Path,r=this.subPaths[0].actions[1].args;return t.ellipse(r[0],r[1],r[2],r[3],r[5],r[4],!r[6]),t}var i=new Path;return i.subPaths=this.subPaths.map((function(t){return t.reverse()})).reverse(),i}},{key:"sortCustom",value:function sortCustom(){if(0===this.subPaths.length)return this;var t=new Path,r=this.subPaths[0].lastPoint();return t.subPaths=this.subPaths.sort((function(t,i){var o=t.lastPoint(),a=i.firstPoint(),u=c.Z.distance(o,r),l=c.Z.distance(a,r);return r=i.lastPoint(),u<l?-1:u>l?1:0})),t}},{key:"firstPoint",value:function firstPoint(){return!!this.current&&this.subPaths[0].firstPoint()}},{key:"lastPoint",value:function lastPoint(){return!!this.current&&this.subPaths[this.subPaths.length-1].lastPoint()}},{key:"getPoints",value:function getPoints(t){var r=[];return this.subPaths.forEach((function(i){r.push.apply(r,_toConsumableArray(i.getPoints(t)))})),r}},{key:"getBounds",value:function getBounds(){var t=this.getPoints(),r=this.firstPoint()||new c.Z,i={left:r.x,top:r.y,right:r.x,bottom:r.y};return t.forEach((function(t){i.left=Math.min(i.left,t.x),i.top=Math.min(i.top,t.y),i.right=Math.max(i.right,t.x),i.bottom=Math.max(i.bottom,t.y)})),i}}]),Path}(l.y),v=function(t){_inherits(Paths,t);var r=_createSuper(Paths);function Paths(){var t;return _classCallCheck(this,Paths),(t=r.call(this)).push=Array.prototype.push,_possibleConstructorReturn(t,[])}return _createClass(Paths)}(_wrapNativeSuper(Array))},323:(t,r,i)=>{i.d(r,{Z:()=>a});var o=i(568);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,o=new Array(r);i<r;i++)o[i]=t[i];return o}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(a=o.key,u=void 0,u=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(a,"string"),"symbol"===_typeof(u)?u:String(u)),o)}var a,u}function _setPrototypeOf(t,r){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){return t.__proto__=r,t},_setPrototypeOf(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var i,o=_getPrototypeOf(t);if(r){var a=_getPrototypeOf(this).constructor;i=Reflect.construct(o,arguments,a)}else i=o.apply(this,arguments);return function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,i)}}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}var a=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(Point,t);var r=_createSuper(Point);function Point(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,l=arguments.length>3?arguments[3]:void 0;return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Point),(t=r.call.apply(r,[this].concat(_toConsumableArray(o.CB.USE_XYZ?[i,a,u]:[i,a])))).a=isNaN(l)?0:l,t}return function _createClass(t,r,i){return r&&_defineProperties(t.prototype,r),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(Point,[{key:"clone",value:function clone(){return new Point(this.x,this.y)}},{key:"round",value:function round(){return new Point(Math.round(this.x),Math.round(this.y))}},{key:"equals",value:function equals(t){return this.x===t.x&&this.y===t.y}},{key:"add",value:function add(t){return new Point(this.x+t.x,this.y+t.y)}},{key:"midpoint",value:function midpoint(t){return new Point((this.x+t.x)/2,(this.y+t.y)/2)}},{key:"subtract",value:function subtract(t){return new Point(this.x-t.x,this.y-t.y)}},{key:"magnitude",value:function magnitude(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"angle",value:function angle(){return Math.atan2(this.y,this.x)}},{key:"multiply",value:function multiply(t){return"number"==typeof t?new Point(this.x*t,this.y*t):new Point(this.x*t.x,this.y*t.y)}},{key:"scale",value:function scale(t){return this.multiply(t)}},{key:"divide",value:function divide(t){return"number"==typeof t?new Point(this.x/t,this.y/t):new Point(this.x/t.x,this.y/t.y)}},{key:"normalize",value:function normalize(){return this.multiply(1/this.magnitude())}},{key:"set",value:function set(t,r){this.x=t,this.y=r}},{key:"dot",value:function dot(t){return this.x*t.x+this.y*t.y}},{key:"translate",value:function translate(t,r){return new Point(this.x+t,this.y+r)}},{key:"moveAlongAngle",value:function moveAlongAngle(t,r){return this.translate(Math.cos(t)*r,Math.sin(t)*r)}},{key:"moveTowards",value:function moveTowards(t,r){var i=this.angleTo(t);return this.moveAlongAngle(i,r)}},{key:"rotate",value:function rotate(t){return new Point(this.x*Math.cos(t)-this.y*Math.sin(t),this.x*Math.sin(t)+this.y*Math.cos(t))}},{key:"angleTo",value:function angleTo(t){return Math.atan2(t.y-this.y,t.x-this.x)}},{key:"distanceTo",value:function distanceTo(t){return Math.sqrt(Math.pow(t.x-this.x,2)+Math.pow(t.y-this.y,2))}},{key:"angleBetween",value:function angleBetween(t){return Math.acos(this.dot(t)/(this.magnitude()*t.magnitude()))}},{key:"toUnit",value:function toUnit(){return this.multiply(1/this.magnitude())}}],[{key:"distance",value:function distance(t,r){return Math.sqrt(Math.pow(r.x-t.x,2)+Math.pow(r.y-t.y,2))}},{key:"angleBetween",value:function angleBetween(t,r){return Math.acos(t.dot(r)/(t.magnitude()*r.magnitude()))}}]),Point}(i(258).u)},204:(t,r,i)=>{function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey(o.key),o)}}function _defineProperty(t,r,i){return(r=_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function _toPropertyKey(t){var r=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===_typeof(r)?r:String(r)}i.d(r,{v:()=>o});var o=function(){function Sketch(t){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Sketch),_defineProperty(this,"vs",{}),this.ctx=t.ctx,this.ctx.enableCutouts=Sketch.enableCutouts,this.canvasWidth=this.cw=t.width,this.canvasHeight=this.ch=t.height,this.cx=this.canvasWidth/2,this.cy=this.canvasHeight/2}return function _createClass(t,r,i){return r&&_defineProperties(t.prototype,r),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(Sketch,[{key:"init",value:function init(){}},{key:"initDraw",value:function initDraw(){}},{key:"draw",value:function draw(t){}},{key:"reset",value:function reset(){this.ctx.reset()}}]),Sketch}();_defineProperty(o,"generateGCode",!0),_defineProperty(o,"enableCutouts",!0)},73:(t,r,i)=>{i.d(r,{Z:()=>l});var o=i(563),a=i(323),u=i(132);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var o,a,u,l,c=[],p=!0,h=!1;try{if(u=(i=i.call(t)).next,0===r){if(Object(i)!==i)return;p=!1}else for(;!(p=(o=u.call(i)).done)&&(c.push(o.value),c.length!==r);p=!0);}catch(t){h=!0,a=t}finally{try{if(!p&&null!=i.return&&(l=i.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}(t,r)||_unsupportedIterableToArray(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,o=new Array(r);i<r;i++)o[i]=t[i];return o}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey(o.key),o)}}function _defineProperty(t,r,i){return(r=_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function _toPropertyKey(t){var r=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===_typeof(r)?r:String(r)}var l=function(){function SubPath(t){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,SubPath),_defineProperty(this,"actions",[]),_defineProperty(this,"pointsCache",[]),t&&this.fromPoints(t)}return function _createClass(t,r,i){return r&&_defineProperties(t.prototype,r),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(SubPath,[{key:"clone",value:function clone(){var t=new SubPath;return t.actions=this.actions.slice(0),t}},{key:"isClosed",value:function isClosed(){return(0,u.Bj)(this.firstPoint(),this.lastPoint())}},{key:"closed",get:function get(){return this.isClosed()}},{key:"offset",value:function offset(t){var r=this.toPath().offset(t);return!!r&&r.subPaths[0]}},{key:"simplify",value:function simplify(){var t=this.toPath().simplify();return!!t&&t.subPaths[0]}},{key:"toPath",value:function toPath(){var t=this.clone(),r=new o.Z;return r.subPaths.push(t),r.current=r.subPaths[r.subPaths.length-1],r}},{key:"addAction",value:function addAction(t){this.actions.push(t),this.pointsCache=[]}},{key:"firstPoint",value:function firstPoint(){var t=new a.Z(0,0),r=this.actions[0];if("ELLIPSE"===r.type)t=(0,u.CS)(r.args[0],r.args[1],r.args[4],r.args[5],r.args[2]).start;else t.x=r.args[r.args.length-2],t.y=r.args[r.args.length-1];return t}},{key:"lastPoint",value:function lastPoint(){var t=new a.Z(0,0),r=this.actions[this.actions.length-1];if("ELLIPSE"===r.type)t=(0,u.CS)(r.args[0],r.args[1],r.args[4],r.args[5],r.args[2]).end;else t.x=r.args[r.args.length-2],t.y=r.args[r.args.length-1];return t}},{key:"fromPoints",value:function fromPoints(t){this.moveTo(t[0].x,t[0].y);for(var r=1,i=t.length;r<i;r++)this.lineTo(t[r].x,t[r].y)}},{key:"getActionLength",value:function getActionLength(t,r,i){var o=this.actions[i];if("ELLIPSE"===o.type){var a=_slicedToArray(o.args,7),u=(a[0],a[1],a[2],a[3]),l=a[4],c=a[5];a[6];return o.args,(c-l)*u}var p=o.args,h=p[p.length-2]-t,y=p[p.length-1]-r;return Math.sqrt(h*h+y*y)}},{key:"getLength",value:function getLength(){for(var t=0,r=this.firstPoint(),i=this.getPoints(),o=1,a=i.length;o<a;++o){var u=i[o],l=r.x,c=r.y,p=u.x-l,h=u.y-c;t+=Math.sqrt(p*p+h*h)}return t}},{key:"nearestPoint",value:function nearestPoint(t){var r,i,o=new a.Z,u=1/0;return this.actions.forEach((function(l,c){if("ELLIPSE"===l.type){var p=_slicedToArray(l.args,7),h=p[0],y=p[1],v=p[2],d=p[3],m=p[4];p[5],p[6];o.x=h+v*Math.cos(m),o.y=y+d*Math.sin(m)}else o.x=l.args[l.args.length-2],o.y=l.args[l.args.length-1];var b=a.Z.distance(t,o);b<u&&(r=c,i=o.clone(),u=b)})),{i:r,distance:u,point:i}}},{key:"pointAt",value:function pointAt(t){var r=new a.Z,i=this.actions[t];if("LINE_TO"===i.type)r.x=i.args[i.args.length-2],r.y=i.args[i.args.length-1];return r}},{key:"shiftToNearest",value:function shiftToNearest(t,r){var i=this.nearestPoint(new a.Z(t,r));return this.shift(i.i)}},{key:"shift",value:function shift(t){if(0===t)return this;var r=new SubPath;return r.actions=this.actions.slice(t).concat(this.actions.slice(0,t)),r.actions.forEach((function(t){t.type="LINE_TO"})),r.lineTo(r.actions[0].args[0],r.actions[0].args[1]),r}},{key:"moveTo",value:function moveTo(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];this.addAction({type:"MOVE_TO",args:r})}},{key:"lineTo",value:function lineTo(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];this.addAction({type:"LINE_TO",args:r})}},{key:"quadraticCurveTo",value:function quadraticCurveTo(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];this.addAction({type:"QUADRATIC_CURVE_TO",args:r})}},{key:"bezierCurveTo",value:function bezierCurveTo(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];this.addAction({type:"BEZIER_CURVE_TO",args:r})}},{key:"arc",value:function arc(){this.ellipse.apply(this,arguments)}},{key:"ellipse",value:function ellipse(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];this.addAction({type:"ELLIPSE",args:r})}},{key:"getPoints",value:function getPoints(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:40;if(this.pointsCache[t])return this.pointsCache[t];for(var r=[],i=0,o=this.actions.length;i<o;i++){var u=this.actions[i];switch(u.type){case"MOVE_TO":case"LINE_TO":r.push(new a.Z(u.args[0],u.args[1]));break;case"QUADRATIC_CURVE_TO":var l=void 0,h=void 0,y=_slicedToArray(u.args,4),v=y[0],d=y[1],m=y[2],b=y[3];if(r.length>0){var _=r[r.length-1];l=_.x,h=_.y}else{var P=this.actions[i-1];if("ELLIPSE"!==P.type){var g=P.args;l=g[g.length-2],h=g[g.length-1]}else l=P.args[0],h=P.args[1]}for(var x=1;x<=t;x++){var w=x/t,O=c(w,l,v,m),S=c(w,h,d,b);r.push(new a.Z(O,S))}break;case"BEZIER_CURVE_TO":var C=void 0,T=void 0,I=_slicedToArray(u.args,6),k=I[0],E=I[1],L=I[2],A=I[3],M=I[4],j=I[5];if(r.length>0){var R=r[r.length-1];C=R.x,T=R.y}else{var B=this.actions[i-1];if("ELLIPSE"!==B.type){var D=B.args;C=D[D.length-2],T=D[D.length-1]}else C=B.args[0],T=B.args[1]}for(var N=1;N<=t;N++){var z=N/t,Z=p(z,C,k,L,M),V=p(z,T,E,A,j);r.push(new a.Z(Z,V))}break;case"ELLIPSE":var q=void 0,H=void 0,K=_slicedToArray(u.args,7),G=K[0],X=K[1],U=K[2],W=K[3],J=K[4],Y=K[5],Q=K[6],$=Y-J,tt=void 0;for(q=0;q<=t;q++){H=q/t,$===2*-Math.PI&&($=2*Math.PI),$<0&&($+=2*Math.PI),$>2*Math.PI&&($-=2*Math.PI),Q?($===2*Math.PI&&($=0),tt=Y+(1-H)*(2*Math.PI-$)):tt=J+H*$;var et=G+U*Math.cos(tt),rt=X+W*Math.sin(tt);r.push(new a.Z(et,rt))}}}return this.closed&&r.push(r[0]),this.pointsCache[t]=r,r}},{key:"toPolygon",value:function toPolygon(t,r){var i,u=new o.Z,l=function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var o=0,a=function F(){};return{s:a,n:function n(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,l=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();return l=t.done,t},e:function e(t){c=!0,u=t},f:function f(){try{l||null==i.return||i.return()}finally{if(c)throw u}}}}(this.getPoints(r));try{for(l.s();!(i=l.n()).done;){var c=i.value;u.push(new a.Z(c.x*t,c.y*t))}}catch(t){l.e(t)}finally{l.f()}return[u]}},{key:"fromPolygon",value:function fromPolygon(t,r){r=1/r,this.moveTo(t[0].x*r,t[0].y*r);for(var i=1,o=t.length;i<o;++i)this.lineTo(t[i].x*r,t[i].y*r);return this.close(),this}},{key:"close",value:function close(){if(!this.isClosed()){var t=this.actions[0].args;this.lineTo(t[0],t[1])}}},{key:"reverse",value:function reverse(){var t=new SubPath,r=this.getPoints().reverse();if(0==r.length)return t;t.moveTo(r[0].x,r[0].y);for(var i=1,o=r.length;i<o;++i)t.lineTo(r[i].x,r[i].y);return t}}]),SubPath}(),c=function b2(t,r,i,o){return function b2p0(t,r){var i=1-t;return i*i*r}(t,r)+function b2p1(t,r){return 2*(1-t)*t*r}(t,i)+function b2p2(t,r){return t*t*r}(t,o)},p=function b3(t,r,i,o,a){return function b3p0(t,r){var i=1-t;return i*i*i*r}(t,r)+function b3p1(t,r){var i=1-t;return 3*i*i*t*r}(t,i)+function b3p2(t,r){return 3*(1-t)*t*t*r}(t,o)+function b3p3(t,r){return t*t*t*r}(t,a)}},729:(t,r,i)=>{i.d(r,{x:()=>b});var o=i(568),a=i(583),u=i(497),l=i(773),c=i(52),p=i(161),h=i(258),y=i(711),v=i(749),d=i(58),m=i(727);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey(o.key),o)}}function _get(){return _get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function _get(t,r,i){var o=function _superPropBase(t,r){for(;!Object.prototype.hasOwnProperty.call(t,r)&&null!==(t=_getPrototypeOf(t)););return t}(t,r);if(o){var a=Object.getOwnPropertyDescriptor(o,r);return a.get?a.get.call(arguments.length<3?t:i):a.value}},_get.apply(this,arguments)}function _setPrototypeOf(t,r){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){return t.__proto__=r,t},_setPrototypeOf(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var i,o=_getPrototypeOf(t);if(r){var a=_getPrototypeOf(this).constructor;i=Reflect.construct(o,arguments,a)}else i=o.apply(this,arguments);return function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}(this,i)}}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _defineProperty(t,r,i){return(r=_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function _toPropertyKey(t){var r=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===_typeof(r)?r:String(r)}var b=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(Clipper,t);var r=_createSuper(Clipper);function Clipper(){var t,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Clipper),_defineProperty(_assertThisInitialized(t=r.call(this)),"outerPolygons",[]),_defineProperty(_assertThisInitialized(t),"scanbeam",null),_defineProperty(_assertThisInitialized(t),"clipType",c.NJ.intersection),_defineProperty(_assertThisInitialized(t),"maxima",null),_defineProperty(_assertThisInitialized(t),"activeEdges",null),_defineProperty(_assertThisInitialized(t),"sortedEdges",null),_defineProperty(_assertThisInitialized(t),"intersectList",[]),_defineProperty(_assertThisInitialized(t),"intersectNodeComparer",p.v.compare),_defineProperty(_assertThisInitialized(t),"executeLocked",!1),_defineProperty(_assertThisInitialized(t),"clipFillType",c.Xk.evenOdd),_defineProperty(_assertThisInitialized(t),"subjectFillType",c.Xk.evenOdd),_defineProperty(_assertThisInitialized(t),"joins",[]),_defineProperty(_assertThisInitialized(t),"ghostJoins",[]),_defineProperty(_assertThisInitialized(t),"usingPolygonTree",!1),_defineProperty(_assertThisInitialized(t),"reverseSolution",!1),_defineProperty(_assertThisInitialized(t),"strictlySimple",!1),_defineProperty(_assertThisInitialized(t),"preserveCollinear",!1),t.reverseSolution=0!=(1&i),t.strictlySimple=0!=(2&i),t.preserveCollinear=0!=(4&i),o.CB.USE_XYZ,t.zFillFunction=null,t}return function _createClass(t,r,i){return r&&_defineProperties(t.prototype,r),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(Clipper,[{key:"clear",value:function clear(){0!==this.edges.length&&(this.disposeAllPolyPoints(),_get(_getPrototypeOf(Clipper.prototype),"clear",this).call(this))}},{key:"insertMaxima",value:function insertMaxima(t){var r=new v.lt;if(r.x=t,null===this.maxima)this.maxima=r,this.maxima.next=null,this.maxima.prev=null;else if(t<this.maxima.x)r.next=this.maxima,r.prev=null,this.maxima=r;else{for(var i=this.maxima;null!==i.next&&t>=i.next.x;)i=i.next;if(t===i.x)return;r.next=i.next,r.prev=i,null!==i.next&&(i.next.prev=r),i.next=r}}},{key:"execute",value:function execute(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];if(!(4!==r.length||r[1]instanceof m.X)){if(this.executeLocked)return!1;if(this.hasOpenPaths)throw new Error("Error: PolyTree struct is needed for open path clipping.");var a=r[0],u=r[1],l=r[2],p=r[3];this.executeLocked=!0,o.CB.clear(u),this.subjectFillType=l,this.clipFillType=p,this.clipType=a,this.usingPolygonTree=!1;var h=!1;try{(h=this.executeInternal())&&this.buildResult(u)}finally{this.disposeAllPolyPoints(),this.executeLocked=!1}return h}if(4===r.length&&r[1]instanceof m.X){if(this.executeLocked)return!1;var y=r[0],v=r[1],d=r[2],b=r[3];this.executeLocked=!0,this.subjectFillType=d,this.clipFillType=b,this.clipType=y,this.usingPolygonTree=!0;var _=!1;try{(_=this.executeInternal())&&this.buildResult(v)}finally{this.disposeAllPolyPoints(),this.executeLocked=!1}return _}if(!(2!==r.length||r[1]instanceof m.X)){var P=r[0],g=r[1];return this.execute(P,g,c.Xk.evenOdd,c.Xk.evenOdd)}if(2===r.length&&r[1]instanceof m.X){var x=r[0],w=r[1];return this.execute(x,w,c.Xk.evenOdd,c.Xk.evenOdd)}}},{key:"fixHoleLinkage",value:function fixHoleLinkage(t){if(null!==t.firstLeft&&(t.isHole===t.firstLeft.isHole||null===t.firstLeft.points)){for(var r=t.firstLeft;null!==r&&(r.isHole===t.isHole||null===r.points);)r=r.firstLeft;t.firstLeft=r}}},{key:"executeInternal",value:function executeInternal(){try{this.reset(),this.sortedEdges=null,this.maxima=null;var t=new v.z0,r=new v.z0;if(!this.popScanbeam(t))return!1;for(this.insertLocalMinimaIntoAEL(t.v);this.popScanbeam(r)||this.localMinimaPending();){if(this.processHorizontals(),this.ghostJoins.length=0,!this.processIntersections(r.v))return!1;this.processEdgesAtTopOfScanbeam(r.v),t.v=r.v,this.insertLocalMinimaIntoAEL(t.v)}for(var i=0,o=this.outerPolygons.length;i<o;i++){var a=this.outerPolygons[i];null===a.points||a.isOpen||(+a.isHole^+this.reverseSolution)==+(this.area(a.points)>0)&&this.reversePolyPointLinks(a.points)}this.joinCommonEdges();for(var u=0,l=this.outerPolygons.length;u<l;u++){var c=this.outerPolygons[u];null!==c.points&&(c.isOpen?this.fixupOutPolyline(c):this.fixupOutPolygon(c))}return this.strictlySimple&&this.doSimplePolygons(),!0}finally{this.joins.length=0,this.ghostJoins.length=0}}},{key:"disposeAllPolyPoints",value:function disposeAllPolyPoints(){for(var t=0,r=this.outerPolygons.length;t<r;++t)this.disposeOuterRectangle(t);o.CB.clear(this.outerPolygons)}},{key:"addJoin",value:function addJoin(t,r,i){var a=new v.NV;a.outerPoint1=t,a.outerPoint2=r,a.offPoint.x=i.x,a.offPoint.y=i.y,o.CB.USE_XYZ&&(a.offPoint.z=i.z),this.joins.push(a)}},{key:"addGhostJoin",value:function addGhostJoin(t,r){var i=new v.NV;i.outerPoint1=t,i.offPoint.x=r.x,i.offPoint.y=r.y,o.CB.USE_XYZ&&(i.offPoint.z=r.z),this.ghostJoins.push(i)}},{key:"setZ",value:function setZ(t,r,i){if(o.CB.USE_XYZ&&null!==this.zFillFunction){if(0!==t.z||null===this.zFillFunction)return;h.u.op_Equality(t,r.bottom)?t.z=r.bottom.z:h.u.op_Equality(t,r.top)?t.z=r.top.z:h.u.op_Equality(t,i.bottom)?t.z=i.bottom.z:h.u.op_Equality(t,i.top)&&(t.z=i.top.z)}}},{key:"insertLocalMinimaIntoAEL",value:function insertLocalMinimaIntoAEL(t){for(var r,i,o=new v.A3;this.popLocalMinima(t,o);){r=o.v.leftBoundary,i=o.v.rightBoundary;var a=null;if(null===r?(this.insertEdgeIntoAEL(i,null),this.setWindingCount(i),this.isContributing(i)&&(a=this.addOuterPoint(i,i.bottom))):null===i?(this.insertEdgeIntoAEL(r,null),this.setWindingCount(r),this.isContributing(r)&&(a=this.addOuterPoint(r,r.bottom)),this.insertScanbeam(r.top.y)):(this.insertEdgeIntoAEL(r,null),this.insertEdgeIntoAEL(i,r),this.setWindingCount(r),i.windCount=r.windCount,i.windCount2=r.windCount2,this.isContributing(r)&&(a=this.addLocalMinPoly(r,i,r.bottom)),this.insertScanbeam(r.top.y)),null!==i&&(u.x.isHorizontal(i)?(null!==i.nextInLML&&this.insertScanbeam(i.nextInLML.top.y),this.addEdgeToSEL(i)):this.insertScanbeam(i.top.y)),null!==r&&null!==i){if(null!==a&&u.x.isHorizontal(i)&&this.ghostJoins.length>0&&0!==i.windDelta)for(var l=0,c=this.ghostJoins.length;l<c;l++){var p=this.ghostJoins[l];this.horizontalSegmentsOverlap(p.outerPoint1.point.x,p.offPoint.x,i.bottom.x,i.top.x)&&this.addJoin(p.outerPoint1,a,p.offPoint)}if(r.outIndex>=0&&null!==r.prevInAEL&&r.prevInAEL.current.x===r.bottom.x&&r.prevInAEL.outIndex>=0&&u.x.slopesEqual(r.prevInAEL.current,r.prevInAEL.top,r.current,r.top,this.useFullRange)&&0!==r.windDelta&&0!==r.prevInAEL.windDelta){var h=this.addOuterPoint(r.prevInAEL,r.bottom);this.addJoin(a,h,r.top)}if(r.nextInAEL!==i){if(i.outIndex>=0&&i.prevInAEL.outIndex>=0&&u.x.slopesEqual(i.prevInAEL.current,i.prevInAEL.top,i.current,i.top,this.useFullRange)&&0!==i.windDelta&&0!==i.prevInAEL.windDelta){var y=this.addOuterPoint(i.prevInAEL,i.bottom);this.addJoin(a,y,i.top)}var d=r.nextInAEL;if(null!==d)for(;d!==i;)this.intersectEdges(i,d,r.current),d=d.nextInAEL}}}}},{key:"insertEdgeIntoAEL",value:function insertEdgeIntoAEL(t,r){if(null===this.activeEdges)t.prevInAEL=null,t.nextInAEL=null,this.activeEdges=t;else if(null===r&&this.edge2InsertsBeforeEdge1(this.activeEdges,t))t.prevInAEL=null,t.nextInAEL=this.activeEdges,this.activeEdges.prevInAEL=t,this.activeEdges=t;else{for(null===r&&(r=this.activeEdges);null!==r.nextInAEL&&!this.edge2InsertsBeforeEdge1(r.nextInAEL,t);)r=r.nextInAEL;t.nextInAEL=r.nextInAEL,null!==r.nextInAEL&&(r.nextInAEL.prevInAEL=t),t.prevInAEL=r,r.nextInAEL=t}}},{key:"edge2InsertsBeforeEdge1",value:function edge2InsertsBeforeEdge1(t,r){return r.current.x===t.current.x?r.top.y>t.top.y?r.top.x<Clipper.topX(t,r.top.y):t.top.x>Clipper.topX(r,t.top.y):r.current.x<t.current.x}},{key:"isEvenOddFillType",value:function isEvenOddFillType(t){return t.polyType===c.pr.subject?this.subjectFillType===c.Xk.evenOdd:this.clipFillType===c.Xk.evenOdd}},{key:"isEvenOddAltFillType",value:function isEvenOddAltFillType(t){return t.polyType===c.pr.subject?this.clipFillType===c.Xk.evenOdd:this.subjectFillType===c.Xk.evenOdd}},{key:"isContributing",value:function isContributing(t){var r,i;switch(t.polyType===c.pr.subject?(r=this.subjectFillType,i=this.clipFillType):(r=this.clipFillType,i=this.subjectFillType),r){case c.Xk.evenOdd:if(0===t.windDelta&&1!==t.windCount)return!1;break;case c.Xk.nonZero:if(1!==Math.abs(t.windCount))return!1;break;case c.Xk.positive:if(1!==t.windCount)return!1;break;default:if(-1!==t.windCount)return!1}switch(this.clipType){case c.NJ.intersection:switch(i){case c.Xk.evenOdd:case c.Xk.nonZero:return 0!==t.windCount2;case c.Xk.positive:return t.windCount2>0;default:return t.windCount2<0}case c.NJ.union:switch(i){case c.Xk.evenOdd:case c.Xk.nonZero:return 0===t.windCount2;case c.Xk.positive:return t.windCount2<=0;default:return t.windCount2>=0}case c.NJ.difference:if(t.polyType===c.pr.subject)switch(i){case c.Xk.evenOdd:case c.Xk.nonZero:return 0===t.windCount2;case c.Xk.positive:return t.windCount2<=0;default:return t.windCount2>=0}else switch(i){case c.Xk.evenOdd:case c.Xk.nonZero:return 0!==t.windCount2;case c.Xk.positive:return t.windCount2>0;default:return t.windCount2<0}case c.NJ.xor:if(0!==t.windDelta)return!0;switch(i){case c.Xk.evenOdd:case c.Xk.nonZero:return 0===t.windCount2;case c.Xk.positive:return t.windCount2<=0;default:return t.windCount2>=0}}return!0}},{key:"setWindingCount",value:function setWindingCount(t){for(var r=t.prevInAEL;null!==r&&(r.polyType!==t.polyType||0===r.windDelta);)r=r.prevInAEL;if(null===r){var i=t.polyType===c.pr.subject?this.subjectFillType:this.clipFillType;0===t.windDelta?t.windCount=i===c.Xk.negative?-1:1:t.windCount=t.windDelta,t.windCount2=0,r=this.activeEdges}else if(0===t.windDelta&&this.clipType!==c.NJ.union)t.windCount=1,t.windCount2=r.windCount2,r=r.nextInAEL;else if(this.isEvenOddFillType(t)){if(0===t.windDelta){for(var o=!0,a=r.prevInAEL;null!==a;)a.polyType===r.polyType&&0!==a.windDelta&&(o=!o),a=a.prevInAEL;t.windCount=o?0:1}else t.windCount=t.windDelta;t.windCount2=r.windCount2,r=r.nextInAEL}else r.windCount*r.windDelta<0?Math.abs(r.windCount)>1?r.windDelta*t.windDelta<0?t.windCount=r.windCount:t.windCount=r.windCount+t.windDelta:t.windCount=0===t.windDelta?1:t.windDelta:0===t.windDelta?t.windCount=r.windCount<0?r.windCount-1:r.windCount+1:r.windDelta*t.windDelta<0?t.windCount=r.windCount:t.windCount=r.windCount+t.windDelta,t.windCount2=r.windCount2,r=r.nextInAEL;if(this.isEvenOddAltFillType(t))for(;r!==t;)0!==r.windDelta&&(t.windCount2=0===t.windCount2?1:0),r=r.nextInAEL;else for(;r!==t;)t.windCount2+=r.windDelta,r=r.nextInAEL}},{key:"addEdgeToSEL",value:function addEdgeToSEL(t){null===this.sortedEdges?(this.sortedEdges=t,t.prevInSEL=null,t.nextInSEL=null):(t.nextInSEL=this.sortedEdges,t.prevInSEL=null,this.sortedEdges.prevInSEL=t,this.sortedEdges=t)}},{key:"popEdgeFromSEL",value:function popEdgeFromSEL(t){if(t.v=this.sortedEdges,null===t.v)return!1;var r=t.v;return this.sortedEdges=t.v.nextInSEL,null!==this.sortedEdges&&(this.sortedEdges.prevInSEL=null),r.nextInSEL=null,r.prevInSEL=null,!0}},{key:"copyAELToSEL",value:function copyAELToSEL(){var t=this.activeEdges;for(this.sortedEdges=t;null!==t;)t.prevInSEL=t.prevInAEL,t.nextInSEL=t.nextInAEL,t=t.nextInAEL}},{key:"swapPositionsInSEL",value:function swapPositionsInSEL(t,r){if(!(null===t.nextInSEL&&null===t.prevInSEL||null===r.nextInSEL&&null===r.prevInSEL)){if(t.nextInSEL===r){var i=r.nextInSEL;null!==i&&(i.prevInSEL=t);var o=t.prevInSEL;null!==o&&(o.nextInSEL=r),r.prevInSEL=o,r.nextInSEL=t,t.prevInSEL=r,t.nextInSEL=i}else if(r.nextInSEL===t){var a=t.nextInSEL;null!==a&&(a.prevInSEL=r);var u=r.prevInSEL;null!==u&&(u.nextInSEL=t),t.prevInSEL=u,t.nextInSEL=r,r.prevInSEL=t,r.nextInSEL=a}else{var l=t.nextInSEL,c=t.prevInSEL;t.nextInSEL=r.nextInSEL,null!==t.nextInSEL&&(t.nextInSEL.prevInSEL=t),t.prevInSEL=r.prevInSEL,null!==t.prevInSEL&&(t.prevInSEL.nextInSEL=t),r.nextInSEL=l,null!==r.nextInSEL&&(r.nextInSEL.prevInSEL=r),r.prevInSEL=c,null!==r.prevInSEL&&(r.prevInSEL.nextInSEL=r)}null===t.prevInSEL?this.sortedEdges=t:null===r.prevInSEL&&(this.sortedEdges=r)}}},{key:"addLocalMaxPoly",value:function addLocalMaxPoly(t,r,i){this.addOuterPoint(t,i),0===r.windDelta&&this.addOuterPoint(r,i),t.outIndex===r.outIndex?(t.outIndex=-1,r.outIndex=-1):t.outIndex<r.outIndex?this.appendPolygon(t,r):this.appendPolygon(r,t)}},{key:"addLocalMinPoly",value:function addLocalMinPoly(t,r,i){var o,a,l;if(u.x.isHorizontal(r)||t.dx>r.dx?(o=this.addOuterPoint(t,i),r.outIndex=t.outIndex,t.side=c.Yz.left,r.side=c.Yz.right,l=(a=t).prevInAEL===r?r.prevInAEL:a.prevInAEL):(o=this.addOuterPoint(r,i),t.outIndex=r.outIndex,t.side=c.Yz.right,r.side=c.Yz.left,l=(a=r).prevInAEL===t?t.prevInAEL:a.prevInAEL),null!==l&&l.outIndex>=0&&l.top.y<i.y&&a.top.y<i.y){var p=Clipper.topX(l,i.y),y=Clipper.topX(a,i.y);if(p===y&&0!==a.windDelta&&0!==l.windDelta&&u.x.slopesEqual(new h.u(p,i.y),l.top,new h.u(y,i.y),a.top,this.useFullRange)){var v=this.addOuterPoint(l,i);this.addJoin(o,v,a.top)}}return o}},{key:"addOuterPoint",value:function addOuterPoint(t,r){if(t.outIndex<0){var i=this.createOuterRectangle();i.isOpen=0===t.windDelta;var a=new v.sE;return i.points=a,a.index=i.index,a.point.x=r.x,a.point.y=r.y,o.CB.USE_XYZ&&(a.point.z=r.z),a.next=a,a.prev=a,i.isOpen||this.setHoleState(t,i),t.outIndex=i.index,a}var u=this.outerPolygons[t.outIndex],l=u.points,p=t.side===c.Yz.left;if(p&&h.u.op_Equality(r,l.point))return l;if(!p&&h.u.op_Equality(r,l.prev.point))return l.prev;var y=new v.sE;return y.index=u.index,y.point.x=r.x,y.point.y=r.y,o.CB.USE_XYZ&&(y.point.z=r.z),y.next=l,y.prev=l.prev,y.prev.next=y,l.prev=y,p&&(u.points=y),y}},{key:"getLastOutPoint",value:function getLastOutPoint(t){var r=this.outerPolygons[t.outIndex];return t.side===c.Yz.left?r.points:r.points.prev}},{key:"horizontalSegmentsOverlap",value:function horizontalSegmentsOverlap(t,r,i,o){var a;return t>r&&(a=t,t=r,r=a),i>o&&(a=i,i=o,o=a),t<o&&i<r}},{key:"setHoleState",value:function setHoleState(t,r){for(var i=t.prevInAEL,o=null;null!==i;)i.outIndex>=0&&0!==i.windDelta&&(null===o?o=i:o.outIndex===i.outIndex&&(o=null)),i=i.prevInAEL;null===o?(r.firstLeft=null,r.isHole=!1):(r.firstLeft=this.outerPolygons[o.outIndex],r.isHole=!r.firstLeft.isHole)}},{key:"getDx",value:function getDx(t,r){return t.y===r.y?u.x.HORIZONTAL:(r.x-t.x)/(r.y-t.y)}},{key:"firstIsBottomPoint",value:function firstIsBottomPoint(t,r){for(var i=t.prev;h.u.op_Equality(i.point,t.point)&&i!==t;)i=i.prev;var o=Math.abs(this.getDx(t.point,i.point));for(i=t.next;h.u.op_Equality(i.point,t.point)&&i!==t;)i=i.next;var a=Math.abs(this.getDx(t.point,i.point));for(i=r.prev;h.u.op_Equality(i.point,r.point)&&i!==r;)i=i.prev;var u=Math.abs(this.getDx(r.point,i.point));for(i=r.next;h.u.op_Equality(i.point,r.point)&&i!==r;)i=i.next;var l=Math.abs(this.getDx(r.point,i.point));return Math.max(o,a)===Math.max(u,l)&&Math.min(o,a)===Math.min(u,l)?this.area(t)>0:o>=u&&o>=l||a>=u&&a>=l}},{key:"getBottomPoint",value:function getBottomPoint(t){for(var r=null,i=t.next;i!==t;)i.point.y>t.point.y?(t=i,r=null):i.point.y===t.point.y&&i.point.x<=t.point.x&&(i.point.x<t.point.x?(r=null,t=i):i.next!==t&&i.prev!==t&&(r=i)),i=i.next;if(null!==r)for(;r!==i;)for(this.firstIsBottomPoint(i,r)||(t=r),r=r.next;h.u.op_Inequality(r.point,t.point);)r=r.next;return t}},{key:"getLowermostRec",value:function getLowermostRec(t,r){null===t.bottomPoint&&(t.bottomPoint=this.getBottomPoint(t.points)),null===r.bottomPoint&&(r.bottomPoint=this.getBottomPoint(r.points));var i=t.bottomPoint,o=r.bottomPoint;return i.point.y>o.point.y?t:i.point.y<o.point.y?r:i.point.x<o.point.x?t:i.point.x>o.point.x||i.next===i?r:o.next===o||this.firstIsBottomPoint(i,o)?t:r}},{key:"outerRectangle1RightOfOutRec2",value:function outerRectangle1RightOfOutRec2(t,r){do{if((t=t.firstLeft)===r)return!0}while(null!==t);return!1}},{key:"getOutRec",value:function getOutRec(t){for(var r=this.outerPolygons[t];r!==this.outerPolygons[r.index];)r=this.outerPolygons[r.index];return r}},{key:"appendPolygon",value:function appendPolygon(t,r){var i,o=this.outerPolygons[t.outIndex],a=this.outerPolygons[r.outIndex];i=this.outerRectangle1RightOfOutRec2(o,a)?a:this.outerRectangle1RightOfOutRec2(a,o)?o:this.getLowermostRec(o,a);var u=o.points,l=u.prev,p=a.points,h=p.prev;t.side===c.Yz.left?r.side===c.Yz.left?(this.reversePolyPointLinks(p),p.next=u,u.prev=p,l.next=h,h.prev=l,o.points=h):(h.next=u,u.prev=h,p.prev=l,l.next=p,o.points=p):r.side===c.Yz.right?(this.reversePolyPointLinks(p),l.next=h,h.prev=l,p.next=u,u.prev=p):(l.next=p,p.prev=l,u.prev=h,h.next=u),o.bottomPoint=null,i===a&&(a.firstLeft!==o&&(o.firstLeft=a.firstLeft),o.isHole=a.isHole),a.points=null,a.bottomPoint=null,a.firstLeft=o;var y=t.outIndex,v=r.outIndex;t.outIndex=-1,r.outIndex=-1;for(var d=this.activeEdges;null!==d;){if(d.outIndex===v){d.outIndex=y,d.side=t.side;break}d=d.nextInAEL}a.index=o.index}},{key:"reversePolyPointLinks",value:function reversePolyPointLinks(t){if(null!==t){var r,i;r=t;do{i=r.next,r.next=r.prev,r.prev=i,r=i}while(r!==t)}}},{key:"intersectEdges",value:function intersectEdges(t,r,i){var a=t.outIndex>=0,u=r.outIndex>=0;if(o.CB.USE_XYZ&&this.setZ(i,t,r),!o.CB.use_lines||0!==t.windDelta&&0!==r.windDelta){if(t.polyType===r.polyType)if(this.isEvenOddFillType(t)){var l=t.windCount;t.windCount=r.windCount,r.windCount=l}else t.windCount+r.windDelta===0?t.windCount=-t.windCount:t.windCount+=r.windDelta,r.windCount-t.windDelta==0?r.windCount=-r.windCount:r.windCount-=t.windDelta;else this.isEvenOddFillType(r)?t.windCount2=0===t.windCount2?1:0:t.windCount2+=r.windDelta,this.isEvenOddFillType(t)?r.windCount2=0===r.windCount2?1:0:r.windCount2-=t.windDelta;var p,h,y,v,d,m;switch(t.polyType===c.pr.subject?(p=this.subjectFillType,y=this.clipFillType):(p=this.clipFillType,y=this.subjectFillType),r.polyType===c.pr.subject?(h=this.subjectFillType,v=this.clipFillType):(h=this.clipFillType,v=this.subjectFillType),p){case c.Xk.positive:d=t.windCount;break;case c.Xk.negative:d=-t.windCount;break;default:d=Math.abs(t.windCount)}switch(h){case c.Xk.positive:m=r.windCount;break;case c.Xk.negative:m=-r.windCount;break;default:m=Math.abs(r.windCount)}if(a&&u)0!==d&&1!==d||0!==m&&1!==m||t.polyType!==r.polyType&&this.clipType!==c.NJ.xor?this.addLocalMaxPoly(t,r,i):(this.addOuterPoint(t,i),this.addOuterPoint(r,i),Clipper.swapSides(t,r),Clipper.swapPolyIndexes(t,r));else if(a)0!==m&&1!==m||(this.addOuterPoint(t,i),Clipper.swapSides(t,r),Clipper.swapPolyIndexes(t,r));else if(u)0!==d&&1!==d||(this.addOuterPoint(r,i),Clipper.swapSides(t,r),Clipper.swapPolyIndexes(t,r));else if(!(0!==d&&1!==d||0!==m&&1!==m)){var b,_;switch(y){case c.Xk.positive:b=t.windCount2;break;case c.Xk.negative:b=-t.windCount2;break;default:b=Math.abs(t.windCount2)}switch(v){case c.Xk.positive:_=r.windCount2;break;case c.Xk.negative:_=-r.windCount2;break;default:_=Math.abs(r.windCount2)}if(t.polyType!==r.polyType)this.addLocalMinPoly(t,r,i);else if(1===d&&1===m)switch(this.clipType){case c.NJ.intersection:b>0&&_>0&&this.addLocalMinPoly(t,r,i);break;case c.NJ.union:b<=0&&_<=0&&this.addLocalMinPoly(t,r,i);break;case c.NJ.difference:(t.polyType===c.pr.clip&&b>0&&_>0||t.polyType===c.pr.subject&&b<=0&&_<=0)&&this.addLocalMinPoly(t,r,i);break;case c.NJ.xor:this.addLocalMinPoly(t,r,i)}else Clipper.swapSides(t,r)}}else{if(0===t.windDelta&&0===r.windDelta)return;t.polyType===r.polyType&&t.windDelta!==r.windDelta&&this.clipType===c.NJ.union?0===t.windDelta?u&&(this.addOuterPoint(t,i),a&&(t.outIndex=-1)):a&&(this.addOuterPoint(r,i),u&&(r.outIndex=-1)):t.polyType!==r.polyType&&(0!==t.windDelta||1!==Math.abs(r.windCount)||this.clipType===c.NJ.union&&0!==r.windCount2?0!==r.windDelta||1!==Math.abs(t.windCount)||this.clipType===c.NJ.union&&0!==t.windCount2||(this.addOuterPoint(r,i),u&&(r.outIndex=-1)):(this.addOuterPoint(t,i),a&&(t.outIndex=-1)))}}},{key:"deleteFromSEL",value:function deleteFromSEL(t){var r=t.prevInSEL,i=t.nextInSEL;null===r&&null===i&&t!==this.sortedEdges||(null!==r?r.nextInSEL=i:this.sortedEdges=i,null!==i&&(i.prevInSEL=r),t.nextInSEL=null,t.prevInSEL=null)}},{key:"processHorizontals",value:function processHorizontals(){for(var t=new l.k;this.popEdgeFromSEL(t);)this.processHorizontal(t.v)}},{key:"getHorizontalDirection",value:function getHorizontalDirection(t,r){t.bottom.x<t.top.x?(r.left=t.bottom.x,r.right=t.top.x,r.direction=c.Nm.leftToRight):(r.left=t.top.x,r.right=t.bottom.x,r.direction=c.Nm.rightToLeft)}},{key:"processHorizontal",value:function processHorizontal(t){var r={direction:null,left:null,right:null};this.getHorizontalDirection(t,r);for(var i=r.direction,a=r.left,l=r.right,p=0===t.windDelta,y=t,v=null;null!==y.nextInLML&&u.x.isHorizontal(y.nextInLML);)y=y.nextInLML;null===y.nextInLML&&(v=this.getMaximaPair(y));var d=this.maxima;if(null!==d)if(i===c.Nm.leftToRight){for(;null!==d&&d.x<=t.bottom.x;)d=d.next;null!==d&&d.x>=y.top.x&&(d=null)}else{for(;null!==d.next&&d.next.x<t.bottom.x;)d=d.next;d.x<=y.top.x&&(d=null)}for(var m=null;;){for(var b=t===y,_=this.getNextInAEL(t,i);null!==_;){if(null!==d)if(i===c.Nm.leftToRight)for(;null!==d&&d.x<_.current.x;)t.outIndex>=0&&!p&&this.addOuterPoint(t,new h.u(d.x,t.bottom.y)),d=d.next;else for(;null!==d&&d.x>_.current.x;)t.outIndex>=0&&!p&&this.addOuterPoint(t,new h.u(d.x,t.bottom.y)),d=d.prev;if(i===c.Nm.leftToRight&&_.current.x>l||i===c.Nm.rightToLeft&&_.current.x<a)break;if(_.current.x===t.top.x&&null!==t.nextInLML&&_.dx<t.nextInLML.dx)break;if(t.outIndex>=0&&!p){o.CB.USE_XYZ&&(i===c.Nm.leftToRight?this.setZ(_.current,t,_):this.setZ(_.current,_,t)),m=this.addOuterPoint(t,_.current);for(var P=this.sortedEdges;null!==P;){if(P.outIndex>=0&&this.horizontalSegmentsOverlap(t.bottom.x,t.top.x,P.bottom.x,P.top.x)){var g=this.getLastOutPoint(P);this.addJoin(g,m,P.top)}P=P.nextInSEL}this.addGhostJoin(m,t.bottom)}if(_===v&&b)return t.outIndex>=0&&this.addLocalMaxPoly(t,v,t.top),this.deleteFromAEL(t),void this.deleteFromAEL(v);if(i===c.Nm.leftToRight){var x=new h.u(_.current.x,t.current.y);this.intersectEdges(t,_,x)}else{var w=new h.u(_.current.x,t.current.y);this.intersectEdges(_,t,w)}var O=this.getNextInAEL(_,i);this.swapPositionsInAEL(t,_),_=O}if(null===t.nextInLML||!u.x.isHorizontal(t.nextInLML))break;(t=this.updateEdgeIntoAEL(t)).outIndex>=0&&this.addOuterPoint(t,t.bottom);var S={direction:i,left:a,right:l};this.getHorizontalDirection(t,S),i=S.direction,a=S.left,l=S.right}if(t.outIndex>=0&&null===m){m=this.getLastOutPoint(t);for(var C=this.sortedEdges;null!==C;){if(C.outIndex>=0&&this.horizontalSegmentsOverlap(t.bottom.x,t.top.x,C.bottom.x,C.top.x)){var T=this.getLastOutPoint(C);this.addJoin(T,m,C.top)}C=C.nextInSEL}this.addGhostJoin(m,t.top)}if(null!==t.nextInLML)if(t.outIndex>=0){if(m=this.addOuterPoint(t,t.top),0===(t=this.updateEdgeIntoAEL(t)).windDelta)return;var I=t.prevInAEL,k=t.nextInAEL;if(null!==I&&I.current.x===t.bottom.x&&I.current.y===t.bottom.y&&0===I.windDelta&&I.outIndex>=0&&I.current.y>I.top.y&&u.x.slopesEqual(t,I,this.useFullRange)){var E=this.addOuterPoint(I,t.bottom);this.addJoin(m,E,t.top)}else if(null!==k&&k.current.x===t.bottom.x&&k.current.y===t.bottom.y&&0!==k.windDelta&&k.outIndex>=0&&k.current.y>k.top.y&&u.x.slopesEqual(t,k,this.useFullRange)){var L=this.addOuterPoint(k,t.bottom);this.addJoin(m,L,t.top)}}else t=this.updateEdgeIntoAEL(t);else t.outIndex>=0&&this.addOuterPoint(t,t.top),this.deleteFromAEL(t)}},{key:"getNextInAEL",value:function getNextInAEL(t,r){return r===c.Nm.leftToRight?t.nextInAEL:t.prevInAEL}},{key:"isMinima",value:function isMinima(t){return null!==t&&t.prev.nextInLML!==t&&t.next.nextInLML!==t}},{key:"isMaxima",value:function isMaxima(t,r){return null!==t&&t.top.y===r&&null===t.nextInLML}},{key:"isIntermediate",value:function isIntermediate(t,r){return t.top.y===r&&null!==t.nextInLML}},{key:"getMaximaPair",value:function getMaximaPair(t){return h.u.op_Equality(t.next.top,t.top)&&null===t.next.nextInLML?t.next:h.u.op_Equality(t.prev.top,t.top)&&null===t.prev.nextInLML?t.prev:null}},{key:"getMaximaPairEx",value:function getMaximaPairEx(t){var r=this.getMaximaPair(t);return null===r||r.outIndex===u.x.SKIP||r.nextInAEL===r.prevInAEL&&!u.x.isHorizontal(r)?null:r}},{key:"processIntersections",value:function processIntersections(t){if(null===this.activeEdges)return!0;try{if(this.buildIntersectList(t),0===this.intersectList.length)return!0;if(1!==this.intersectList.length&&!this.fixupIntersectionOrder())return!1;this.processIntersectList()}catch(t){throw this.sortedEdges=null,this.intersectList.length=0,new Error("ProcessIntersections error")}return this.sortedEdges=null,!0}},{key:"buildIntersectList",value:function buildIntersectList(t){if(null!==this.activeEdges){var r=this.activeEdges;for(this.sortedEdges=r;null!==r;)r.prevInSEL=r.prevInAEL,r.nextInSEL=r.nextInAEL,r.current.x=Clipper.topX(r,t),r=r.nextInAEL;for(var i=!0;i&&null!==this.sortedEdges;){for(i=!1,r=this.sortedEdges;null!==r.nextInSEL;){var a=r.nextInSEL,u=new h.u;if(r.current.x>a.current.x){this.intersectPoint(r,a,u),u.y<t&&(u=new h.u(Clipper.topX(r,t),t));var l=new p.F;l.edge1=r,l.edge2=a,l.point.x=u.x,l.point.y=u.y,o.CB.USE_XYZ&&(l.point.z=u.z),this.intersectList.push(l),this.swapPositionsInSEL(r,a),i=!0}else r=a}if(null===r.prevInSEL)break;r.prevInSEL.nextInSEL=null}this.sortedEdges=null}}},{key:"edgesAdjacent",value:function edgesAdjacent(t){return t.edge1.nextInSEL===t.edge2||t.edge1.prevInSEL===t.edge2}},{key:"fixupIntersectionOrder",value:function fixupIntersectionOrder(){this.intersectList.sort(this.intersectNodeComparer),this.copyAELToSEL();for(var t=this.intersectList.length,r=0;r<t;r++){if(!this.edgesAdjacent(this.intersectList[r])){for(var i=r+1;i<t&&!this.edgesAdjacent(this.intersectList[i]);)i++;if(i===t)return!1;var o=this.intersectList[r];this.intersectList[r]=this.intersectList[i],this.intersectList[i]=o}this.swapPositionsInSEL(this.intersectList[r].edge1,this.intersectList[r].edge2)}return!0}},{key:"processIntersectList",value:function processIntersectList(){for(var t=0,r=this.intersectList.length;t<r;t++){var i=this.intersectList[t];this.intersectEdges(i.edge1,i.edge2,i.point),this.swapPositionsInAEL(i.edge1,i.edge2)}this.intersectList.length=0}},{key:"intersectPoint",value:function intersectPoint(t,r,i){var o,a;if(i.x=0,i.y=0,t.dx===r.dx)return i.y=t.current.y,void(i.x=Clipper.topX(t,i.y));if(0===t.delta.x)i.x=t.bottom.x,u.x.isHorizontal(r)?i.y=r.bottom.y:(a=r.bottom.y-r.bottom.x/r.dx,i.y=Clipper.round(i.x/r.dx+a));else if(0===r.delta.x)i.x=r.bottom.x,u.x.isHorizontal(t)?i.y=t.bottom.y:(o=t.bottom.y-t.bottom.x/t.dx,i.y=Clipper.round(i.x/t.dx+o));else{o=t.bottom.x-t.bottom.y*t.dx;var l=((a=r.bottom.x-r.bottom.y*r.dx)-o)/(t.dx-r.dx);i.y=Clipper.round(l),Math.abs(t.dx)<Math.abs(r.dx)?i.x=Clipper.round(t.dx*l+o):i.x=Clipper.round(r.dx*l+a)}if(i.y<t.top.y||i.y<r.top.y){if(t.top.y>r.top.y)return i.y=t.top.y,i.x=Clipper.topX(r,t.top.y),i.x<t.top.x;i.y=r.top.y,Math.abs(t.dx)<Math.abs(r.dx)?i.x=Clipper.topX(t,i.y):i.x=Clipper.topX(r,i.y)}i.y>t.current.y&&(i.y=t.current.y,Math.abs(t.dx)>Math.abs(r.dx)?i.x=Clipper.topX(r,i.y):i.x=Clipper.topX(t,i.y))}},{key:"processEdgesAtTopOfScanbeam",value:function processEdgesAtTopOfScanbeam(t){for(var r=this.activeEdges;null!==r;){var i=this.isMaxima(r,t);if(i){var a=this.getMaximaPairEx(r);i=null===a||!u.x.isHorizontal(a)}if(i){this.strictlySimple&&this.insertMaxima(r.top.x);var l=r.prevInAEL;this.doMaxima(r),r=null===l?this.activeEdges:l.nextInAEL}else{if(this.isIntermediate(r,t)&&u.x.isHorizontal(r.nextInLML)?((r=this.updateEdgeIntoAEL(r)).outIndex>=0&&this.addOuterPoint(r,r.bottom),this.addEdgeToSEL(r)):(r.current.x=Clipper.topX(r,t),r.current.y=t),o.CB.USE_XYZ&&(r.top.y===t?r.current.z=r.top.z:r.bottom.y===t?r.current.z=r.bottom.z:r.current.z=0),this.strictlySimple){var c=r.prevInAEL;if(r.outIndex>=0&&0!==r.windDelta&&null!==c&&c.outIndex>=0&&c.current.x===r.current.x&&0!==c.windDelta){var p=new h.u(r.current);o.CB.USE_XYZ&&this.setZ(p,c,r);var y=this.addOuterPoint(c,p),v=this.addOuterPoint(r,p);this.addJoin(y,v,p)}}r=r.nextInAEL}}for(this.processHorizontals(),this.maxima=null,r=this.activeEdges;null!==r;){if(this.isIntermediate(r,t)){var d=null;r.outIndex>=0&&(d=this.addOuterPoint(r,r.top));var m=(r=this.updateEdgeIntoAEL(r)).prevInAEL,b=r.nextInAEL;if(null!==m&&m.current.x===r.bottom.x&&m.current.y===r.bottom.y&&null!==d&&m.outIndex>=0&&m.current.y===m.top.y&&u.x.slopesEqual(r.current,r.top,m.current,m.top,this.useFullRange)&&0!==r.windDelta&&0!==m.windDelta){var _=this.addOuterPoint(m,r.bottom);this.addJoin(d,_,r.top)}else if(null!==b&&b.current.x===r.bottom.x&&b.current.y===r.bottom.y&&null!==d&&b.outIndex>=0&&b.current.y===b.top.y&&u.x.slopesEqual(r.current,r.top,b.current,b.top,this.useFullRange)&&0!==r.windDelta&&0!==b.windDelta){var P=this.addOuterPoint(b,r.bottom);this.addJoin(d,P,r.top)}}r=r.nextInAEL}}},{key:"doMaxima",value:function doMaxima(t){var r=this.getMaximaPairEx(t);if(null===r)return t.outIndex>=0&&this.addOuterPoint(t,t.top),void this.deleteFromAEL(t);for(var i=t.nextInAEL;null!==i&&i!==r;)this.intersectEdges(t,i,t.top),this.swapPositionsInAEL(t,i),i=t.nextInAEL;if(-1===t.outIndex&&-1===r.outIndex)this.deleteFromAEL(t),this.deleteFromAEL(r);else if(t.outIndex>=0&&r.outIndex>=0)t.outIndex>=0&&this.addLocalMaxPoly(t,r,t.top),this.deleteFromAEL(t),this.deleteFromAEL(r);else{if(!o.CB.use_lines||0!==t.windDelta)throw new Error("DoMaxima error");t.outIndex>=0&&(this.addOuterPoint(t,t.top),t.outIndex=u.x.UNASSIGNED),this.deleteFromAEL(t),r.outIndex>=0&&(this.addOuterPoint(r,t.top),r.outIndex=u.x.UNASSIGNED),this.deleteFromAEL(r)}}},{key:"pointCount",value:function pointCount(t){if(null===t)return 0;var r=0,i=t;do{r++,i=i.next}while(i!==t);return r}},{key:"buildResult",value:function buildResult(t){if(t instanceof d.n){o.CB.clear(t);for(var r=0,i=this.outerPolygons.length;r<i;r++){var a=this.outerPolygons[r];if(null!==a.points){var u=a.points.prev,l=this.pointCount(u);if(!(l<2)){for(var c=new d.y(l),p=0;p<l;p++)c[p]=u.point,u=u.prev;t.push(c)}}}}else if(t){t.clear();for(var h=0,y=this.outerPolygons.length;h<y;h++){var v=this.outerPolygons[h],b=this.pointCount(v.points);if(!(v.isOpen&&b<2||!v.isOpen&&b<3)){this.fixHoleLinkage(v);var _=new m.A;t.allPolys.push(_),v.polyNode=_,_.polygon.length=b;for(var P=v.points.prev,g=0;g<b;g++)_.polygon[g]=P.point,P=P.prev}}for(var x=0,w=this.outerPolygons.length;x<w;x++){var O=this.outerPolygons[x];null!==O.polyNode&&(O.isOpen?(O.polyNode.isOpen=!0,t.addChild(O.polyNode)):null!==O.firstLeft&&null!==O.firstLeft.polyNode?O.firstLeft.polyNode.addChild(O.polyNode):t.addChild(O.polyNode))}}}},{key:"fixupOutPolyline",value:function fixupOutPolyline(t){for(var r=t.points,i=r.prev;r!==i;)if(r=r.next,h.u.op_Equality(r.point,r.prev.point)){r===i&&(i=r.prev);var o=r.prev;o.next=r.next,r.next.prev=o,r=o}r===r.prev&&(t.points=null)}},{key:"fixupOutPolygon",value:function fixupOutPolygon(t){var r=null;t.bottomPoint=null;for(var i=t.points,o=this.preserveCollinear||this.strictlySimple;;){if(i.prev===i||i.prev===i.next)return void(t.points=null);if(h.u.op_Equality(i.point,i.next.point)||h.u.op_Equality(i.point,i.prev.point)||u.x.slopesEqual(i.prev.point,i.point,i.next.point,this.useFullRange)&&(!o||!this.pt2IsBetweenPt1AndPt3(i.prev.point,i.point,i.next.point)))r=null,i.prev.next=i.next,i.next.prev=i.prev,i=i.prev;else{if(i===r)break;null===r&&(r=i),i=i.next}}t.points=i}},{key:"dupOutPoint",value:function dupOutPoint(t,r){var i=new v.sE;return i.point.x=t.point.x,i.point.y=t.point.y,o.CB.USE_XYZ&&(i.point.z=t.point.z),i.index=t.index,r?(i.next=t.next,i.prev=t,t.next.prev=i,t.next=i):(i.prev=t.prev,i.next=t,t.prev.next=i,t.prev=i),i}},{key:"getOverlap",value:function getOverlap(t,r,i,o,a){return t<r?i<o?(a.left=Math.max(t,i),a.right=Math.min(r,o)):(a.left=Math.max(t,o),a.right=Math.min(r,i)):i<o?(a.left=Math.max(r,i),a.right=Math.min(t,o)):(a.left=Math.max(r,o),a.right=Math.min(t,i)),a.left<a.right}},{key:"joinHorizontal",value:function joinHorizontal(t,r,i,a,u,l){var p=t.point.x>r.point.x?c.Nm.rightToLeft:c.Nm.leftToRight,y=i.point.x>a.point.x?c.Nm.rightToLeft:c.Nm.leftToRight;if(p===y)return!1;if(p===c.Nm.leftToRight){for(;t.next.point.x<=u.x&&t.next.point.x>=t.point.x&&t.next.point.y===u.y;)t=t.next;l&&t.point.x!==u.x&&(t=t.next),r=this.dupOutPoint(t,!l),h.u.op_Inequality(r.point,u)&&((t=r).point.x=u.x,t.point.y=u.y,o.CB.USE_XYZ&&(t.point.z=u.z),r=this.dupOutPoint(t,!l))}else{for(;t.next.point.x>=u.x&&t.next.point.x<=t.point.x&&t.next.point.y===u.y;)t=t.next;l||t.point.x===u.x||(t=t.next),r=this.dupOutPoint(t,l),h.u.op_Inequality(r.point,u)&&((t=r).point.x=u.x,t.point.y=u.y,o.CB.USE_XYZ&&(t.point.z=u.z),r=this.dupOutPoint(t,l))}if(y===c.Nm.leftToRight){for(;i.next.point.x<=u.x&&i.next.point.x>=i.point.x&&i.next.point.y===u.y;)i=i.next;l&&i.point.x!==u.x&&(i=i.next),a=this.dupOutPoint(i,!l),h.u.op_Inequality(a.point,u)&&((i=a).point.x=u.x,i.point.y=u.y,o.CB.USE_XYZ&&(i.point.z=u.z),a=this.dupOutPoint(i,!l))}else{for(;i.next.point.x>=u.x&&i.next.point.x<=i.point.x&&i.next.point.y===u.y;)i=i.next;l||i.point.x===u.x||(i=i.next),a=this.dupOutPoint(i,l),h.u.op_Inequality(a.point,u)&&((i=a).point.x=u.x,i.point.y=u.y,o.CB.USE_XYZ&&(i.point.z=u.z),a=this.dupOutPoint(i,l))}return p===c.Nm.leftToRight===l?(t.prev=i,i.next=t,r.next=a,a.prev=r):(t.next=i,i.prev=t,r.prev=a,a.next=r),!0}},{key:"joinPoints",value:function joinPoints(t,r,i){var a=t.outerPoint1,l=new v.sE,c=t.outerPoint2,p=new v.sE,y=t.outerPoint1.point.y===t.offPoint.y;if(y&&h.u.op_Equality(t.offPoint,t.outerPoint1.point)&&h.u.op_Equality(t.offPoint,t.outerPoint2.point)){if(r!==i)return!1;for(l=t.outerPoint1.next;l!==a&&h.u.op_Equality(l.point,t.offPoint);)l=l.next;var d=l.point.y>t.offPoint.y;for(p=t.outerPoint2.next;p!==c&&h.u.op_Equality(p.point,t.offPoint);)p=p.next;return d!==p.point.y>t.offPoint.y&&(d?(l=this.dupOutPoint(a,!1),p=this.dupOutPoint(c,!0),a.prev=c,c.next=a,l.next=p,p.prev=l,t.outerPoint1=a,t.outerPoint2=l,!0):(l=this.dupOutPoint(a,!0),p=this.dupOutPoint(c,!1),a.next=c,c.prev=a,l.prev=p,p.next=l,t.outerPoint1=a,t.outerPoint2=l,!0))}if(y){for(l=a;a.prev.point.y===a.point.y&&a.prev!==l&&a.prev!==c;)a=a.prev;for(;l.next.point.y===l.point.y&&l.next!==a&&l.next!==c;)l=l.next;if(l.next===a||l.next===c)return!1;for(p=c;c.prev.point.y===c.point.y&&c.prev!==p&&c.prev!==l;)c=c.prev;for(;p.next.point.y===p.point.y&&p.next!==c&&p.next!==a;)p=p.next;if(p.next===c||p.next===a)return!1;var m={left:null,right:null};if(!this.getOverlap(a.point.x,l.point.x,c.point.x,p.point.x,m))return!1;var b,_=m.left,P=m.right,g=new h.u;return a.point.x>=_&&a.point.x<=P?(g.x=a.point.x,g.y=a.point.y,o.CB.USE_XYZ&&(g.z=a.point.z),b=a.point.x>l.point.x):c.point.x>=_&&c.point.x<=P?(g.x=c.point.x,g.y=c.point.y,o.CB.USE_XYZ&&(g.z=c.point.z),b=c.point.x>p.point.x):l.point.x>=_&&l.point.x<=P?(g.x=l.point.x,g.y=l.point.y,o.CB.USE_XYZ&&(g.z=l.point.z),b=l.point.x>a.point.x):(g.x=p.point.x,g.y=p.point.y,o.CB.USE_XYZ&&(g.z=p.point.z),b=p.point.x>c.point.x),t.outerPoint1=a,t.outerPoint2=c,this.joinHorizontal(a,l,c,p,g,b)}for(l=a.next;h.u.op_Equality(l.point,a.point)&&l!==a;)l=l.next;var x=l.point.y>a.point.y||!u.x.slopesEqual(a.point,l.point,t.offPoint,this.useFullRange);if(x){for(l=a.prev;h.u.op_Equality(l.point,a.point)&&l!==a;)l=l.prev;if(l.point.y>a.point.y||!u.x.slopesEqual(a.point,l.point,t.offPoint,this.useFullRange))return!1}for(p=c.next;h.u.op_Equality(p.point,c.point)&&p!==c;)p=p.next;var w=p.point.y>c.point.y||!u.x.slopesEqual(c.point,p.point,t.offPoint,this.useFullRange);if(w){for(p=c.prev;h.u.op_Equality(p.point,c.point)&&p!==c;)p=p.prev;if(p.point.y>c.point.y||!u.x.slopesEqual(c.point,p.point,t.offPoint,this.useFullRange))return!1}return l!==a&&p!==c&&l!==p&&(r!==i||x!==w)&&(x?(l=this.dupOutPoint(a,!1),p=this.dupOutPoint(c,!0),a.prev=c,c.next=a,l.next=p,p.prev=l,t.outerPoint1=a,t.outerPoint2=l,!0):(l=this.dupOutPoint(a,!0),p=this.dupOutPoint(c,!1),a.next=c,c.prev=a,l.prev=p,p.next=l,t.outerPoint1=a,t.outerPoint2=l,!0))}},{key:"pointInPolygon",value:function pointInPolygon(t,r){var i=0,o=r,a=t.x,u=t.y,l=r.point.x,c=r.point.y;do{var p=(r=r.next).point.x,h=r.point.y;if(h===u&&(p===a||c===u&&p>a==l<a))return-1;if(c<u!=h<u)if(l>=a)if(p>a)i=1-i;else{var y=(l-a)*(h-u)-(p-a)*(c-u);if(0===y)return-1;y>0==h>c&&(i=1-i)}else if(p>a){var v=(l-a)*(h-u)-(p-a)*(c-u);if(0===v)return-1;v>0==h>c&&(i=1-i)}l=p,c=h}while(o!==r);return i}},{key:"polygon2ContainsPoly1",value:function polygon2ContainsPoly1(t,r){var i=t;do{var o=this.pointInPolygon(i.point,r);if(o>=0)return o>0;i=i.next}while(i!==t);return!0}},{key:"fixupFirstLefts1",value:function fixupFirstLefts1(t,r){for(var i,o,a=0,u=this.outerPolygons.length;a<u;a++)i=this.outerPolygons[a],o=Clipper.parseFirstLeft(i.firstLeft),null!==i.points&&o===t&&this.polygon2ContainsPoly1(i.points,r.points)&&(i.firstLeft=r)}},{key:"fixupFirstLefts2",value:function fixupFirstLefts2(t,r){for(var i,o,a=r.firstLeft,u=0,l=this.outerPolygons.length;u<l;u++)null!==(i=this.outerPolygons[u]).points&&i!==r&&i!==t&&((o=Clipper.parseFirstLeft(i.firstLeft))!==a&&o!==t&&o!==r||(this.polygon2ContainsPoly1(i.points,t.points)?i.firstLeft=t:this.polygon2ContainsPoly1(i.points,r.points)?i.firstLeft=r:i.firstLeft!==t&&i.firstLeft!==r||(i.firstLeft=a)))}},{key:"fixupFirstLefts3",value:function fixupFirstLefts3(t,r){for(var i,o,a=0,u=this.outerPolygons.length;a<u;a++)i=this.outerPolygons[a],o=Clipper.parseFirstLeft(i.firstLeft),null!==i.points&&o===t&&(i.firstLeft=r)}},{key:"joinCommonEdges",value:function joinCommonEdges(){for(var t=0,r=this.joins.length;t<r;t++){var i=this.joins[t],o=this.getOutRec(i.outerPoint1.index),a=this.getOutRec(i.outerPoint2.index);if(null!==o.points&&null!==a.points&&(!o.isOpen&&!a.isOpen)){var u=void 0;u=o===a?o:this.outerRectangle1RightOfOutRec2(o,a)?a:this.outerRectangle1RightOfOutRec2(a,o)?o:this.getLowermostRec(o,a),this.joinPoints(i,o,a)&&(o===a?(o.points=i.outerPoint1,o.bottomPoint=null,(a=this.createOuterRectangle()).points=i.outerPoint2,this.updateOutPointIndexes(a),this.polygon2ContainsPoly1(a.points,o.points)?(a.isHole=!o.isHole,a.firstLeft=o,this.usingPolygonTree&&this.fixupFirstLefts2(a,o),(+a.isHole^+this.reverseSolution)==+(this.area(a.points)>0)&&this.reversePolyPointLinks(a.points)):this.polygon2ContainsPoly1(o.points,a.points)?(a.isHole=o.isHole,o.isHole=!a.isHole,a.firstLeft=o.firstLeft,o.firstLeft=a,this.usingPolygonTree&&this.fixupFirstLefts2(o,a),(+o.isHole^+this.reverseSolution)==+(this.area(o.points)>0)&&this.reversePolyPointLinks(o.points)):(a.isHole=o.isHole,a.firstLeft=o.firstLeft,this.usingPolygonTree&&this.fixupFirstLefts1(o,a))):(a.points=null,a.bottomPoint=null,a.index=o.index,o.isHole=u.isHole,u===a&&(o.firstLeft=a.firstLeft),a.firstLeft=o,this.usingPolygonTree&&this.fixupFirstLefts3(a,o)))}}}},{key:"updateOutPointIndexes",value:function updateOutPointIndexes(t){var r=t.points;do{r.index=t.index,r=r.prev}while(r!==t.points)}},{key:"doSimplePolygons",value:function doSimplePolygons(){for(var t=0;t<this.outerPolygons.length;){var r=this.outerPolygons[t++],i=r.points;if(null!==i&&!r.isOpen)do{for(var o=i.next;o!==r.points;){if(h.u.op_Equality(i.point,o.point)&&o.next!==i&&o.prev!==i){var a=i.prev,u=o.prev;i.prev=u,u.next=i,o.prev=a,a.next=o,r.points=i;var l=this.createOuterRectangle();l.points=o,this.updateOutPointIndexes(l),this.polygon2ContainsPoly1(l.points,r.points)?(l.isHole=!r.isHole,l.firstLeft=r,this.usingPolygonTree&&this.fixupFirstLefts2(l,r)):this.polygon2ContainsPoly1(r.points,l.points)?(l.isHole=r.isHole,r.isHole=!l.isHole,l.firstLeft=r.firstLeft,r.firstLeft=l,this.usingPolygonTree&&this.fixupFirstLefts2(r,l)):(l.isHole=r.isHole,l.firstLeft=r.firstLeft,this.usingPolygonTree&&this.fixupFirstLefts1(r,l)),o=i}o=o.next}i=i.next}while(i!==r.points)}}},{key:"area",value:function area(t){var r=t;if(null===t)return 0;var i=0;do{i+=(t.prev.point.x+t.point.x)*(t.prev.point.y-t.point.y),t=t.next}while(t!==r);return.5*i}},{key:"areaFunction",value:function areaFunction(t){return this.area(t.points)}}],[{key:"swapSides",value:function swapSides(t,r){var i=t.side;t.side=r.side,r.side=i}},{key:"swapPolyIndexes",value:function swapPolyIndexes(t,r){var i=t.outIndex;t.outIndex=r.outIndex,r.outIndex=i}},{key:"intersectNodeSort",value:function intersectNodeSort(t,r){return r.point.y-t.point.y}},{key:"topX",value:function topX(t,r){return r===t.top.y?t.top.x:t.bottom.x+Clipper.round(t.dx*(r-t.bottom.y))}},{key:"reversePaths",value:function reversePaths(t){for(var r=0,i=t.length;r<i;r++)t[r].reverse()}},{key:"orientation",value:function orientation(t){return Clipper.area(t)>=0}},{key:"getBounds",value:function getBounds(t){if(t instanceof d.n){for(var r=t.length,i=0;i<r&&0===t[i].length;)i++;if(i===r)return new y.Z(0,0,0,0);var o=new y.Z;for(o.left=t[i][0].x,o.right=o.left,o.top=t[i][0].y,o.bottom=o.top;i<r;i++)for(var a=0,u=t[i].length;a<u;a++)t[i][a].x<o.left?o.left=t[i][a].x:t[i][a].x>o.right&&(o.right=t[i][a].x),t[i][a].y<o.top?o.top=t[i][a].y:t[i][a].y>o.bottom&&(o.bottom=t[i][a].y);return o}var l=t,c=new y.Z;for(c.left=t.point.x,c.right=t.point.x,c.top=t.point.y,c.bottom=t.point.y,t=t.next;t!==l;)t.point.x<c.left&&(c.left=t.point.x),t.point.x>c.right&&(c.right=t.point.x),t.point.y<c.top&&(c.top=t.point.y),t.point.y>c.bottom&&(c.bottom=t.point.y),t=t.next;return c}},{key:"pointInPolygon",value:function pointInPolygon(t,r){var i=r.length,o=0;if(i<3)return 0;for(var a=r[0],u=1;u<=i;++u){var l=u===i?r[0]:r[u];if(l.y===t.y&&(l.x===t.x||a.y===t.y&&l.x>t.x==a.x<t.x))return-1;if(a.y<t.y!=l.y<t.y)if(a.x>=t.x)if(l.x>t.x)o=1-o;else{var c=(a.x-t.x)*(l.y-t.y)-(l.x-t.x)*(a.y-t.y);if(0===c)return-1;c>0==l.y>a.y&&(o=1-o)}else if(l.x>t.x){var p=(a.x-t.x)*(l.y-t.y)-(l.x-t.x)*(a.y-t.y);if(0===p)return-1;p>0==l.y>a.y&&(o=1-o)}a=l}return o}},{key:"parseFirstLeft",value:function parseFirstLeft(t){for(;null!==t&&null===t.points;)t=t.firstLeft;return t}},{key:"area",value:function area(t){if(!Array.isArray(t))return 0;var r=t.length;if(r<3)return 0;for(var i=0,o=0,a=r-1;o<r;++o)i+=(t[a].x+t[o].x)*(t[a].y-t[o].y),a=o;return.5*-i}},{key:"simplifyPolygon",value:function simplifyPolygon(t,r){var i=new d.n,o=new Clipper(0);return o.strictlySimple=!0,o.addPath(t,c.pr.subject,!0),o.execute(c.NJ.union,i,r,r),i}},{key:"simplifyPolygons",value:function simplifyPolygons(t,r){void 0===r&&(r=c.Xk.evenOdd);var i=new d.n,o=new Clipper(0);return o.strictlySimple=!0,o.addPaths(t,c.pr.subject,!0),o.execute(c.NJ.union,i,r,r),i}},{key:"distanceSquared",value:function distanceSquared(t,r){var i=t.x-r.x,o=t.y-r.y;return i*i+o*o}},{key:"distanceFromLineSquared",value:function distanceFromLineSquared(t,r,i){var o=r.y-i.y,a=i.x-r.x,u=o*r.x+a*r.y;return(u=o*t.x+a*t.y-u)*u/(o*o+a*a)}},{key:"slopesNearCollinear",value:function slopesNearCollinear(t,r,i,o){return Math.abs(t.x-r.x)>Math.abs(t.y-r.y)?t.x>r.x==t.x<i.x?Clipper.distanceFromLineSquared(t,r,i)<o:r.x>t.x==r.x<i.x?Clipper.distanceFromLineSquared(r,t,i)<o:Clipper.distanceFromLineSquared(i,t,r)<o:t.y>r.y==t.y<i.y?Clipper.distanceFromLineSquared(t,r,i)<o:r.y>t.y==r.y<i.y?Clipper.distanceFromLineSquared(r,t,i)<o:Clipper.distanceFromLineSquared(i,t,r)<o}},{key:"pointsAreClose",value:function pointsAreClose(t,r,i){var o=t.x-r.x,a=t.y-r.y;return o*o+a*a<=i}},{key:"excludeOutPoint",value:function excludeOutPoint(t){var r=t.prev;return r.next=t.next,t.next.prev=r,r.index=0,r}},{key:"cleanPolygon",value:function cleanPolygon(t,r){void 0===r&&(r=1.415);var i=t.length;if(0===i)return[];for(var o=new Array(i),a=0;a<i;++a)o[a]=new v.sE;for(var u=0;u<i;++u)o[u].point=t[u],o[u].next=o[(u+1)%i],o[u].next.prev=o[u],o[u].index=0;for(var l=r*r,c=o[0];0===c.index&&c.next!==c.prev;)Clipper.pointsAreClose(c.point,c.prev.point,l)?(c=Clipper.excludeOutPoint(c),i--):Clipper.pointsAreClose(c.prev.point,c.next.point,l)?(Clipper.excludeOutPoint(c.next),c=Clipper.excludeOutPoint(c),i-=2):Clipper.slopesNearCollinear(c.prev.point,c.point,c.next.point,l)?(c=Clipper.excludeOutPoint(c),i--):(c.index=1,c=c.next);i<3&&(i=0);for(var p=new Array(i),y=0;y<i;++y)p[y]=new h.u(c.point),c=c.next;return o=null,p}},{key:"cleanPolygons",value:function cleanPolygons(t,r){for(var i=new Array(t.length),o=0,a=t.length;o<a;o++)i[o]=Clipper.cleanPolygon(t[o],r);return i}},{key:"minkowski",value:function minkowski(t,r,i,o){var a=o?1:0,u=t.length,l=r.length,c=new d.n;if(i)for(var p=0;p<l;p++){for(var y=new Array(u),v=0,m=t.length,b=t[v];v<m;b=t[++v])y[v]=new h.u(r[p].x+b.x,r[p].y+b.y);c.push(y)}else for(var _=0;_<l;_++){for(var P=new Array(u),g=0,x=t.length,w=t[g];g<x;w=t[++g])P[g]=new h.u(r[_].x-w.x,r[_].y-w.y);c.push(P)}for(var O=new d.n,S=0;S<l-1+a;S++)for(var C=0;C<u;C++){var T=[];T.push(c[S%l][C%u]),T.push(c[(S+1)%l][C%u]),T.push(c[(S+1)%l][(C+1)%u]),T.push(c[S%l][(C+1)%u]),Clipper.orientation(T)||T.reverse(),O.push(T)}return O}},{key:"minkowskiSum",value:function minkowskiSum(t,r,i){if(r[0]instanceof Array){for(var o=r,a=new d.n,u=new Clipper,l=0;l<o.length;++l){var p=Clipper.minkowski(t,o[l],!0,i);if(u.addPaths(p,c.pr.subject,!0),i){var h=Clipper.translatePath(o[l],t[0]);u.addPath(h,c.pr.clip,!0)}}return u.execute(c.NJ.union,a,c.Xk.nonZero,c.Xk.nonZero),a}var y=r,v=Clipper.minkowski(t,y,!0,i),m=new Clipper;return m.addPaths(v,c.pr.subject,!0),m.execute(c.NJ.union,v,c.Xk.nonZero,c.Xk.nonZero),v}},{key:"translatePath",value:function translatePath(t,r){for(var i=new d.y,o=0;o<t.length;o++)i.push(new h.u(t[o].x+r.x,t[o].y+r.y));return i}},{key:"minkowskiDiff",value:function minkowskiDiff(t,r){var i=Clipper.minkowski(t,r,!1,!0),o=new Clipper;return o.addPaths(i,c.pr.subject,!0),o.execute(c.NJ.union,i,c.Xk.nonZero,c.Xk.nonZero),i}},{key:"polygonTreeToPaths",value:function polygonTreeToPaths(t){var r=new d.n;return Clipper.addPolyNodeToPaths(t,c.Jq.any,r),r}},{key:"addPolyNodeToPaths",value:function addPolyNodeToPaths(t,r,i){var o=!0;switch(r){case c.Jq.open:return;case c.Jq.closed:o=!t.isOpen}t.polygon.length>0&&o&&i.push(t.polygon);for(var a=0,u=t.children,l=u.length,p=u[a];a<l;p=u[++a])Clipper.addPolyNodeToPaths(p,r,i)}},{key:"openPathsFromPolyTree",value:function openPathsFromPolyTree(t){for(var r=new d.n,i=0,o=t.childCount();i<o;i++)t.children[i].isOpen&&r.push(t.children[i].polygon);return r}},{key:"closedPathsFromPolyTree",value:function closedPathsFromPolyTree(t){var r=new d.n;return Clipper.addPolyNodeToPaths(t,c.Jq.closed,r),r}}]),Clipper}(u.x);_defineProperty(b,"ioReverseSolution",1),_defineProperty(b,"ioStrictlySimple",2),_defineProperty(b,"ioPreserveCollinear",4),_defineProperty(b,"round",a.X.msie?function(t){return t<0?Math.ceil(t-.5):Math.round(t)}:a.X.chromium?function(t){return t<0?-Math.round(Math.abs(t)):Math.round(t)}:a.X.safari?function(t){return t<0?t-.5<-2147483648?Math.ceil(t-.5):t-.5|0:t+.5>2147483647?Math.floor(t+.5):t+.5|0}:function(t){return t<0?Math.ceil(t-.5):Math.floor(t+.5)})},497:(t,r,i)=>{function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(a=o.key,u=void 0,u=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(a,"string"),"symbol"===_typeof(u)?u:String(u)),o)}var a,u}i.d(r,{x:()=>R});var o=function(){function Classic(t){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Classic),this.m=t}return function _createClass(t,r,i){return r&&_defineProperties(t.prototype,r),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(Classic,[{key:"convert",value:function convert(t){return t.s<0||t.compareTo(this.m)>=0?t.mod(this.m):t}},{key:"revert",value:function revert(t){return t}},{key:"reduce",value:function reduce(t){t.divRemTo(this.m,null,t)}},{key:"mulTo",value:function mulTo(t,r,i){t.multiplyTo(r,i),this.reduce(i)}},{key:"sqrTo",value:function sqrTo(t,r){t.squareTo(r),this.reduce(r)}}]),Classic}();function Montgomery_typeof(t){return Montgomery_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Montgomery_typeof(t)}function Montgomery_defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(a=o.key,u=void 0,u=function Montgomery_toPrimitive(t,r){if("object"!==Montgomery_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==Montgomery_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(a,"string"),"symbol"===Montgomery_typeof(u)?u:String(u)),o)}var a,u}var a,u,l=function(){function Montgomery(t){!function Montgomery_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Montgomery),this.m=t,this.mp=t.invDigit(),this.mpl=32767&this.mp,this.mph=this.mp>>15,this.um=(1<<t.DB-15)-1,this.mt2=2*t.t}return function Montgomery_createClass(t,r,i){return r&&Montgomery_defineProperties(t.prototype,r),i&&Montgomery_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(Montgomery,[{key:"convert",value:function convert(t){var r=S();return t.abs().dlShiftTo(this.m.t,r),r.divRemTo(this.m,null,r),t.s<0&&r.compareTo(T.ZERO)>0&&this.m.subTo(r,r),r}},{key:"revert",value:function revert(t){var r=S();return t.copyTo(r),this.reduce(r),r}},{key:"reduce",value:function reduce(t){for(;t.t<=this.mt2;)t[t.t++]=0;for(var r=0;r<this.m.t;++r){var i=32767&t[r],o=i*this.mpl+((i*this.mph+(t[r]>>15)*this.mpl&this.um)<<15)&t.DM;for(t[i=r+this.m.t]+=this.m.am(0,o,t,r,0,this.m.t);t[i]>=t.DV;)t[i]-=t.DV,t[++i]++}t.clamp(),t.drShiftTo(this.m.t,t),t.compareTo(this.m)>=0&&t.subTo(this.m,t)}},{key:"sqrTo",value:function sqrTo(t,r){t.squareTo(r),this.reduce(r)}},{key:"mulTo",value:function mulTo(t,r,i){t.multiplyTo(r,i),this.reduce(i)}}]),Montgomery}(),c=function op_and(t,r){return t&r},p=function op_or(t,r){return t|r},h=function op_xor(t,r){return t^r},y=function op_andNot(t,r){return t&~r},v=[];for(a="0".charCodeAt(0),u=0;u<=9;++u)v[a++]=u;for(a="a".charCodeAt(0),u=10;u<36;++u)v[a++]=u;for(a="A".charCodeAt(0),u=10;u<36;++u)v[a++]=u;var d=function int2char(t){return"0123456789abcdefghijklmnopqrstuvwxyz".charAt(t)},m=function intAt(t,r){var i=v[t.charCodeAt(r)];return null==i?-1:i},b=function nBits(t){var r,i=1;return 0!=(r=t>>>16)&&(t=r,i+=16),0!=(r=t>>8)&&(t=r,i+=8),0!=(r=t>>4)&&(t=r,i+=4),0!=(r=t>>2)&&(t=r,i+=2),0!=(r=t>>1)&&(t=r,i+=1),i},_=function lBit(t){if(0==t)return-1;var r=0;return 0==(65535&t)&&(t>>=16,r+=16),0==(255&t)&&(t>>=8,r+=8),0==(15&t)&&(t>>=4,r+=4),0==(3&t)&&(t>>=2,r+=2),0==(1&t)&&++r,r},P=function cBit(t){for(var r=0;0!=t;)t&=t-1,++r;return r};function BigInteger_typeof(t){return BigInteger_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},BigInteger_typeof(t)}function BigInteger_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function BigInteger_defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,BigInteger_toPropertyKey(o.key),o)}}function BigInteger_createClass(t,r,i){return r&&BigInteger_defineProperties(t.prototype,r),i&&BigInteger_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}function _createSuper(t){var r=_isNativeReflectConstruct();return function _createSuperInternal(){var i,o=_getPrototypeOf(t);if(r){var a=_getPrototypeOf(this).constructor;i=Reflect.construct(o,arguments,a)}else i=o.apply(this,arguments);return function _possibleConstructorReturn(t,r){if(r&&("object"===BigInteger_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}(this,i)}}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _wrapNativeSuper(t){var r="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function _wrapNativeSuper(t){if(null===t||!function _isNativeFunction(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,Wrapper)}function Wrapper(){return _construct(t,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(t.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,t)},_wrapNativeSuper(t)}function _construct(t,r,i){return _construct=_isNativeReflectConstruct()?Reflect.construct.bind():function _construct(t,r,i){var o=[null];o.push.apply(o,r);var a=new(Function.bind.apply(t,o));return i&&_setPrototypeOf(a,i.prototype),a},_construct.apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function _setPrototypeOf(t,r){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){return t.__proto__=r,t},_setPrototypeOf(t,r)}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _defineProperty(t,r,i){return(r=BigInteger_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function BigInteger_toPropertyKey(t){var r=function BigInteger_toPrimitive(t,r){if("object"!==BigInteger_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==BigInteger_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===BigInteger_typeof(r)?r:String(r)}var g,x=[2,3,5,7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997],w=(1<<26)/x[x.length-1],O=navigator.appName;g="Microsoft Internet Explorer"==O?30:"Netscape"!=O?26:28;var S=function nbi(){return new T(null,void 0,void 0)},C=function nbv(t){var r=S();return r.fromInt(t),r},T=function(t){_inherits(BigInteger,t);var r=_createSuper(BigInteger);function BigInteger(t,i,o){var a;return BigInteger_classCallCheck(this,BigInteger),_defineProperty(_assertThisInitialized(a=r.call(this)),"DB",g),_defineProperty(_assertThisInitialized(a),"DM",(1<<g)-1),_defineProperty(_assertThisInitialized(a),"DV",1<<g),_defineProperty(_assertThisInitialized(a),"FV",Math.pow(2,52)),_defineProperty(_assertThisInitialized(a),"F1",52-g),_defineProperty(_assertThisInitialized(a),"F2",2*g-52),!0,null!=t&&("number"!=typeof t||i?"number"==typeof t?a.fromNumber(t,i,o):null===i&&"string"!=typeof t?a.fromString(t,256):a.fromString(t,i):a.fromInt(t)),a.am="Microsoft Internet Explorer"==O?a.am2:"Netscape"!=O?a.am1:a.am3,a}return BigInteger_createClass(BigInteger,[{key:"fromInt",value:function fromInt(t){this.t=1,this.s=t<0?-1:0,t>0?this[0]=t:t<-1?this[0]=t+this.DV:this.t=0}},{key:"fromNumber",value:function fromNumber(t,r,i){if(t<2)this.fromInt(1);else for(this.fromNumber(t,i),this.testBit(t-1)||this.bitwiseTo(BigInteger.ONE.shiftLeft(t-1),p,this),this.isEven()&&this.dAddOffset(1,0);!this.isProbablePrime(r);)this.dAddOffset(2,0),this.bitLength()>t&&this.subTo(BigInteger.ONE.shiftLeft(t-1),this)}},{key:"copyTo",value:function copyTo(t){for(var r=this.t-1;r>=0;--r)t[r]=this[r];t.t=this.t,t.s=this.s}},{key:"fromString",value:function fromString(t,r){var i;if(16==r)i=4;else if(8==r)i=3;else if(256==r)i=8;else if(2==r)i=1;else if(32==r)i=5;else{if(4!=r)return void this.fromRadix(t,r);i=2}this.t=0,this.s=0;for(var o=t.length,a=!1,u=0;--o>=0;){var l=8==i?255&parseInt(t[o]):m(t,o);l<0?"-"==t.charAt(o)&&(a=!0):(a=!1,0==u?this[this.t++]=l:u+i>this.DB?(this[this.t-1]|=(l&(1<<this.DB-u)-1)<<u,this[this.t++]=l>>this.DB-u):this[this.t-1]|=l<<u,(u+=i)>=this.DB&&(u-=this.DB))}8==i&&0!=(128&parseInt(t[0]))&&(this.s=-1,u>0&&(this[this.t-1]|=(1<<this.DB-u)-1<<u)),this.clamp(),a&&BigInteger.ZERO.subTo(this,this)}},{key:"clamp",value:function clamp(){for(var t=this.s&this.DM;this.t>0&&this[this.t-1]==t;)--this.t}},{key:"dlShiftTo",value:function dlShiftTo(t,r){for(var i=this.t-1;i>=0;--i)r[i+t]=this[i];for(var o=t-1;o>=0;--o)r[o]=0;r.t=this.t+t,r.s=this.s}},{key:"drShiftTo",value:function drShiftTo(t,r){for(var i=t;i<this.t;++i)r[i-t]=this[i];r.t=Math.max(this.t-t,0),r.s=this.s}},{key:"lShiftTo",value:function lShiftTo(t,r){for(var i=t%this.DB,o=this.DB-i,a=(1<<o)-1,u=Math.floor(t/this.DB),l=this.s<<i&this.DM,c=this.t-1;c>=0;--c)r[c+u+1]=this[c]>>o|l,l=(this[c]&a)<<i;for(var p=u-1;p>=0;--p)r[p]=0;r[u]=l,r.t=this.t+u+1,r.s=this.s,r.clamp()}},{key:"rShiftTo",value:function rShiftTo(t,r){r.s=this.s;var i=Math.floor(t/this.DB);if(i>=this.t)r.t=0;else{var o=t%this.DB,a=this.DB-o,u=(1<<o)-1;r[0]=this[i]>>o;for(var l=i+1;l<this.t;++l)r[l-i-1]|=(this[l]&u)<<a,r[l-i]=this[l]>>o;o>0&&(r[this.t-i-1]|=(this.s&u)<<a),r.t=this.t-i,r.clamp()}}},{key:"shiftTo",value:function shiftTo(t,r){r.s=this.s;var i=Math.floor(t/this.DB);if(i>=this.t)r.t=0;else{var o=t%this.DB,a=this.DB-o,u=(1<<o)-1;r[0]=this[i]>>o;for(var l=i+1;l<this.t;++l)r[l-i-1]|=(this[l]&u)<<a,r[l-i]=this[l]>>o;o>0&&(r[this.t-i-1]|=(this.s&u)<<a),r.t=this.t-i,r.clamp()}}},{key:"subTo",value:function subTo(t,r){for(var i=Math.min(t.t,this.t),o=0,a=0;o<i;)a+=this[o]-t[o],r[o++]=a&this.DM,a>>=this.DB;if(t.t<this.t){for(a-=t.s;o<this.t;)a+=this[o],r[o++]=a&this.DM,a>>=this.DB;a+=this.s}else{for(a+=this.s;o<t.t;)a-=t[o],r[o++]=a&this.DM,a>>=this.DB;a-=t.s}r.s=a<0?-1:0,a<-1?r[o++]=this.DV+a:a>0&&(r[o++]=a),r.t=o,r.clamp()}},{key:"multiplyTo",value:function multiplyTo(t,r){var i=this.abs(),o=t.abs(),a=i.t;for(r.t=a+o.t;--a>=0;)r[a]=0;for(a=0;a<o.t;++a)r[a+i.t]=i.am(0,o[a],r,a,0,i.t);r.s=0,r.clamp(),this.s!=t.s&&BigInteger.ZERO.subTo(r,r)}},{key:"squareTo",value:function squareTo(t){for(var r=this.abs(),i=t.t=2*r.t;--i>=0;)t[i]=0;for(i=0;i<r.t-1;++i){var o=r.am(i,r[i],t,2*i,0,1);(t[i+r.t]+=r.am(i+1,2*r[i],t,2*i+1,o,r.t-i-1))>=r.DV&&(t[i+r.t]-=r.DV,t[i+r.t+1]=1)}t.t>0&&(t[t.t-1]+=r.am(i,r[i],t,2*i,0,1)),t.s=0,t.clamp()}},{key:"divRemTo",value:function divRemTo(t,r,i){var o=t.abs();if(!(o.t<=0)){var a=this.abs();if(a.t<o.t)return null!=r&&r.fromInt(0),void(null!=i&&this.copyTo(i));null==i&&(i=S());var u=S(),l=this.s,c=t.s,p=this.DB-b(o[o.t-1]);p>0?(o.lShiftTo(p,u),a.lShiftTo(p,i)):(o.copyTo(u),a.copyTo(i));var h=u.t,y=u[h-1];if(0!=y){var v=y*(1<<this.F1)+(h>1?u[h-2]>>this.F2:0),d=this.FV/v,m=(1<<this.F1)/v,_=1<<this.F2,P=null==r?S():r,g=i.t,x=g-h;for(u.dlShiftTo(x,P),i.compareTo(P)>=0&&(i[i.t++]=1,i.subTo(P,i)),BigInteger.ONE.dlShiftTo(h,P),P.subTo(u,u);u.t<h;)u[u.t++]=0;for(;--x>=0;){var w=i[--g]==y?this.DM:Math.floor(i[g]*d+(i[g-1]+_)*m);if((i[g]+=u.am(0,w,i,x,0,h))<w)for(u.dlShiftTo(x,P),i.subTo(P,i);i[g]<--w;)i.subTo(P,i)}null!=r&&(i.drShiftTo(h,r),l!=c&&BigInteger.ZERO.subTo(r,r)),i.t=h,i.clamp(),p>0&&i.rShiftTo(p,i),l<0&&BigInteger.ZERO.subTo(i,i)}}}},{key:"invDigit",value:function invDigit(){if(this.t<1)return 0;var t=this[0];if(0==(1&t))return 0;var r=3&t;return(r=(r=(r=(r=r*(2-(15&t)*r)&15)*(2-(255&t)*r)&255)*(2-((65535&t)*r&65535))&65535)*(2-t*r%this.DV)%this.DV)>0?this.DV-r:-r}},{key:"addTo",value:function addTo(t,r){for(var i=0,o=0,a=Math.min(t.t,this.t);i<a;)o+=this[i]+t[i],r[i++]=o&this.DM,o>>=this.DB;if(t.t<this.t){for(o+=t.s;i<this.t;)o+=this[i],r[i++]=o&this.DM,o>>=this.DB;o+=this.s}else{for(o+=this.s;i<t.t;)o+=t[i],r[i++]=o&this.DM,o>>=this.DB;o+=t.s}r.s=o<0?-1:0,o>0?r[i++]=o:o<-1&&(r[i++]=this.DV+o),r.t=i,r.clamp()}},{key:"isEven",value:function isEven(){return 0==(this.t>0?1&this[0]:this.s)}},{key:"exp",value:function exp(t,r){if(t>4294967295||t<1)return BigInteger.ONE;var i=r.convert(this),o=S(),a=S(),u=b(t)-1;for(i.copyTo(o);--u>=0;)if(r.sqrTo(o,a),(t&1<<u)>0)r.mulTo(a,i,o);else{var l=o;o=a,a=l}return r.revert(o)}},{key:"clone",value:function clone(){var t=S();return this.copyTo(t),t}},{key:"intValue",value:function intValue(){if(this.s<0){if(1==this.t)return this[0]-this.DV;if(0==this.t)return-1}else{if(1==this.t)return this[0];if(0==this.t)return 0}return(this[1]&(1<<32-this.DB)-1)<<this.DB|this[0]}},{key:"byteValue",value:function byteValue(){return 0==this.t?this.s:this[0]<<24>>24}},{key:"shortValue",value:function shortValue(){return 0==this.t?this.s:this[0]<<16>>16}},{key:"chunkSize",value:function chunkSize(t){return Math.floor(Math.LN2*this.DB/Math.log(t))}},{key:"signum",value:function signum(){return this.s<0?-1:this.t<=0||1==this.t&&this[0]<=0?0:1}},{key:"toRadix",value:function toRadix(t){if(null===t&&(t=10),0===this.signum()||t<2||t>36)return"0";var r=this.chunkSize(t),i=Math.pow(t,r),o=C(i),a=S(),u=S(),l="";for(this.divRemTo(o,a,u);a.signum()>0;)l=(i+u.intValue()).toString(t).substr(1)+l,a.divRemTo(o,a,u);return u.intValue().toString(t)+l}},{key:"fromRadix",value:function fromRadix(t,r){this.fromInt(0),null===r&&(r=10);for(var i=this.chunkSize(r),o=Math.pow(r,i),a=!1,u=0,l=0,c=0;c<t.length;++c){var p=m(t,c);p<0?"-"==t.charAt(c)&&0===this.signum()&&(a=!0):(l=r*l+p,++u>=i&&(this.dMultiply(o),this.dAddOffset(l,0),u=0,l=0))}u>0&&(this.dMultiply(Math.pow(r,u)),this.dAddOffset(l,0)),a&&BigInteger.ZERO.subTo(this,this)}},{key:"toByteArray",value:function toByteArray(){var t=this.t,r=new Array;r[0]=this.s;var i,o=this.DB-t*this.DB%8,a=0;if(t-- >0)for(o<this.DB&&(i=this[t]>>o)!=(this.s&this.DM)>>o&&(r[a++]=i|this.s<<this.DB-o);t>=0;)o<8?(i=(this[t]&(1<<o)-1)<<8-o,i|=this[--t]>>(o+=this.DB-8)):(i=this[t]>>(o-=8)&255,o<=0&&(o+=this.DB,--t)),0!=(128&i)&&(i|=-256),0==a&&(128&this.s)!=(128&i)&&++a,(a>0||i!=this.s)&&(r[a++]=i);return r}},{key:"equals",value:function equals(t){return 0==this.compareTo(t)}},{key:"min",value:function min(t){return this.compareTo(t)<0?this:t}},{key:"max",value:function max(t){return this.compareTo(t)>0?this:t}},{key:"bitwiseTo",value:function bitwiseTo(t,r,i){var o,a,u=Math.min(t.t,this.t);for(o=0;o<u;++o)i[o]=r(this[o],t[o]);if(t.t<this.t){for(a=t.s&this.DM,o=u;o<this.t;++o)i[o]=r(this[o],a);i.t=this.t}else{for(a=this.s&this.DM,o=u;o<t.t;++o)i[o]=r(a,t[o]);i.t=t.t}i.s=r(this.s,t.s),i.clamp()}},{key:"toString",value:function toString(t){if(this.s<0)return"-"+this.negate().toString(t);var r;if(16==t)r=4;else if(8==t)r=3;else if(2==t)r=1;else if(32==t)r=5;else{if(4!=t)return this.toRadix(t);r=2}var i,o=(1<<r)-1,a=!1,u="",l=this.t,c=this.DB-l*this.DB%r;if(l-- >0)for(c<this.DB&&(i=this[l]>>c)>0&&(a=!0,u=d(i));l>=0;)c<r?(i=(this[l]&(1<<c)-1)<<r-c,i|=this[--l]>>(c+=this.DB-r)):(i=this[l]>>(c-=r)&o,c<=0&&(c+=this.DB,--l)),i>0&&(a=!0),a&&(u+=d(i));return a?u:"0"}},{key:"negate",value:function negate(){var t=S();return BigInteger.ZERO.subTo(this,t),t}},{key:"abs",value:function abs(){return this.s<0?this.negate():this}},{key:"compareTo",value:function compareTo(t){var r=this.s-t.s;if(0!=r)return r;var i=this.t;if(0!=(r=i-t.t))return this.s<0?-r:r;for(;--i>=0;)if(0!=(r=this[i]-t[i]))return r;return 0}},{key:"bitLength",value:function bitLength(){return this.t<=0?0:this.DB*(this.t-1)+b(this[this.t-1]^this.s&this.DM)}},{key:"mod",value:function mod(t){var r=S();return this.abs().divRemTo(t,null,r),this.s<0&&r.compareTo(BigInteger.ZERO)>0&&t.subTo(r,r),r}},{key:"and",value:function and(t){var r=S();return this.bitwiseTo(t,c,r),r}},{key:"or",value:function or(t){var r=S();return this.bitwiseTo(t,p,r),r}},{key:"xor",value:function xor(t){var r=S();return this.bitwiseTo(t,h,r),r}},{key:"andNot",value:function andNot(t){var r=S();return this.bitwiseTo(t,y,r),r}},{key:"not",value:function not(){for(var t=S(),r=0;r<this.t;++r)t[r]=this.DM&~this[r];return t.t=this.t,t.s=~this.s,t}},{key:"shiftLeft",value:function shiftLeft(t){var r=S();return t<0?this.rShiftTo(-t,r):this.lShiftTo(t,r),r}},{key:"shiftRight",value:function shiftRight(t){var r=S();return t<0?this.lShiftTo(-t,r):this.rShiftTo(t,r),r}},{key:"getLowestSetBit",value:function getLowestSetBit(){for(var t=0;t<this.t;++t)if(0!=this[t])return t*this.DB+_(this[t]);return this.s<0?this.t*this.DB:-1}},{key:"bitCount",value:function bitCount(){for(var t=0,r=this.s&this.DM,i=0;i<this.t;++i)t+=P(this[i]^r);return t}},{key:"testBit",value:function testBit(t){var r=Math.floor(t/this.DB);return r>=this.t?0!=this.s:0!=(this[r]&1<<t%this.DB)}},{key:"changeBit",value:function changeBit(t,r){var i=BigInteger.ONE.shiftLeft(t);return this.bitwiseTo(i,r,i),i}},{key:"setBit",value:function setBit(t){return this.changeBit(t,p)}},{key:"clearBit",value:function clearBit(t){return this.changeBit(t,y)}},{key:"flipBit",value:function flipBit(t){return this.changeBit(t,h)}},{key:"add",value:function add(t){var r=S();return this.addTo(t,r),r}},{key:"subtract",value:function subtract(t){var r=S();return this.subTo(t,r),r}},{key:"multiply",value:function multiply(t){var r=S();return this.multiplyTo(t,r),r}},{key:"square",value:function square(){var t=S();return this.squareTo(t),t}},{key:"divide",value:function divide(t){var r=S();return this.divRemTo(t,r,null),r}},{key:"remainder",value:function remainder(t){var r=S();return this.divRemTo(t,null,r),r}},{key:"divideAndRemainder",value:function divideAndRemainder(t){var r=S(),i=S();return this.divRemTo(t,r,i),new Array(r,i)}},{key:"dMultiply",value:function dMultiply(t){this[this.t]=this.am(0,t-1,this,0,0,this.t),++this.t,this.clamp()}},{key:"dAddOffset",value:function dAddOffset(t,r){if(0!=t){for(;this.t<=r;)this[this.t++]=0;for(this[r]+=t;this[r]>=this.DV;)this[r]-=this.DV,++r>=this.t&&(this[this.t++]=0),++this[r]}}},{key:"modPowInt",value:function modPowInt(t,r){var i;return i=t<256||r.isEven()?new o(r):new l(r),this.exp(t,i)}},{key:"am1",value:function am1(t,r,i,o,a,u){for(;--u>=0;){var l=r*this[t++]+i[o]+a;a=Math.floor(l/67108864),i[o++]=67108863&l}return a}},{key:"am2",value:function am2(t,r,i,o,a,u){for(var l=32767&r,c=r>>15;--u>=0;){var p=32767&this[t],h=this[t++]>>15,y=c*p+h*l;a=((p=l*p+((32767&y)<<15)+i[o]+(1073741823&a))>>>30)+(y>>>15)+c*h+(a>>>30),i[o++]=1073741823&p}return a}},{key:"am3",value:function am3(t,r,i,o,a,u){for(var l=16383&r,c=r>>14;--u>=0;){var p=16383&this[t],h=this[t++]>>14,y=c*p+h*l;a=((p=l*p+((16383&y)<<14)+i[o]+a)>>28)+(y>>14)+c*h,i[o++]=268435455&p}return a}},{key:"modPow",value:function modPow(t,r){var i,a,u=t.bitLength(),c=C(1);if(u<=0)return c;i=u<18?1:u<48?3:u<144?4:u<768?5:6,a=u<8?new o(r):r.isEven()?new k(r):new l(r);var p=3,h=new Array,y=i-1,v=(1<<i)-1;if(h[1]=a.convert(this),i>1){var d=S();for(a.sqrTo(h[1],d);p<=v;)h[p]=S(),a.mulTo(d,h[p-2],h[p]),p+=2}var m,_,P=t.t-1,g=!0,x=S();for(u=b(t[P])-1;P>=0;){for(u>=y?m=t[P]>>u-y&v:(m=(t[P]&(1<<u+1)-1)<<y-u,P>0&&(m|=t[P-1]>>this.DB+u-y)),p=i;0==(1&m);)m>>=1,--p;if((u-=p)<0&&(u+=this.DB,--P),g)h[m].copyTo(c),g=!1;else{for(;p>1;)a.sqrTo(c,x),a.sqrTo(x,c),p-=2;p>0?a.sqrTo(c,x):(_=c,c=x,x=_),a.mulTo(x,h[m],c)}for(;P>=0&&0==(t[P]&1<<u);)a.sqrTo(c,x),_=c,c=x,x=_,--u<0&&(u=this.DB-1,--P)}return a.revert(c)}},{key:"gdc",value:function gdc(t){var r=this.s<0?this.negate():this.clone(),i=t.s<0?t.negate():t.clone();if(r.compareTo(i)<0){var o=r;r=i,i=o}var a=r.getLowestSetBit(),u=i.getLowestSetBit();if(u<0)return r;for(a<u&&(u=a),u>0&&(r.rShiftTo(u,r),i.rShiftTo(u,i));r.signum()>0;)(a=r.getLowestSetBit())>0&&r.rShiftTo(a,r),(a=i.getLowestSetBit())>0&&i.rShiftTo(a,i),r.compareTo(i)>=0?(r.subTo(i,r),r.rShiftTo(1,r)):(i.subTo(r,i),i.rShiftTo(1,i));return u>0&&i.lShiftTo(u,i),i}},{key:"modInt",value:function modInt(t){if(t<=0)return 0;var r=this.DV%t,i=this.s<0?t-1:0;if(this.t>0)if(0==r)i=this[0]%t;else for(var o=this.t-1;o>=0;--o)i=(r*i+this[o])%t;return i}},{key:"modInverse",value:function modInverse(t){var r=t.isEven();if(this.isEven()&&r||0==t.signum())return BigInteger.ZERO;for(var i=t.clone(),o=this.clone(),a=C(1),u=C(0),l=C(0),c=C(1);0!=i.signum();){for(;i.isEven();)i.rShiftTo(1,i),r?(a.isEven()&&u.isEven()||(a.addTo(this,a),u.subTo(t,u)),a.rShiftTo(1,a)):u.isEven()||u.subTo(t,u),u.rShiftTo(1,u);for(;o.isEven();)o.rShiftTo(1,o),r?(l.isEven()&&c.isEven()||(l.addTo(this,l),c.subTo(t,c)),l.rShiftTo(1,l)):c.isEven()||c.subTo(t,c),c.rShiftTo(1,c);i.compareTo(o)>=0?(i.subTo(o,i),r&&a.subTo(l,a),u.subTo(c,u)):(o.subTo(i,o),r&&l.subTo(a,l),c.subTo(u,c))}return 0!=o.compareTo(BigInteger.ONE)?BigInteger.ZERO:c.compareTo(t)>=0?c.subtract(t):c.signum()<0?(c.addTo(t,c),c.signum()<0?c.add(t):c):c}},{key:"isProbablePrime",value:function isProbablePrime(t){var r,i=this.abs();if(1==i.t&&i[0]<=x[x.length-1]){for(r=0;r<x.length;++r)if(i[0]==x[r])return!0;return!1}if(i.isEven())return!1;for(r=1;r<x.length;){for(var o=x[r],a=r+1;a<x.length&&o<w;)o*=x[a++];for(o=i.modInt(o);r<a;)if(o%x[r++]==0)return!1}return i.millerRabin(t)}},{key:"millerRabin",value:function millerRabin(t){var r=this.subtract(BigInteger.ONE),i=r.getLowestSetBit();if(i<=0)return!1;var o=r.shiftRight(i);(t=t+1>>1)>x.length&&(t=x.length);for(var a=S(),u=0;u<t;++u){a.fromInt(x[Math.floor(Math.random()*x.length)]);var l=a.modPow(o,this);if(0!=l.compareTo(BigInteger.ONE)&&0!=l.compareTo(r)){for(var c=1;c++<i&&0!=l.compareTo(r);)if(0==(l=l.modPowInt(2,this)).compareTo(BigInteger.ONE))return!1;if(0!=l.compareTo(r))return!1}}return!0}},{key:"multiplyLowerTo",value:function multiplyLowerTo(t,r,i){var o,a=Math.min(this.t+t.t,r);for(i.s=0,i.t=a;a>0;)i[--a]=0;for(o=i.t-this.t;a<o;++a)i[a+this.t]=this.am(0,t[a],i,a,0,this.t);for(o=Math.min(t.t,r);a<o;++a)this.am(0,t[a],i,a,0,r-a);i.clamp()}},{key:"multiplyUpperTo",value:function multiplyUpperTo(t,r,i){--r;var o=i.t=this.t+t.t-r;for(i.s=0;--o>=0;)i[o]=0;for(o=Math.max(r-this.t,0);o<t.t;++o)i[this.t+o-r]=this.am(r-o,t[o],i,0,0,this.t+o-r);i.clamp(),i.drShiftTo(1,i)}}]),BigInteger}(_wrapNativeSuper(Array));_defineProperty(T,"ZERO",C(0)),_defineProperty(T,"ONE",C(1));var I=function(t){_inherits(Int128,t);var r=_createSuper(Int128);function Int128(){return BigInteger_classCallCheck(this,Int128),r.apply(this,arguments)}return BigInteger_createClass(Int128,[{key:"IsNegative",value:function IsNegative(){return-1==this.compareTo(Int128.ZERO)}},{key:"ToDouble",value:function ToDouble(){return parseFloat(this.toString(null))}}],[{key:"op_Equality",value:function op_Equality(t,r){return 0==t.compareTo(r)}},{key:"op_Inequality",value:function op_Inequality(t,r){return 0!=t.compareTo(r)}},{key:"op_GreaterThan",value:function op_GreaterThan(t,r){return t.compareTo(r)>0}},{key:"op_LessThan",value:function op_LessThan(t,r){return t.compareTo(r)<0}},{key:"op_Addition",value:function op_Addition(t,r){return new Int128(t,void 0,void 0).add(new Int128(r,void 0,void 0))}},{key:"op_Subtraction",value:function op_Subtraction(t,r){return new Int128(t,void 0,void 0).subtract(new Int128(r,void 0,void 0))}},{key:"Int128Mul",value:function Int128Mul(t,r){return new Int128(t,void 0,void 0).multiply(new Int128(r,void 0,void 0))}},{key:"op_Division",value:function op_Division(t,r){return t.divide(r)}}]),Int128}(T);function Barrett_typeof(t){return Barrett_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Barrett_typeof(t)}function Barrett_defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(a=o.key,u=void 0,u=function Barrett_toPrimitive(t,r){if("object"!==Barrett_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==Barrett_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(a,"string"),"symbol"===Barrett_typeof(u)?u:String(u)),o)}var a,u}var k=function(){function Barrett(t){!function Barrett_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Barrett),this.r2=S(),this.q3=S(),T.ONE.dlShiftTo(2*t.t,this.r2),this.mu=this.r2.divide(t),this.m=t}return function Barrett_createClass(t,r,i){return r&&Barrett_defineProperties(t.prototype,r),i&&Barrett_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(Barrett,[{key:"convert",value:function convert(t){if(t.s<0||t.t>2*this.m.t)return t.mod(this.m);if(t.compareTo(this.m)<0)return t;var r=S();return t.copyTo(r),this.reduce(r),r}},{key:"revert",value:function revert(t){return t}},{key:"reduce",value:function reduce(t){for(t.drShiftTo(this.m.t-1,this.r2),t.t>this.m.t+1&&(t.t=this.m.t+1,t.clamp()),this.mu.multiplyUpperTo(this.r2,this.m.t+1,this.q3),this.m.multiplyLowerTo(this.q3,this.m.t+1,this.r2);t.compareTo(this.r2)<0;)t.dAddOffset(1,this.m.t+1);for(t.subTo(this.r2,t);t.compareTo(this.m)>=0;)t.subTo(this.m,t)}},{key:"sqrTo",value:function sqrTo(t,r){t.squareTo(r),this.reduce(r)}},{key:"mulTo",value:function mulTo(t,r,i){t.multiplyTo(r,i),this.reduce(i)}}]),Barrett}(),E=i(568),L=i(773),A=i(52),M=i(258),j=i(749);function ClipperBase_typeof(t){return ClipperBase_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ClipperBase_typeof(t)}function ClipperBase_defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,ClipperBase_toPropertyKey(o.key),o)}}function ClipperBase_defineProperty(t,r,i){return(r=ClipperBase_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function ClipperBase_toPropertyKey(t){var r=function ClipperBase_toPrimitive(t,r){if("object"!==ClipperBase_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==ClipperBase_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===ClipperBase_typeof(r)?r:String(r)}var R=function(){function ClipperBase(){!function ClipperBase_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,ClipperBase),ClipperBase_defineProperty(this,"preserveCollinear",!1),ClipperBase_defineProperty(this,"minimaList",null),ClipperBase_defineProperty(this,"currentLocalMinima",null),ClipperBase_defineProperty(this,"edges",[]),ClipperBase_defineProperty(this,"useFullRange",!1),ClipperBase_defineProperty(this,"hasOpenPaths",!1),ClipperBase_defineProperty(this,"scanbeam",null),ClipperBase_defineProperty(this,"polyOuts",[]),ClipperBase_defineProperty(this,"activeEdges",null)}return function ClipperBase_createClass(t,r,i){return r&&ClipperBase_defineProperties(t.prototype,r),i&&ClipperBase_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(ClipperBase,[{key:"pointIsVertex",value:function pointIsVertex(t,r){var i=r;do{if(M.u.op_Equality(i.point,t))return!0;i=i.next}while(i!==r);return!1}},{key:"isPointOnLineSegment",value:function isPointOnLineSegment(t,r,i,o){return o?t.x===r.x&&t.y===r.y||t.x===i.x&&t.y===i.y||t.x>r.x==t.x<i.x&&t.y>r.y==t.y<i.y&&I.op_Equality(I.Int128Mul(t.x-r.x,i.y-r.y),I.Int128Mul(i.x-r.x,t.y-r.y)):t.x===r.x&&t.y===r.y||t.x===i.x&&t.y===i.y||t.x>r.x==t.x<i.x&&t.y>r.y==t.y<i.y&&(t.x-r.x)*(i.y-r.y)==(i.x-r.x)*(t.y-r.y)}},{key:"isPointOnPolygon",value:function isPointOnPolygon(t,r,i){for(var o=r;;){if(this.isPointOnLineSegment(t,o.point,o.next.point,i))return!0;if((o=o.next)===r)break}return!1}},{key:"clear",value:function clear(){this.disposeLocalMinimaList();for(var t=0,r=this.edges.length;t<r;++t){for(var i=0,o=this.edges[t].length;i<o;++i)this.edges[t][i]=null;E.CB.clear(this.edges[t])}E.CB.clear(this.edges),this.useFullRange=!1,this.hasOpenPaths=!1}},{key:"disposeLocalMinimaList",value:function disposeLocalMinimaList(){for(;null!==this.minimaList;){var t=this.minimaList.next;this.minimaList=null,this.minimaList=t}this.currentLocalMinima=null}},{key:"rangeTest",value:function rangeTest(t,r){if(r.value){if(t.x>ClipperBase.HIGH_RANGE||t.y>ClipperBase.HIGH_RANGE||-t.x>ClipperBase.HIGH_RANGE||-t.y>ClipperBase.HIGH_RANGE)throw new Error("Coordinate outside allowed range in RangeTest().")}else(t.x>ClipperBase.LOW_RANGE||t.y>ClipperBase.LOW_RANGE||-t.x>ClipperBase.LOW_RANGE||-t.y>ClipperBase.LOW_RANGE)&&(r.value=!0,this.rangeTest(t,r))}},{key:"initEdge",value:function initEdge(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];if(2===r.length){var o=r[0],a=r[1];o.current.y>=o.next.current.y?(o.bottom.x=o.current.x,o.bottom.y=o.current.y,E.CB.USE_XYZ&&(o.bottom.z=o.current.z),o.top.x=o.next.current.x,o.top.y=o.next.current.y,E.CB.USE_XYZ&&(o.top.z=o.next.current.z)):(o.top.x=o.current.x,o.top.y=o.current.y,E.CB.USE_XYZ&&(o.top.z=o.current.z),o.bottom.x=o.next.current.x,o.bottom.y=o.next.current.y,E.CB.USE_XYZ&&(o.bottom.z=o.next.current.z)),this.setDx(o),o.polyType=a}else{var u=r[0],l=r[1],c=r[2],p=r[3];u.next=l,u.prev=c,u.current.x=p.x,u.current.y=p.y,E.CB.USE_XYZ&&(u.current.z=p.z),u.outIndex=-1}}},{key:"findNextLocMin",value:function findNextLocMin(t){for(var r;;){for(;M.u.op_Inequality(t.bottom,t.prev.bottom)||M.u.op_Equality(t.current,t.top);)t=t.next;if(t.dx!==ClipperBase.HORIZONTAL&&t.prev.dx!==ClipperBase.HORIZONTAL)break;for(;t.prev.dx===ClipperBase.HORIZONTAL;)t=t.prev;for(r=t;t.dx===ClipperBase.HORIZONTAL;)t=t.next;if(t.top.y!==t.prev.bottom.y){r.prev.bottom.x<t.bottom.x&&(t=r);break}}return t}},{key:"processBoundary",value:function processBoundary(t,r){var i,o,a=t;if(a.outIndex===ClipperBase.SKIP){if(t=a,r){for(;t.top.y===t.next.bottom.y;)t=t.next;for(;t!==a&&t.dx===ClipperBase.HORIZONTAL;)t=t.prev}else{for(;t.top.y===t.prev.bottom.y;)t=t.prev;for(;t!==a&&t.dx===ClipperBase.HORIZONTAL;)t=t.next}if(t===a)a=r?t.next:t.prev;else{t=r?a.next:a.prev;var u=new j.A3;u.next=null,u.y=t.bottom.y,u.leftBoundary=null,u.rightBoundary=t,t.windDelta=0,a=this.processBoundary(t,r),this.insertLocalMinima(u)}return a}if(t.dx===ClipperBase.HORIZONTAL&&((i=r?t.prev:t.next).dx===ClipperBase.HORIZONTAL?i.bottom.x!==t.bottom.x&&i.top.x!==t.bottom.x&&this.reverseHorizontal(t):i.bottom.x!==t.bottom.x&&this.reverseHorizontal(t)),i=t,r){for(;a.top.y===a.next.bottom.y&&a.next.outIndex!==ClipperBase.SKIP;)a=a.next;if(a.dx===ClipperBase.HORIZONTAL&&a.next.outIndex!==ClipperBase.SKIP){for(o=a;o.prev.dx===ClipperBase.HORIZONTAL;)o=o.prev;o.prev.top.x>a.next.top.x&&(a=o.prev)}for(;t!==a;)t.nextInLML=t.next,t.dx===ClipperBase.HORIZONTAL&&t!==i&&t.bottom.x!==t.prev.top.x&&this.reverseHorizontal(t),t=t.next;t.dx===ClipperBase.HORIZONTAL&&t!==i&&t.bottom.x!==t.prev.top.x&&this.reverseHorizontal(t),a=a.next}else{for(;a.top.y===a.prev.bottom.y&&a.prev.outIndex!==ClipperBase.SKIP;)a=a.prev;if(a.dx===ClipperBase.HORIZONTAL&&a.prev.outIndex!==ClipperBase.SKIP){for(o=a;o.next.dx===ClipperBase.HORIZONTAL;)o=o.next;(o.next.top.x===a.prev.top.x||o.next.top.x>a.prev.top.x)&&(a=o.next)}for(;t!==a;)t.nextInLML=t.prev,t.dx===ClipperBase.HORIZONTAL&&t!==i&&t.bottom.x!==t.next.top.x&&this.reverseHorizontal(t),t=t.prev;t.dx===ClipperBase.HORIZONTAL&&t!==i&&t.bottom.x!==t.next.top.x&&this.reverseHorizontal(t),a=a.prev}return a}},{key:"addPath",value:function addPath(t,r,i){if(E.CB.use_lines){if(!i&&r===A.pr.clip)throw new Error("AddPath: Open paths must be subject.")}else if(!i)throw new Error("AddPath: Open paths have been disabled.");var o=t.length-1;if(i)for(;o>0&&M.u.op_Equality(t[o],t[0]);)--o;for(;o>0&&M.u.op_Equality(t[o],t[o-1]);)--o;if(i&&o<2||!i&&o<1)return!1;for(var a=[],u=0;u<=o;u++)a.push(new L.k);var l=!0;a[1].current.x=t[1].x,a[1].current.y=t[1].y,E.CB.USE_XYZ&&(a[1].current.z=t[1].z);var c={value:this.useFullRange};this.rangeTest(t[0],c),this.useFullRange=c.value,c.value=this.useFullRange,this.rangeTest(t[o],c),this.useFullRange=c.value,this.initEdge(a[0],a[1],a[o],t[0]),this.initEdge(a[o],a[0],a[o-1],t[o]);for(var p=o-1;p>=1;--p)c.value=this.useFullRange,this.rangeTest(t[p],c),this.useFullRange=c.value,this.initEdge(a[p],a[p+1],a[p-1],t[p]);for(var h,y=a[0],v=y,d=y;;)if(v.current!==v.next.current||!i&&v.next===y){if(v.prev===v.next)break;if(!i||!ClipperBase.slopesEqual(v.prev.current,v.current,v.next.current,this.useFullRange)||this.preserveCollinear&&this.pt2IsBetweenPt1AndPt3(v.prev.current,v.current,v.next.current)){if((v=v.next)===d||!i&&v.next===y)break}else v===y&&(y=v.next),d=v=(v=this.removeEdge(v)).prev}else{if(v===v.next)break;v===y&&(y=v.next),d=v=this.removeEdge(v)}if(!i&&v===v.next||i&&v.prev===v.next)return!1;i||(this.hasOpenPaths=!0,y.prev.outIndex=ClipperBase.SKIP),v=y;do{this.initEdge(v,r),v=v.next,l&&v.current.y!==y.current.y&&(l=!1)}while(v!==y);if(l){if(i)return!1;v.prev.outIndex=ClipperBase.SKIP;var m=new E.CB.LocalMinima;for(m.next=null,m.y=v.bottom.y,m.leftBoundary=null,m.rightBoundary=v,m.rightBoundary.side=E.CB.EdgeSide.right,m.rightBoundary.windDelta=0;v.bottom.x!==v.prev.top.x&&this.reverseHorizontal(v),v.next.outIndex!==ClipperBase.SKIP;)v.nextInLML=v.next,v=v.next;return this.insertLocalMinima(m),this.edges.push(a),!0}this.edges.push(a);var b=null;for(M.u.op_Equality(v.prev.bottom,v.prev.top)&&(v=v.next);(v=this.findNextLocMin(v))!==b;){null===b&&(b=v);var _=new E.CB.LocalMinima;_.next=null,_.y=v.bottom.y,v.dx<v.prev.dx?(_.leftBoundary=v.prev,_.rightBoundary=v,h=!1):(_.leftBoundary=v,_.rightBoundary=v.prev,h=!0),_.leftBoundary.side=E.CB.EdgeSide.left,_.rightBoundary.side=E.CB.EdgeSide.right,i?_.leftBoundary.next===_.rightBoundary?_.leftBoundary.windDelta=-1:_.leftBoundary.windDelta=1:_.leftBoundary.windDelta=0,_.rightBoundary.windDelta=-_.leftBoundary.windDelta,(v=this.processBoundary(_.leftBoundary,h)).outIndex===ClipperBase.SKIP&&(v=this.processBoundary(v,h));var P=this.processBoundary(_.rightBoundary,!h);P.outIndex===ClipperBase.SKIP&&(P=this.processBoundary(P,!h)),_.leftBoundary.outIndex===ClipperBase.SKIP?_.leftBoundary=null:_.rightBoundary.outIndex===ClipperBase.SKIP&&(_.rightBoundary=null),this.insertLocalMinima(_),h||(v=P)}return!0}},{key:"addPaths",value:function addPaths(t,r,i){for(var o=!1,a=0,u=t.length;a<u;++a)this.addPath(t[a],r,i)&&(o=!0);return o}},{key:"pt2IsBetweenPt1AndPt3",value:function pt2IsBetweenPt1AndPt3(t,r,i){return!(M.u.op_Equality(t,i)||M.u.op_Equality(t,r)||M.u.op_Equality(i,r))&&(t.x!==i.x?r.x>t.x==r.x<i.x:r.y>t.y==r.y<i.y)}},{key:"removeEdge",value:function removeEdge(t){t.prev.next=t.next,t.next.prev=t.prev;var r=t.next;return t.prev=null,r}},{key:"setDx",value:function setDx(t){t.delta.x=t.top.x-t.bottom.x,t.delta.y=t.top.y-t.bottom.y,0===t.delta.y?t.dx=ClipperBase.HORIZONTAL:t.dx=t.delta.x/t.delta.y}},{key:"insertLocalMinima",value:function insertLocalMinima(t){if(null===this.minimaList)this.minimaList=t;else if(t.y>=this.minimaList.y)t.next=this.minimaList,this.minimaList=t;else{for(var r=this.minimaList;null!==r.next&&t.y<r.next.y;)r=r.next;t.next=r.next,r.next=t}}},{key:"popLocalMinima",value:function popLocalMinima(t,r){return r.v=this.currentLocalMinima,null!==this.currentLocalMinima&&this.currentLocalMinima.y===t&&(this.currentLocalMinima=this.currentLocalMinima.next,!0)}},{key:"reverseHorizontal",value:function reverseHorizontal(t){var r=t.top.x;t.top.x=t.bottom.x,t.bottom.x=r,E.CB.USE_XYZ&&(r=t.top.z,t.top.z=t.bottom.z,t.bottom.z=r)}},{key:"reset",value:function reset(){if(this.currentLocalMinima=this.minimaList,null!==this.currentLocalMinima){this.scanbeam=null;for(var t=this.minimaList;null!==t;){this.insertScanbeam(t.y);var r=t.leftBoundary;null!==r&&(r.current.x=r.bottom.x,r.current.y=r.bottom.y,E.CB.USE_XYZ&&(r.current.z=r.bottom.z),r.outIndex=ClipperBase.UNASSIGNED),null!==(r=t.rightBoundary)&&(r.current.x=r.bottom.x,r.current.y=r.bottom.y,E.CB.USE_XYZ&&(r.current.z=r.bottom.z),r.outIndex=ClipperBase.UNASSIGNED),t=t.next}this.activeEdges=null}}},{key:"insertScanbeam",value:function insertScanbeam(t){if(null===this.scanbeam)this.scanbeam=new j.z0,this.scanbeam.Next=null,this.scanbeam.y=t;else if(t>this.scanbeam.y){var r=new j.z0;r.y=t,r.Next=this.scanbeam,this.scanbeam=r}else{for(var i=this.scanbeam;null!==i.Next&&t<=i.Next.y;)i=i.Next;if(t===i.y)return;var o=new j.z0;o.y=t,o.Next=i.Next,i.Next=o}}},{key:"popScanbeam",value:function popScanbeam(t){return null===this.scanbeam?(t.v=0,!1):(t.v=this.scanbeam.y,this.scanbeam=this.scanbeam.Next,!0)}},{key:"localMinimaPending",value:function localMinimaPending(){return null!==this.currentLocalMinima}},{key:"createOuterRectangle",value:function createOuterRectangle(){var t=new j.I0;return t.index=ClipperBase.UNASSIGNED,t.isHole=!1,t.isOpen=!1,t.firstLeft=null,t.points=null,t.bottomPoint=null,t.polyNode=null,this.polyOuts.push(t),t.index=this.polyOuts.length-1,t}},{key:"disposeOuterRectangle",value:function disposeOuterRectangle(t){var r=this.polyOuts[t];r.points=null,r=null,this.polyOuts[t]=null}},{key:"updateEdgeIntoAEL",value:function updateEdgeIntoAEL(t){if(null===t.nextInLML)throw new Error("UpdateEdgeIntoAEL: invalid call");var r=t.prevInAEL,i=t.nextInAEL;return t.nextInLML.outIndex=t.outIndex,null!==r?r.nextInAEL=t.nextInLML:this.activeEdges=t.nextInLML,null!==i&&(i.prevInAEL=t.nextInLML),t.nextInLML.side=t.side,t.nextInLML.windDelta=t.windDelta,t.nextInLML.windCount=t.windCount,t.nextInLML.windCount2=t.windCount2,(t=t.nextInLML).current.x=t.bottom.x,t.current.y=t.bottom.y,t.prevInAEL=r,t.nextInAEL=i,ClipperBase.isHorizontal(t)||this.insertScanbeam(t.top.y),t}},{key:"swapPositionsInAEL",value:function swapPositionsInAEL(t,r){if(t.nextInAEL!==t.prevInAEL&&r.nextInAEL!==r.prevInAEL){if(t.nextInAEL===r){var i=r.nextInAEL;null!==i&&(i.prevInAEL=t);var o=t.prevInAEL;null!==o&&(o.nextInAEL=r),r.prevInAEL=o,r.nextInAEL=t,t.prevInAEL=r,t.nextInAEL=i}else if(r.nextInAEL===t){var a=t.nextInAEL;null!==a&&(a.prevInAEL=r);var u=r.prevInAEL;null!==u&&(u.nextInAEL=t),t.prevInAEL=u,t.nextInAEL=r,r.prevInAEL=t,r.nextInAEL=a}else{var l=t.nextInAEL,c=t.prevInAEL;t.nextInAEL=r.nextInAEL,null!==t.nextInAEL&&(t.nextInAEL.prevInAEL=t),t.prevInAEL=r.prevInAEL,null!==t.prevInAEL&&(t.prevInAEL.nextInAEL=t),r.nextInAEL=l,null!==r.nextInAEL&&(r.nextInAEL.prevInAEL=r),r.prevInAEL=c,null!==r.prevInAEL&&(r.prevInAEL.nextInAEL=r)}null===t.prevInAEL?this.activeEdges=t:null===r.prevInAEL&&(this.activeEdges=r)}}},{key:"deleteFromAEL",value:function deleteFromAEL(t){var r=t.prevInAEL,i=t.nextInAEL;null===r&&null===i&&t!==this.activeEdges||(null!==r?r.nextInAEL=i:this.activeEdges=i,null!==i&&(i.prevInAEL=r),t.nextInAEL=null,t.prevInAEL=null)}}],[{key:"isNearZero",value:function isNearZero(t){return t>-ClipperBase.TOLERANCE&&t<ClipperBase.TOLERANCE}},{key:"isHorizontal",value:function isHorizontal(t){return 0===t.delta.y}},{key:"slopesEqual",value:function slopesEqual(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];if(3===r.length){var o=r[0],a=r[1];return r[2]?I.op_Equality(I.Int128Mul(o.delta.y,a.delta.x),I.Int128Mul(o.delta.x,a.delta.y)):E.CB.castInt64(o.delta.y*a.delta.x)===E.CB.castInt64(o.delta.x*a.delta.y)}if(4===r.length){var u=r[0],l=r[1],c=r[2];return r[3]?I.op_Equality(I.Int128Mul(u.y-l.y,l.x-c.x),I.Int128Mul(u.x-l.x,l.y-c.y)):E.CB.castInt64((u.y-l.y)*(l.x-c.x))-E.CB.castInt64((u.x-l.x)*(l.y-c.y))==0}var p=r[0],h=r[1],y=r[2],v=r[3];return r[4]?I.op_Equality(I.Int128Mul(p.y-h.y,y.x-v.x),I.Int128Mul(p.x-h.x,y.y-v.y)):E.CB.castInt64((p.y-h.y)*(y.x-v.x))-E.CB.castInt64((p.x-h.x)*(y.y-v.y))==0}}]),ClipperBase}();ClipperBase_defineProperty(R,"HORIZONTAL",-9007199254740992),ClipperBase_defineProperty(R,"SKIP",-2),ClipperBase_defineProperty(R,"UNASSIGNED",-1),ClipperBase_defineProperty(R,"TOLERANCE",1e-20),ClipperBase_defineProperty(R,"LOW_RANGE",47453132),ClipperBase_defineProperty(R,"HIGH_RANGE",0xfffffffffffff)},575:(t,r,i)=>{i.d(r,{W:()=>v});var o=i(568),a=i(729),u=i(497),l=i(20),c=i(52),p=i(258),h=i(58),y=i(727);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey(o.key),o)}}function _defineProperty(t,r,i){return(r=_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function _toPropertyKey(t){var r=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===_typeof(r)?r:String(r)}var v=function(){function ClipperOffset(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:2,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ClipperOffset.DEF_ARC_TOLERANCE;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,ClipperOffset),_defineProperty(this,"destinationPolygons",new h.n),_defineProperty(this,"sourcePolygon",new h.y),_defineProperty(this,"destinationPolygon",new h.y),_defineProperty(this,"normals",[]),_defineProperty(this,"delta",0),_defineProperty(this,"sinA",0),_defineProperty(this,"sin",0),_defineProperty(this,"cos",0),_defineProperty(this,"miterLim",0),_defineProperty(this,"stepsPerRad",0),_defineProperty(this,"lowestPoint",new p.u),_defineProperty(this,"polygonNodes",new y.A),this.lowestPoint.x=-1,this.miterLimit=t,this.arcTolerance=r}return function _createClass(t,r,i){return r&&_defineProperties(t.prototype,r),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(ClipperOffset,[{key:"clear",value:function clear(){o.CB.clear(this.polygonNodes.children),this.lowestPoint.x=-1}},{key:"addPath",value:function addPath(t,r,i){var o=t.length-1;if(!(o<0)){var a=new y.A;if(a.joinType=r,a.endType=i,i===c.u.closedLine||i===c.u.closedPolygon)for(;o>0&&p.u.op_Equality(t[0],t[o]);)o--;a.polygon.push(t[0]);for(var u=0,l=0,h=1;h<=o;h++)p.u.op_Inequality(a.polygon[u],t[h])&&(u++,a.polygon.push(t[h]),(t[h].y>a.polygon[l].y||t[h].y===a.polygon[l].y&&t[h].x<a.polygon[l].x)&&(l=u));if(!(i===c.u.closedPolygon&&u<2)&&(this.polygonNodes.addChild(a),i===c.u.closedPolygon))if(this.lowestPoint.x<0)this.lowestPoint=new p.u(this.polygonNodes.childCount()-1,l);else{var v=this.polygonNodes.children[this.lowestPoint.x].polygon[this.lowestPoint.y];(a.polygon[l].y>v.y||a.polygon[l].y===v.y&&a.polygon[l].x<v.x)&&(this.lowestPoint=new p.u(this.polygonNodes.childCount()-1,l))}}}},{key:"addPaths",value:function addPaths(t,r,i){for(var o=0,a=t.length;o<a;o++)this.addPath(t[o],r,i)}},{key:"fixOrientations",value:function fixOrientations(){if(this.lowestPoint.x>=0&&!a.x.orientation(this.polygonNodes.children[this.lowestPoint.x].polygon))for(var t=0;t<this.polygonNodes.childCount();t++){var r=this.polygonNodes.children[t];(r.endType===c.u.closedPolygon||r.endType===c.u.closedLine&&a.x.orientation(r.polygon))&&r.polygon.reverse()}else for(var i=0;i<this.polygonNodes.childCount();i++){var o=this.polygonNodes.children[i];o.endType!==c.u.closedLine||a.x.orientation(o.polygon)||o.polygon.reverse()}}},{key:"doOffset",value:function doOffset(t){if(this.destinationPolygons=[],this.delta=t,u.x.isNearZero(t))for(var r=0;r<this.polygonNodes.childCount();r++){var i=this.polygonNodes.children[r];i.endType===c.u.closedPolygon&&this.destinationPolygons.push(i.polygon)}else{var o;this.miterLimit>2?this.miterLim=2/(this.miterLimit*this.miterLimit):this.miterLim=.5,o=this.arcTolerance<=0?ClipperOffset.DEF_ARC_TOLERANCE:this.arcTolerance>Math.abs(t)*ClipperOffset.DEF_ARC_TOLERANCE?Math.abs(t)*ClipperOffset.DEF_ARC_TOLERANCE:this.arcTolerance;var a=3.14159265358979/Math.acos(1-o/Math.abs(t));this.sin=Math.sin(ClipperOffset.TWO_PI/a),this.cos=Math.cos(ClipperOffset.TWO_PI/a),this.stepsPerRad=a/ClipperOffset.TWO_PI,t<0&&(this.sin=-this.sin);for(var h=0;h<this.polygonNodes.childCount();h++){var y=this.polygonNodes.children[h];this.sourcePolygon=y.polygon;var v=this.sourcePolygon.length;if(!(0===v||t<=0&&(v<3||y.endType!==c.u.closedPolygon)))if(this.destinationPolygon=[],1!==v){this.normals.length=0;for(var d=0;d<v-1;d++)this.normals.push(ClipperOffset.getUnitNormal(this.sourcePolygon[d],this.sourcePolygon[d+1]));if(y.endType===c.u.closedLine||y.endType===c.u.closedPolygon?this.normals.push(ClipperOffset.getUnitNormal(this.sourcePolygon[v-1],this.sourcePolygon[0])):this.normals.push(new l.K(this.normals[v-2])),y.endType===c.u.closedPolygon){for(var m=v-1,b=0;b<v;b++)m=this.offsetPoint(b,m,y.joinType);this.destinationPolygons.push(this.destinationPolygon)}else if(y.endType===c.u.closedLine){for(var _=v-1,P=0;P<v;P++)_=this.offsetPoint(P,_,y.joinType);this.destinationPolygons.push(this.destinationPolygon),this.destinationPolygon=[];for(var g=this.normals[v-1],x=v-1;x>0;x--)this.normals[x]=new l.K(-this.normals[x-1].x,-this.normals[x-1].y);this.normals[0]=new l.K(-g.x,-g.y),_=0;for(var w=v-1;w>=0;w--)_=this.offsetPoint(w,_,y.joinType);this.destinationPolygons.push(this.destinationPolygon)}else{for(var O=0,S=1;S<v-1;++S)O=this.offsetPoint(S,O,y.joinType);var C=void 0;if(y.endType===c.u.openButt){var T=v-1;C=new p.u(ClipperOffset.round(this.sourcePolygon[T].x+this.normals[T].x*t),ClipperOffset.round(this.sourcePolygon[T].y+this.normals[T].y*t)),this.destinationPolygon.push(C),C=new p.u(ClipperOffset.round(this.sourcePolygon[T].x-this.normals[T].x*t),ClipperOffset.round(this.sourcePolygon[T].y-this.normals[T].y*t)),this.destinationPolygon.push(C)}else{var I=v-1;O=v-2,this.sinA=0,this.normals[I]=new l.K(-this.normals[I].x,-this.normals[I].y),y.endType===c.u.openSquare?this.doSquare(I,O):this.doRound(I,O)}for(var k=v-1;k>0;k--)this.normals[k]=new l.K(-this.normals[k-1].x,-this.normals[k-1].y);this.normals[0]=new l.K(-this.normals[1].x,-this.normals[1].y);for(var E=(O=v-1)-1;E>0;--E)O=this.offsetPoint(E,O,y.joinType);y.endType===c.u.openButt?(C=new p.u(ClipperOffset.round(this.sourcePolygon[0].x-this.normals[0].x*t),ClipperOffset.round(this.sourcePolygon[0].y-this.normals[0].y*t)),this.destinationPolygon.push(C),C=new p.u(ClipperOffset.round(this.sourcePolygon[0].x+this.normals[0].x*t),ClipperOffset.round(this.sourcePolygon[0].y+this.normals[0].y*t)),this.destinationPolygon.push(C)):(O=1,this.sinA=0,y.endType===c.u.openSquare?this.doSquare(0,1):this.doRound(0,1)),this.destinationPolygons.push(this.destinationPolygon)}}else{if(y.joinType===c.AH.round)for(var L=1,A=0,M=1;M<=a;M++){this.destinationPolygon.push(new p.u(ClipperOffset.round(this.sourcePolygon[0].x+L*t),ClipperOffset.round(this.sourcePolygon[0].y+A*t)));var j=L;L=L*this.cos-this.sin*A,A=j*this.sin+A*this.cos}else for(var R=-1,B=-1,D=0;D<4;++D)this.destinationPolygon.push(new p.u(ClipperOffset.round(this.sourcePolygon[0].x+R*t),ClipperOffset.round(this.sourcePolygon[0].y+B*t))),R<0?R=1:B<0?B=1:R=-1;this.destinationPolygons.push(this.destinationPolygon)}}}}},{key:"execute",value:function execute(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];if(r[0]instanceof y.X){var u=r[0],l=r[1];u.clear(),this.fixOrientations(),this.doOffset(l);var v=new a.x(0);if(v.addPaths(this.destinationPolygons,c.pr.subject,!0),l>0)v.execute(c.NJ.union,u,c.Xk.positive,c.Xk.positive);else{var d=a.x.getBounds(this.destinationPolygons),m=new h.y;if(m.push(new p.u(d.left-10,d.bottom+10)),m.push(new p.u(d.right+10,d.bottom+10)),m.push(new p.u(d.right+10,d.top-10)),m.push(new p.u(d.left-10,d.top-10)),v.addPath(m,c.pr.subject,!0),v.reverseSolution=!0,v.execute(c.NJ.union,u,c.Xk.negative,c.Xk.negative),1===u.childCount()&&u.children[0].childCount()>0){var b=u.children[0];u.children[0]=b.children[0],u.children[0].parent=u;for(var _=1;_<b.childCount();_++)u.addChild(b.children[_])}else u.clear()}}else{var P=r[0],g=r[1];o.CB.clear(P),this.fixOrientations(),this.doOffset(g);var x=new a.x(0);if(x.addPaths(this.destinationPolygons,c.pr.subject,!0),g>0)x.execute(c.NJ.union,P,c.Xk.positive,c.Xk.positive);else{var w=a.x.getBounds(this.destinationPolygons),O=new h.y;O.push(new p.u(w.left-10,w.bottom+10)),O.push(new p.u(w.right+10,w.bottom+10)),O.push(new p.u(w.right+10,w.top-10)),O.push(new p.u(w.left-10,w.top-10)),x.addPath(O,c.pr.subject,!0),x.reverseSolution=!0,x.execute(c.NJ.union,P,c.Xk.negative,c.Xk.negative),P.length>0&&P.splice(0,1)}}}},{key:"offsetPoint",value:function offsetPoint(t,r,i){if(this.sinA=this.normals[r].x*this.normals[t].y-this.normals[t].x*this.normals[r].y,Math.abs(this.sinA*this.delta)<1){if(this.normals[r].x*this.normals[t].x+this.normals[t].y*this.normals[r].y>0)return this.destinationPolygon.push(new p.u(ClipperOffset.round(this.sourcePolygon[t].x+this.normals[r].x*this.delta),ClipperOffset.round(this.sourcePolygon[t].y+this.normals[r].y*this.delta))),r}else this.sinA>1?this.sinA=1:this.sinA<-1&&(this.sinA=-1);if(this.sinA*this.delta<0)this.destinationPolygon.push(new p.u(ClipperOffset.round(this.sourcePolygon[t].x+this.normals[r].x*this.delta),ClipperOffset.round(this.sourcePolygon[t].y+this.normals[r].y*this.delta))),this.destinationPolygon.push(new p.u(this.sourcePolygon[t])),this.destinationPolygon.push(new p.u(ClipperOffset.round(this.sourcePolygon[t].x+this.normals[t].x*this.delta),ClipperOffset.round(this.sourcePolygon[t].y+this.normals[t].y*this.delta)));else switch(i){case c.AH.miter:var o=this.normals[t].x*this.normals[r].x+this.normals[t].y*this.normals[r].y+1;o>=this.miterLim?this.doMiter(t,r,o):this.doSquare(t,r);break;case c.AH.square:this.doSquare(t,r);break;case c.AH.round:this.doRound(t,r)}return r=t}},{key:"doSquare",value:function doSquare(t,r){var i=Math.tan(Math.atan2(this.sinA,this.normals[r].x*this.normals[t].x+this.normals[r].y*this.normals[t].y)/4);this.destinationPolygon.push(new p.u(ClipperOffset.round(this.sourcePolygon[t].x+this.delta*(this.normals[r].x-this.normals[r].y*i)),ClipperOffset.round(this.sourcePolygon[t].y+this.delta*(this.normals[r].y+this.normals[r].x*i)))),this.destinationPolygon.push(new p.u(ClipperOffset.round(this.sourcePolygon[t].x+this.delta*(this.normals[t].x+this.normals[t].y*i)),ClipperOffset.round(this.sourcePolygon[t].y+this.delta*(this.normals[t].y-this.normals[t].x*i))))}},{key:"doMiter",value:function doMiter(t,r,i){var o=this.delta/i;this.destinationPolygon.push(new p.u(ClipperOffset.round(this.sourcePolygon[t].x+(this.normals[r].x+this.normals[t].x)*o),ClipperOffset.round(this.sourcePolygon[t].y+(this.normals[r].y+this.normals[t].y)*o)))}},{key:"doRound",value:function doRound(t,r){for(var i,a=Math.atan2(this.sinA,this.normals[r].x*this.normals[t].x+this.normals[r].y*this.normals[t].y),u=Math.max(o.CB.castInt32(ClipperOffset.round(this.stepsPerRad*Math.abs(a))),1),l=this.normals[r].x,c=this.normals[r].y,h=0;h<u;++h)this.destinationPolygon.push(new p.u(ClipperOffset.round(this.sourcePolygon[t].x+l*this.delta),ClipperOffset.round(this.sourcePolygon[t].y+c*this.delta))),i=l,l=l*this.cos-this.sin*c,c=i*this.sin+c*this.cos;this.destinationPolygon.push(new p.u(ClipperOffset.round(this.sourcePolygon[t].x+this.normals[t].x*this.delta),ClipperOffset.round(this.sourcePolygon[t].y+this.normals[t].y*this.delta)))}}],[{key:"getUnitNormal",value:function getUnitNormal(t,r){var i=r.x-t.x,o=r.y-t.y;if(0===i&&0===o)return new l.K(0,0);var a=1/Math.sqrt(i*i+o*o);return i*=a,o*=a,new l.K(o,-i)}}]),ClipperOffset}();_defineProperty(v,"round",a.x.round),_defineProperty(v,"TWO_PI",6.28318530717959),_defineProperty(v,"DEF_ARC_TOLERANCE",.25)},20:(t,r,i)=>{function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey(o.key),o)}}function _createClass(t,r,i){return r&&_defineProperties(t.prototype,r),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function _defineProperty(t,r,i){return(r=_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function _toPropertyKey(t){var r=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===_typeof(r)?r:String(r)}i.d(r,{K:()=>o});var o=_createClass((function DoublePoint(){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,DoublePoint),_defineProperty(this,"x",0),_defineProperty(this,"y",0);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];1===r.length?(this.x=r[0].x,this.y=r[0].y):2===r.length&&(this.x=r[0],this.y=r[1])}))},773:(t,r,i)=>{i.d(r,{k:()=>u});var o=i(52),a=i(258);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey(o.key),o)}}function _createClass(t,r,i){return r&&_defineProperties(t.prototype,r),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function _defineProperty(t,r,i){return(r=_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function _toPropertyKey(t){var r=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===_typeof(r)?r:String(r)}var u=_createClass((function Edge(){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Edge),_defineProperty(this,"bottom",new a.u),_defineProperty(this,"current",new a.u),_defineProperty(this,"top",new a.u),_defineProperty(this,"delta",new a.u),_defineProperty(this,"dx",0),_defineProperty(this,"polyType",o.pr.subject),_defineProperty(this,"side",o.Yz.left),_defineProperty(this,"windDelta",0),_defineProperty(this,"windCount",0),_defineProperty(this,"windCount2",0),_defineProperty(this,"outIndex",0),_defineProperty(this,"next",null),_defineProperty(this,"prev",null),_defineProperty(this,"nextInLML",null),_defineProperty(this,"nextInAEL",null),_defineProperty(this,"prevInAEL",null),_defineProperty(this,"nextInSEL",null),_defineProperty(this,"prevInSEL",null),_defineProperty(this,"v",null)}))},258:(t,r,i)=>{i.d(r,{u:()=>l});var o=i(568),a=i(729),u=i(20);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(a=o.key,u=void 0,u=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(a,"string"),"symbol"===_typeof(u)?u:String(u)),o)}var a,u}var l=function(){function IntPoint(){if(function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,IntPoint),this.x=0,this.y=0,o.CB.USE_XYZ)if(this.z=0,3===arguments.length)this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this.z=arguments.length<=2?void 0:arguments[2];else if(2===arguments.length)this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this.z=0;else if(1===arguments.length)if((arguments.length<=0?void 0:arguments[0])instanceof u.K){var t=arguments.length<=0?void 0:arguments[0];this.x=a.x.round(t.x),this.y=a.x.round(t.y),this.z=0}else{var r=arguments.length<=0?void 0:arguments[0];void 0===r.z&&(r.z=0),this.x=r.x,this.y=r.y,this.z=r.z}else this.x=0,this.y=0,this.z=0;else if(2===arguments.length)this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1];else if(1===arguments.length)if((arguments.length<=0?void 0:arguments[0])instanceof u.K){var i=arguments.length<=0?void 0:arguments[0];this.x=a.x.round(i.x),this.y=a.x.round(i.y)}else{var l=arguments.length<=0?void 0:arguments[0];this.x=l.x,this.y=l.y}else this.x=0,this.y=0}return function _createClass(t,r,i){return r&&_defineProperties(t.prototype,r),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(IntPoint,null,[{key:"op_Equality",value:function op_Equality(t,r){return t.x===r.x&&t.y===r.y}},{key:"op_Inequality",value:function op_Inequality(t,r){return t.x!==r.x||t.y!==r.y}}]),IntPoint}()},711:(t,r,i)=>{function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(a=o.key,u=void 0,u=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(a,"string"),"symbol"===_typeof(u)?u:String(u)),o)}var a,u}function _createClass(t,r,i){return r&&_defineProperties(t.prototype,r),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}i.d(r,{Z:()=>o});var o=_createClass((function IntRectangle(){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,IntRectangle);for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];4===r.length?(this.left=r[0],this.top=r[1],this.right=r[2],this.bottom=r[3]):1===r.length?(this.left=r[0].left,this.top=r[0].top,this.right=r[0].right,this.bottom=r[0].bottom):(this.left=0,this.top=0,this.right=0,this.bottom=0)}))},161:(t,r,i)=>{i.d(r,{F:()=>a,v:()=>u});var o=i(258);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey(o.key),o)}}function _createClass(t,r,i){return r&&_defineProperties(t.prototype,r),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperty(t,r,i){return(r=_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function _toPropertyKey(t){var r=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===_typeof(r)?r:String(r)}var a=_createClass((function IntersectNode(){_classCallCheck(this,IntersectNode),_defineProperty(this,"edge1",null),_defineProperty(this,"edge2",null),_defineProperty(this,"point",new o.u)})),u=function(){function MyIntersectNodeSort(){_classCallCheck(this,MyIntersectNodeSort)}return _createClass(MyIntersectNodeSort,null,[{key:"compare",value:function compare(t,r){var i=r.point.y-t.point.y;return i>0?1:i<0?-1:0}}]),MyIntersectNodeSort}()},749:(t,r,i)=>{i.d(r,{A3:()=>a,I0:()=>c,NV:()=>h,lt:()=>l,sE:()=>p,z0:()=>u});var o=i(258);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey(o.key),o)}}function _createClass(t,r,i){return r&&_defineProperties(t.prototype,r),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperty(t,r,i){return(r=_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function _toPropertyKey(t){var r=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===_typeof(r)?r:String(r)}var a=_createClass((function LocalMinima(){_classCallCheck(this,LocalMinima),_defineProperty(this,"y",0),_defineProperty(this,"leftBoundary",null),_defineProperty(this,"rightBoundary",null),_defineProperty(this,"next",null),_defineProperty(this,"v",null)})),u=_createClass((function Scanbeam(){_classCallCheck(this,Scanbeam),_defineProperty(this,"y",0),_defineProperty(this,"Next",null),_defineProperty(this,"v",0)})),l=_createClass((function Maxima(){_classCallCheck(this,Maxima),_defineProperty(this,"x",0),_defineProperty(this,"next",null),_defineProperty(this,"prev",null)})),c=_createClass((function OuterRectangle(){_classCallCheck(this,OuterRectangle),_defineProperty(this,"index",0),_defineProperty(this,"isHole",!1),_defineProperty(this,"isOpen",!1),_defineProperty(this,"firstLeft",null),_defineProperty(this,"points",null),_defineProperty(this,"bottomPoint",null),_defineProperty(this,"polyNode",null)})),p=_createClass((function OuterPoint(){_classCallCheck(this,OuterPoint),_defineProperty(this,"index",0),_defineProperty(this,"point",new o.u),_defineProperty(this,"next",null),_defineProperty(this,"prev",null)})),h=_createClass((function Join(){_classCallCheck(this,Join),_defineProperty(this,"outerPoint1",null),_defineProperty(this,"outerPoint2",null),_defineProperty(this,"offPoint",new o.u)}))},58:(t,r,i)=>{function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,o=new Array(r);i<r;i++)o[i]=t[i];return o}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(a=o.key,u=void 0,u=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(a,"string"),"symbol"===_typeof(u)?u:String(u)),o)}var a,u}function _createClass(t,r,i){return r&&_defineProperties(t.prototype,r),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}function _createSuper(t){var r=_isNativeReflectConstruct();return function _createSuperInternal(){var i,o=_getPrototypeOf(t);if(r){var a=_getPrototypeOf(this).constructor;i=Reflect.construct(o,arguments,a)}else i=o.apply(this,arguments);return _possibleConstructorReturn(this,i)}}function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _wrapNativeSuper(t){var r="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function _wrapNativeSuper(t){if(null===t||!function _isNativeFunction(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,Wrapper)}function Wrapper(){return _construct(t,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(t.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,t)},_wrapNativeSuper(t)}function _construct(t,r,i){return _construct=_isNativeReflectConstruct()?Reflect.construct.bind():function _construct(t,r,i){var o=[null];o.push.apply(o,r);var a=new(Function.bind.apply(t,o));return i&&_setPrototypeOf(a,i.prototype),a},_construct.apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function _setPrototypeOf(t,r){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){return t.__proto__=r,t},_setPrototypeOf(t,r)}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}i.d(r,{n:()=>a,y:()=>o});var o=function(t){_inherits(Path,t);var r=_createSuper(Path);function Path(){var t;return _classCallCheck(this,Path),t=r.call.apply(r,[this].concat(_toConsumableArray(Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:[]))),"number"==typeof(arguments.length<=0?void 0:arguments[0])&&(t.length=arguments.length<=0?void 0:arguments[0]),_possibleConstructorReturn(t,_assertThisInitialized(t))}return _createClass(Path)}(_wrapNativeSuper(Array)),a=function(t){_inherits(Paths,t);var r=_createSuper(Paths);function Paths(){var t;return _classCallCheck(this,Paths),t=r.call.apply(r,[this].concat(_toConsumableArray(Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:[]))),"number"==typeof(arguments.length<=0?void 0:arguments[0])&&(t.length=arguments.length<=0?void 0:arguments[0]),_possibleConstructorReturn(t,_assertThisInitialized(t))}return _createClass(Paths)}(_wrapNativeSuper(Array))},727:(t,r,i)=>{i.d(r,{A:()=>a,X:()=>u});var o=i(58);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey(o.key),o)}}function _createClass(t,r,i){return r&&_defineProperties(t.prototype,r),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}function _createSuper(t){var r=_isNativeReflectConstruct();return function _createSuperInternal(){var i,o=_getPrototypeOf(t);if(r){var a=_getPrototypeOf(this).constructor;i=Reflect.construct(o,arguments,a)}else i=o.apply(this,arguments);return function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}(this,i)}}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _wrapNativeSuper(t){var r="function"==typeof Map?new Map:void 0;return _wrapNativeSuper=function _wrapNativeSuper(t){if(null===t||!function _isNativeFunction(t){return-1!==Function.toString.call(t).indexOf("[native code]")}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(t))return r.get(t);r.set(t,Wrapper)}function Wrapper(){return _construct(t,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(t.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,t)},_wrapNativeSuper(t)}function _construct(t,r,i){return _construct=_isNativeReflectConstruct()?Reflect.construct.bind():function _construct(t,r,i){var o=[null];o.push.apply(o,r);var a=new(Function.bind.apply(t,o));return i&&_setPrototypeOf(a,i.prototype),a},_construct.apply(null,arguments)}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}function _setPrototypeOf(t,r){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){return t.__proto__=r,t},_setPrototypeOf(t,r)}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _defineProperty(t,r,i){return(r=_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function _toPropertyKey(t){var r=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===_typeof(r)?r:String(r)}var a=function(t){_inherits(PolygonNode,t);var r=_createSuper(PolygonNode);function PolygonNode(){var t;_classCallCheck(this,PolygonNode);for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];return _defineProperty(_assertThisInitialized(t=r.call.apply(r,[this].concat(a))),"parent",null),_defineProperty(_assertThisInitialized(t),"polygon",new o.y),_defineProperty(_assertThisInitialized(t),"index",0),_defineProperty(_assertThisInitialized(t),"joinType",0),_defineProperty(_assertThisInitialized(t),"endType",0),_defineProperty(_assertThisInitialized(t),"children",[]),_defineProperty(_assertThisInitialized(t),"isOpen",!1),t}return _createClass(PolygonNode,[{key:"isHoleNode",value:function isHoleNode(){for(var t=!0,r=this.parent;null!==r;)t=!t,r=r.parent;return t}},{key:"childCount",value:function childCount(){return this.children.length}},{key:"contour",value:function contour(){return this.polygon}},{key:"addChild",value:function addChild(t){var r=this.children.length;this.children.push(t),t.parent=this,t.index=r}},{key:"getNext",value:function getNext(){return this.children.length>0?this.children[0]:this.getNextSiblingUp()}},{key:"getNextSiblingUp",value:function getNextSiblingUp(){return null===this.parent?null:this.index===this.parent.children.length-1?this.parent.getNextSiblingUp():this.parent.children[this.index+1]}},{key:"isHole",value:function isHole(){return this.isHoleNode()}}]),PolygonNode}(_wrapNativeSuper(Array)),u=function(t){_inherits(PolygonTree,t);var r=_createSuper(PolygonTree);function PolygonTree(){var t;_classCallCheck(this,PolygonTree);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return _defineProperty(_assertThisInitialized(t=r.call.apply(r,[this].concat(o))),"allPolys",[]),t}return _createClass(PolygonTree,[{key:"clear",value:function clear(){for(var t=0,r=this.allPolys.length;t<r;t++)this.allPolys[t]=null;this.allPolys.length=0,this.children.length=0}},{key:"getFirst",value:function getFirst(){return this.children.length>0?this.children[0]:null}},{key:"total",value:function total(){var t=this.allPolys.length;return t>0&&this.children[0]!==this.allPolys[0]&&t--,t}}]),PolygonTree}(a)},583:(t,r,i)=>{i.d(r,{X:()=>a});var o=navigator.userAgent.toString().toLowerCase(),a={chrome:-1!=o.indexOf("chrome")&&-1==o.indexOf("chromium"),chromium:-1!=o.indexOf("chromium"),safari:-1!=o.indexOf("safari")&&-1==o.indexOf("chrome")&&-1==o.indexOf("chromium"),firefox:-1!=o.indexOf("firefox"),firefox17:-1!=o.indexOf("firefox/17"),firefox15:-1!=o.indexOf("firefox/15"),firefox3:-1!=o.indexOf("firefox/3"),opera:-1!=o.indexOf("opera"),msie10:-1!=o.indexOf("msie 10"),msie9:-1!=o.indexOf("msie 9"),msie8:-1!=o.indexOf("msie 8"),msie7:-1!=o.indexOf("msie 7"),msie:-1!=o.indexOf("msie ")}},52:(t,r,i)=>{i.d(r,{AH:()=>l,Jq:()=>y,NJ:()=>o,Nm:()=>h,Xk:()=>u,Yz:()=>p,pr:()=>a,u:()=>c});var o=function(t){return t[t.intersection=0]="intersection",t[t.union=1]="union",t[t.difference=2]="difference",t[t.xor=3]="xor",t}({}),a=function(t){return t[t.subject=0]="subject",t[t.clip=1]="clip",t}({}),u=function(t){return t[t.evenOdd=0]="evenOdd",t[t.nonZero=1]="nonZero",t[t.positive=2]="positive",t[t.negative=3]="negative",t}({}),l=function(t){return t[t.square=0]="square",t[t.round=1]="round",t[t.miter=2]="miter",t}({}),c=function(t){return t[t.openSquare=0]="openSquare",t[t.openRound=1]="openRound",t[t.openButt=2]="openButt",t[t.closedLine=3]="closedLine",t[t.closedPolygon=4]="closedPolygon",t}({}),p=function(t){return t[t.left=0]="left",t[t.right=1]="right",t}({}),h=function(t){return t[t.rightToLeft=0]="rightToLeft",t[t.leftToRight=1]="leftToRight",t}({}),y=function(t){return t[t.any=0]="any",t[t.open=1]="open",t[t.closed=2]="closed",t}({})},568:(t,r,i)=>{i.d(r,{CB:()=>P});var o=i(583),a=i(729),u=i(497),l=i(575),c=i(20),p=i(773),h=i(52),y=i(161),v=i(258),d=i(711),m=i(749),b=i(58),_=i(727),P={use_lines:!0,USE_XYZ:!1,Path:b.y,Paths:b.n,DoublePoint:c.K,PolygonNode:_.A,PolygonTree:_.X,mathAbsInt64:function mathAbsInt64(t){return Math.abs(t)},mathAbsInt32:function mathAbsInt32(t){return Math.abs(t)},mathAbsDouble:function mathAbsDouble(t){return Math.abs(t)},mathMaxInt32Int32:function mathMaxInt32Int32(t,r){return Math.max(t,r)},castInt32:function castInt32(t){return o.X.msie||o.X.opera||o.X.safari?0|t:~~t},PI:3.141592653589793,PI2:6.283185307179586,clear:function clear(t){t.length=0},castInt64:function castInt64(t){return t<-2147483648||t>2147483647?t<0?Math.ceil(t):Math.floor(t):~~t},IntPoint:v.u,IntRectangle:d.Z,ClipType:h.NJ,PolyType:h.pr,PolyFillType:h.Xk,JoinType:h.AH,EndType:h.u,EdgeSide:h.Yz,Direction:h.Nm,Edge:p.k,IntersectNode:y.F,MyIntersectNodeSort:y.v,LocalMinima:m.A3,Scanbeam:m.z0,Maxima:m.lt,OuterRectangle:m.I0,OuterPoint:m.sE,Join:m.NV,ClipperBase:u.x,Clipper:a.x,ClipperOffset:l.W}},899:(t,r,i)=>{i.d(r,{Z:()=>l});var o=i(204),a=i(561),u=i(109);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey(o.key),o)}}function _setPrototypeOf(t,r){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){return t.__proto__=r,t},_setPrototypeOf(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var i,o=_getPrototypeOf(t);if(r){var a=_getPrototypeOf(this).constructor;i=Reflect.construct(o,arguments,a)}else i=o.apply(this,arguments);return function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,i)}}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _defineProperty(t,r,i){return(r=_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function _toPropertyKey(t){var r=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===_typeof(r)?r:String(r)}var l=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(InitialSketch,t);var r=_createSuper(InitialSketch);function InitialSketch(){return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,InitialSketch),r.apply(this,arguments)}return function _createClass(t,r,i){return r&&_defineProperties(t.prototype,r),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(InitialSketch,[{key:"init",value:function init(){this.pos={x:this.canvasWidth/2,y:this.canvasHeight/2},this.vs.xDrift=new u.Z({name:"x Drift",min:0,max:20,initialValue:5}),this.vs.yDrift=new u.Z({name:"y Drift",min:0,max:20,initialValue:5}),this.vs.circleMinRadius=new u.Z({name:"Min rad",min:0,max:25,initialValue:3}),this.vs.circleMaxRadius=new u.Z({name:"Max rad",min:0,max:50,initialValue:12}),this.vs.circleDrift=new u.Z({name:"Circle Drift",min:0,max:100,initialValue:30}),this.vs.circleSpawnRate=new u.Z({name:"Spawn rate",min:1,max:300,step:1,initialValue:150}),this.vs.circleSpawnChance=new u.Z({name:"Spawn chance",min:0,max:1,initialValue:.5})}},{key:"initDraw",value:function initDraw(){this.vs.circleMaxRadius.value<this.vs.circleMinRadius.value&&this.vs.circleMaxRadius.setValue(this.vs.circleMinRadius.value,!0)}},{key:"draw",value:function draw(t){if(this.pos.x=(0,a.re)(this.pos.x,this.canvasWidth),this.pos.y=(0,a.re)(this.pos.y,this.canvasHeight),t%100==0&&(this.ctx.strokeStyle="#".concat((65793*(0,a.c4)(128)).toString(16))),this.ctx.beginPath(),this.ctx.moveTo(this.pos.x,this.pos.y),this.pos.x+=(0,a.Qy)(this.vs.xDrift.value),this.pos.y+=(0,a.Qy)(this.vs.yDrift.value),this.ctx.lineTo(this.pos.x,this.pos.y),this.ctx.stroke(),this.ctx.closePath(),t%this.vs.circleSpawnRate.value==0&&Math.random()<this.vs.circleSpawnChance.value){var r=this.ctx.fillStyle,i=this.ctx.strokeStyle;this.ctx.strokeStyle="#000",this.ctx.fillStyle="#".concat(Math.floor(8388607.5+(0,a.c4)(8388607.5)).toString(16)),this.ctx.beginPath(),this.ctx.circle(this.pos.x+(0,a.rO)(this.vs.circleDrift.value),this.pos.y+(0,a.rO)(this.vs.circleDrift.value),(0,a.c4)(this.vs.circleMaxRadius.value,this.vs.circleMinRadius.value)),this.ctx.fill(),this.ctx.stroke(),this.ctx.closePath(),this.ctx.strokeStyle=i,this.ctx.fillStyle=r}}}]),InitialSketch}(o.v);_defineProperty(l,"generateGCode",!1),_defineProperty(l,"enableCutouts",!1)},715:(t,r,i)=>{function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(a=o.key,u=void 0,u=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(a,"string"),"symbol"===_typeof(u)?u:String(u)),o)}var a,u}function _setPrototypeOf(t,r){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){return t.__proto__=r,t},_setPrototypeOf(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var i,o=_getPrototypeOf(t);if(r){var a=_getPrototypeOf(this).constructor;i=Reflect.construct(o,arguments,a)}else i=o.apply(this,arguments);return function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,i)}}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}i.d(r,{Z:()=>o});var o=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(GCodeTest,t);var r=_createSuper(GCodeTest);function GCodeTest(){return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,GCodeTest),r.apply(this,arguments)}return function _createClass(t,r,i){return r&&_defineProperties(t.prototype,r),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(GCodeTest,[{key:"init",value:function init(){this.ctx.driver.comment("Drawing single line"),this.ctx.beginPath(),this.ctx.moveTo(10,10),this.ctx.lineTo(20,10),this.ctx.stroke(),this.ctx.closePath(),this.ctx.driver.comment("Drawing joined line"),this.ctx.beginPath(),this.ctx.moveTo(20,40),this.ctx.lineTo(25,40),this.ctx.lineTo(30,45),this.ctx.stroke(),this.ctx.closePath(),this.ctx.driver.comment("Drawing rect outline"),this.ctx.strokeRect(20,20,5,5),this.ctx.driver.comment("Drawing rect fill"),this.ctx.fillRect(30,20,5,5),this.ctx.driver.comment("Drawing circle"),this.ctx.beginPath(),"circle"in this.ctx&&this.ctx.circle(40,40,5),this.ctx.stroke(),this.ctx.closePath(),this.ctx.driver.comment("Drawing arc"),this.ctx.beginPath(),this.ctx.arc(70,50,5,Math.PI/2,.75*-Math.PI,!0),this.ctx.stroke(),this.ctx.closePath(),this.ctx.driver.comment("Drawing bezier curve"),this.ctx.beginPath(),this.ctx.moveTo(10,60),this.ctx.bezierCurveTo(20,70,30,50,40,60),this.ctx.stroke(),this.ctx.closePath(),this.ctx.driver.comment("Drawing quadratic curve"),this.ctx.beginPath(),this.ctx.moveTo(50,30),this.ctx.quadraticCurveTo(60,60,70,30),this.ctx.stroke(),this.ctx.closePath()}}]),GCodeTest}(i(204).v)},798:(t,r,i)=>{i.d(r,{Z:()=>h});var o=i(563),a=i(323),u=i(204),l=i(132),c=i(286),p=i(109);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey(o.key),o)}}function _setPrototypeOf(t,r){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){return t.__proto__=r,t},_setPrototypeOf(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var i,o=_getPrototypeOf(t);if(r){var a=_getPrototypeOf(this).constructor;i=Reflect.construct(o,arguments,a)}else i=o.apply(this,arguments);return function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}(this,i)}}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _toPropertyKey(t){var r=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===_typeof(r)?r:String(r)}var h=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(Arcs,t);var r=_createSuper(Arcs);function Arcs(){var t;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Arcs);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return function _defineProperty(t,r,i){return(r=_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}(_assertThisInitialized(t=r.call.apply(r,[this].concat(o))),"count",0),t}return function _createClass(t,r,i){return r&&_defineProperties(t.prototype,r),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(Arcs,[{key:"init",value:function init(){var t=this;this.vs.precision=new p.Z({initialValue:180,min:2,max:1440,step:1}),this.vs.speedPow1=new p.Z({initialValue:.5,min:.001,max:10,step:.001}),this.vs.radiusMin=new p.Z({initialValue:.1,min:1,max:20,step:.1}),this.vs.radiusMax=new p.Z({initialValue:.5,min:1,max:20,step:.1}),this.vs.radiusThetaMulti=new p.Z({initialValue:1,min:.001,max:5,step:.001}),this.osc=new c.Z({speed:function speed(r){var i=Math.sqrt(r)/-Math.pow(Math.sqrt(r),t.vs.speedPow1.value);return isNaN(i)?0:i},radius:function radius(r){return new a.Z(t.vs.radiusMin.value+Math.cos(r*t.vs.radiusThetaMulti.value)*t.vs.radiusMax.value,t.vs.radiusMin.value+Math.sin(r*t.vs.radiusThetaMulti.value)*t.vs.radiusMax.value)}})}},{key:"initDraw",value:function initDraw(){this.vs.radiusMin.value>this.vs.radiusMax.value&&this.vs.radiusMax.setValue(this.vs.radiusMin.value,!0),console.log({precision:this.vs.precision.value,speedPow1:this.vs.speedPow1.value,radiusMin:this.vs.radiusMin.value,radiusMax:this.vs.radiusMax.value,radiusThetaMulti:this.vs.radiusThetaMulti.value}),this.count=0,this.lastPoint=void 0,this.osc.reset();var t=Math.min(this.cw,this.ch)/2-(this.vs.radiusMax.value+10),r=(0,l.CS)(this.cx,this.cy,0,2*Math.PI,t).start,i=new o.Z;i.moveTo(r.x,r.y),i.arc(this.cx,this.cy,t,0,2*Math.PI,!1),this.circlePoints=i.getPoints(this.vs.precision.value)}},{key:"draw",value:function draw(t){if(!(this.count>=this.circlePoints.length)){this.osc.step(this.count+1);var r=this.circlePoints[this.count],i=new a.Z(r.x+this.osc.x,r.y+this.osc.y);this.lastPoint&&r&&(this.ctx.beginPath(),this.ctx.moveTo(this.lastPoint.x,this.lastPoint.y),this.ctx.lineTo(i.x,i.y),this.ctx.stroke(),this.ctx.closePath()),this.lastPoint=i.clone(),this.count++}}}]),Arcs}(u.v)},613:(t,r,i)=>{i.d(r,{Z:()=>c});var o=i(323),a=i(204),u=i(561),l=i(109);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey(o.key),o)}}function _setPrototypeOf(t,r){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){return t.__proto__=r,t},_setPrototypeOf(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var i,o=_getPrototypeOf(t);if(r){var a=_getPrototypeOf(this).constructor;i=Reflect.construct(o,arguments,a)}else i=o.apply(this,arguments);return function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,i)}}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _defineProperty(t,r,i){return(r=_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function _toPropertyKey(t){var r=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===_typeof(r)?r:String(r)}var c=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(BezierScribbles,t);var r=_createSuper(BezierScribbles);function BezierScribbles(){return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,BezierScribbles),r.apply(this,arguments)}return function _createClass(t,r,i){return r&&_defineProperties(t.prototype,r),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(BezierScribbles,[{key:"init",value:function init(){this.vs.stopAfter=new l.Z({initialValue:5,min:1,max:200,step:1}),this.vs.driftMin=new l.Z({initialValue:20,min:0,max:100,step:1}),this.vs.driftMax=new l.Z({initialValue:50,min:0,max:100,step:1}),this.vs.midpointDrift=new l.Z({initialValue:30,min:0,max:100,step:1})}},{key:"initDraw",value:function initDraw(){var t=Math.random()*Math.PI*2;this.lastPoint=new o.Z(this.cx+100*Math.cos(t),this.cy+100*+Math.sin(t)),this.lastAnchorPoint=this.lastPoint.clone()}},{key:"draw",value:function draw(t){if(!(t>this.vs.stopAfter.value)){var r=new o.Z(this.lastPoint.x+Math.cos(Math.random()*Math.PI*2)*(this.vs.driftMin.value+Math.random()*(this.vs.driftMax.value-this.vs.driftMin.value)),this.lastPoint.y+Math.sin(Math.random()*Math.PI*2)*(this.vs.driftMin.value+Math.random()*(this.vs.driftMax.value-this.vs.driftMin.value)));r.x+=(this.cx-r.x)/15,r.y+=(this.cy-r.y)/15;var i=this.lastAnchorPoint.angleTo(this.lastPoint),a=this.lastAnchorPoint.distanceTo(this.lastPoint),l=this.lastAnchorPoint.add(new o.Z(Math.cos(i)*(2*a),Math.sin(i)*(2*a))).add(new o.Z((0,u.rO)(this.vs.midpointDrift.value),(0,u.rO)(this.vs.midpointDrift.value)));l.x+=(this.cx-l.x)/15,l.y+=(this.cy-l.y)/15,this.ctx.beginPath(),this.ctx.moveTo(this.lastPoint.x,this.lastPoint.y),this.ctx.bezierCurveTo(l.x,l.y,l.x,l.y,r.x,r.y),this.ctx.stroke(),this.ctx.closePath(),this.lastPoint=r.clone(),this.lastAnchorPoint=l.clone()}}}]),BezierScribbles}(a.v);_defineProperty(c,"generateGCode",!1),_defineProperty(c,"enableCutouts",!1)},918:(t,r,i)=>{i.d(r,{Z:()=>c});var o=i(323),a=i(204),u=i(286),l=i(109);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey(o.key),o)}}function _setPrototypeOf(t,r){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){return t.__proto__=r,t},_setPrototypeOf(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var i,o=_getPrototypeOf(t);if(r){var a=_getPrototypeOf(this).constructor;i=Reflect.construct(o,arguments,a)}else i=o.apply(this,arguments);return function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,i)}}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _toPropertyKey(t){var r=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===_typeof(r)?r:String(r)}var c=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(Spiraling,t);var r=_createSuper(Spiraling);function Spiraling(){return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Spiraling),r.apply(this,arguments)}return function _createClass(t,r,i){return r&&_defineProperties(t.prototype,r),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(Spiraling,[{key:"init",value:function init(){var t=this,r=15;this.vs.speedUp=new l.Z({initialValue:10,min:1,max:100,step:1,disableRandomize:!0}),this.vs.stopAfter=new l.Z({initialValue:5e4,min:1,max:12e4,step:1,disableRandomize:!0}),this.vs.osc1speed=new l.Z({initialValue:.1,min:-Math.PI/8,max:Math.PI/8,step:Math.PI/666}),this.vs.osc1dist=new l.Z({initialValue:Math.PI/4/r,min:Math.PI/8/r,max:16*Math.PI/r,step:Math.PI/32/r}),this.vs.osc1phase=new l.Z({initialValue:0,min:0,max:2*Math.PI,step:Math.PI/16}),this.vs.osc2speed=new l.Z({initialValue:.1,min:-Math.PI/8,max:Math.PI/8,step:Math.PI/666}),this.vs.osc2dist=new l.Z({initialValue:Math.PI/4/r,min:Math.PI/8/r,max:16*Math.PI/r,step:Math.PI/32/r}),this.vs.osc2phase=new l.Z({initialValue:0,min:0,max:2*Math.PI,step:Math.PI/16}),this.vs.osc3speed=new l.Z({initialValue:.1,min:-Math.PI/8,max:Math.PI/8,step:Math.PI/666}),this.vs.osc3dist=new l.Z({initialValue:Math.PI/4/r,min:Math.PI/8/r,max:16*Math.PI/r,step:Math.PI/32/r}),this.vs.osc3phase=new l.Z({initialValue:0,min:0,max:2*Math.PI,step:Math.PI/16}),this.osc1=new u.Z({speed:function speed(r){return t.vs.osc1speed.value},radius:function radius(r){return t.vs.osc1dist.value},phase:0}),this.osc2=new u.Z({speed:function speed(r){return t.vs.osc2speed.value},radius:function radius(r){return t.vs.osc2dist.value},phase:0}),this.osc3=new u.Z({speed:function speed(r){return t.vs.osc3speed.value},radius:function radius(r){return t.vs.osc3dist.value},phase:0})}},{key:"initDraw",value:function initDraw(){this.lastPoint=new o.Z(this.cx,this.cy),this.vs.stopAfter.step=this.vs.speedUp.value,this.osc1.phase=this.vs.osc1phase.value,this.osc2.phase=this.vs.osc2phase.value,this.osc3.phase=this.vs.osc3phase.value,this.osc1.reset(),this.osc2.reset(),this.osc3.reset()}},{key:"draw",value:function draw(t){var r=this.vs.speedUp.value;if(!(t*r>this.vs.stopAfter.value))for(var i=0;i<r;i++){this.osc1.step(t),this.osc2.step(t),this.osc3.step(t);var o=this.lastPoint.clone().add(this.osc1.value.add(this.osc2.value).add(this.osc3.value));this.ctx.beginPath(),this.ctx.moveTo(this.lastPoint.x,this.lastPoint.y),this.ctx.lineTo(o.x,o.y),this.ctx.stroke(),this.ctx.closePath(),this.lastPoint=o}}}]),Spiraling}(a.v);!function _defineProperty(t,r,i){return(r=_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}(c,"enableCutouts",!1)},511:(t,r,i)=>{i.d(r,{Z:()=>c});var o=i(323),a=i(204),u=i(286),l=i(109);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey(o.key),o)}}function _setPrototypeOf(t,r){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){return t.__proto__=r,t},_setPrototypeOf(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var i,o=_getPrototypeOf(t);if(r){var a=_getPrototypeOf(this).constructor;i=Reflect.construct(o,arguments,a)}else i=o.apply(this,arguments);return function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,i)}}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _toPropertyKey(t){var r=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===_typeof(r)?r:String(r)}var c=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(SpiralingProportional,t);var r=_createSuper(SpiralingProportional);function SpiralingProportional(){return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,SpiralingProportional),r.apply(this,arguments)}return function _createClass(t,r,i){return r&&_defineProperties(t.prototype,r),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(SpiralingProportional,[{key:"init",value:function init(){var t=this;this.vs.speedUp=new l.Z({initialValue:15,min:1,max:100,step:1,disableRandomize:!0}),this.vs.stopAfter=new l.Z({initialValue:1e3,min:1,max:2e4,step:1,disableRandomize:!0}),this.vs.oscSpeed=new l.Z({initialValue:.1825,min:-Math.PI/8,max:Math.PI/8,step:Math.PI/666}),this.vs.oscSpeedMulti=new l.Z({initialValue:2.994,min:.5,max:5,step:1e-5}),this.vs.oscDist=new l.Z({initialValue:50,min:1,max:20,step:.25}),this.vs.osc1phase=new l.Z({initialValue:5.9,min:0,max:2*Math.PI,step:Math.PI/32}),this.vs.osc2phase=new l.Z({initialValue:1.8,min:0,max:2*Math.PI,step:Math.PI/32}),this.vs.osc3phase=new l.Z({initialValue:2,min:0,max:2*Math.PI,step:Math.PI/32}),this.osc1=new u.Z({speed:function speed(r){return t.vs.oscSpeed.value*t.vs.oscSpeedMulti.value/2},radius:function radius(r){return t.vs.oscDist.value},phase:0}),this.osc2=new u.Z({speed:function speed(r){return t.vs.oscSpeed.value*Math.pow(t.vs.oscSpeedMulti.value,2)/2},radius:function radius(r){return t.vs.oscDist.value},phase:0}),this.osc3=new u.Z({speed:function speed(r){return t.vs.oscSpeed.value*Math.pow(t.vs.oscSpeedMulti.value,3)/3},radius:function radius(r){return t.vs.oscDist.value},phase:0})}},{key:"initDraw",value:function initDraw(){this.lastPoint=new o.Z(this.cx,this.cy),this.vs.stopAfter.step=this.vs.speedUp.value,this.osc1.phase=this.vs.osc1phase.value,this.osc2.phase=this.vs.osc2phase.value,this.osc3.phase=this.vs.osc3phase.value,this.osc1.reset(),this.osc2.reset(),this.osc3.reset()}},{key:"draw",value:function draw(t){var r=this.vs.speedUp.value;if(!(t*r>this.vs.stopAfter.value))for(var i=0;i<r;i++){this.osc1.step(t),this.osc2.step(t),this.osc3.step(t);var o=this.lastPoint.clone().add(this.osc1.value.add(this.osc2.value).add(this.osc3.value));this.ctx.beginPath(),this.ctx.moveTo(this.lastPoint.x,this.lastPoint.y),this.ctx.lineTo(o.x,o.y),this.ctx.stroke(),this.ctx.closePath(),this.lastPoint=o}}}]),SpiralingProportional}(a.v);!function _defineProperty(t,r,i){return(r=_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}(c,"enableCutouts",!1)},166:(t,r,i)=>{i.d(r,{Z:()=>c});var o=i(323),a=i(204),u=i(286),l=i(109);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey(o.key),o)}}function _setPrototypeOf(t,r){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){return t.__proto__=r,t},_setPrototypeOf(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var i,o=_getPrototypeOf(t);if(r){var a=_getPrototypeOf(this).constructor;i=Reflect.construct(o,arguments,a)}else i=o.apply(this,arguments);return function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,i)}}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _toPropertyKey(t){var r=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===_typeof(r)?r:String(r)}var c=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(ConcentricCircles,t);var r=_createSuper(ConcentricCircles);function ConcentricCircles(){return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,ConcentricCircles),r.apply(this,arguments)}return function _createClass(t,r,i){return r&&_defineProperties(t.prototype,r),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(ConcentricCircles,[{key:"init",value:function init(){var t=this;this.vs.speedUp=new l.Z({initialValue:1,min:1,max:100,step:1,disableRandomize:!0}),this.vs.stopAfter=new l.Z({initialValue:100,min:1,max:1e3,step:1,disableRandomize:!0}),this.vs.shrinkAmount=new l.Z({initialValue:15,min:1,max:12,step:.1}),this.vs.shrinkDiv=new l.Z({initialValue:1,min:0,max:1.8,step:.01}),this.vs.shrinkFalloff=new l.Z({initialValue:1,min:.9,max:1.1,step:.005}),this.vs.shrinkVariance=new l.Z({initialValue:0,min:0,max:50,step:.01}),this.vs.shrinkVarOsc=new l.Z({initialValue:Math.PI/32,min:0,max:Math.PI/4,step:.001}),this.vs.rotateSpeed=new l.Z({initialValue:Math.PI/32,min:-Math.PI/4,max:Math.PI/4,step:.001}),this.osc1=new u.Z({radius:function radius(r){return t.vs.shrinkVariance.value},speed:function speed(r){return t.vs.shrinkVarOsc.value},phase:0})}},{key:"initDraw",value:function initDraw(){this.lastPoint=new o.Z(this.cx,this.cy),this.radius=.45*Math.min(this.cw,this.ch),this.theta=0,this.osc1.reset()}},{key:"draw",value:function draw(t){var r=this.vs.speedUp.value;if(!(t*r>this.vs.stopAfter.value))for(var i=0;i<r;i++){var o=t*r+i;this.osc1.step(o),this.radius>0&&(this.ctx.beginPath(),this.ctx.circle(this.lastPoint.x,this.lastPoint.y,this.radius),this.ctx.stroke(),this.ctx.closePath()),this.theta+=this.vs.rotateSpeed.value;var a=this.radius-(this.vs.shrinkAmount.value+this.osc1.x)*Math.pow(this.vs.shrinkFalloff.value,o),u=this.radius-a;this.lastPoint=this.lastPoint.moveAlongAngle(this.theta,u*this.vs.shrinkDiv.value),this.radius=a}}}]),ConcentricCircles}(a.v);!function _defineProperty(t,r,i){return(r=_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}(c,"enableCutouts",!1)},703:(t,r,i)=>{i.d(r,{Z:()=>c});var o=i(323),a=i(204),u=i(833),l=i(109);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var o=0,a=function F(){};return{s:a,n:function n(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,l=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();return l=t.done,t},e:function e(t){c=!0,u=t},f:function f(){try{l||null==i.return||i.return()}finally{if(c)throw u}}}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,o=new Array(r);i<r;i++)o[i]=t[i];return o}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey(o.key),o)}}function _setPrototypeOf(t,r){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){return t.__proto__=r,t},_setPrototypeOf(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var i,o=_getPrototypeOf(t);if(r){var a=_getPrototypeOf(this).constructor;i=Reflect.construct(o,arguments,a)}else i=o.apply(this,arguments);return function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,i)}}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _defineProperty(t,r,i){return(r=_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function _toPropertyKey(t){var r=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===_typeof(r)?r:String(r)}var c=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(BubblesInCircle,t);var r=_createSuper(BubblesInCircle);function BubblesInCircle(){return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,BubblesInCircle),r.apply(this,arguments)}return function _createClass(t,r,i){return r&&_defineProperties(t.prototype,r),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(BubblesInCircle,[{key:"init",value:function init(){this.vs.seed=new l.Z({initialValue:1391,min:1e3,max:5e3,step:1}),this.vs.atLeast=new l.Z({initialValue:777,min:1,max:5e3,step:1,disableRandomize:!0}),this.vs.maxRadius=new l.Z({initialValue:300,min:.5,max:45,step:.5,disableRandomize:!0}),this.vs.minRadius=new l.Z({initialValue:.2,min:.1,max:5,step:.05,disableRandomize:!0})}},{key:"initDraw",value:function initDraw(){(0,u.b)(this.vs.seed.value),this.reordered=!1,this.redrawnCount=0,this.circles=[],this.radius=.45*Math.min(this.cw,this.ch),this.ctx.beginPath(),this.ctx.circle(this.cx,this.cy,this.radius),this.ctx.stroke(),this.ctx.closePath()}},{key:"draw",value:function draw(t){if(this.circles.length>this.vs.atLeast.value)if(this.reordered){if(this.redrawnCount<this.circles.length){var r=this.circles[this.redrawnCount];this.ctx.beginPath(),this.ctx.circle(r.position.x,r.position.y,r.radius),this.ctx.stroke(),this.ctx.closePath(),this.redrawnCount++}}else{var i=new o.Z(this.cx,this.cy);this.circles.sort((function(t,r){return o.Z.distance(i,r.position)-o.Z.distance(i,t.position)})),this.ctx.reset(),this.ctx.beginPath(),this.ctx.circle(this.cx,this.cy,this.radius),this.ctx.stroke(),this.ctx.closePath(),this.reordered=!0}else{var a=(0,u.M)()*Math.PI*2,l=(0,u.M)()*this.radius,c=new o.Z(this.cx+Math.cos(a)*l,this.cy+Math.sin(a)*l),p=0,h=!0,y=this.radius-o.Z.distance(new o.Z(this.cx,this.cy),c);if(this.circles.length){var v,d=[],m=_createForOfIteratorHelper(this.circles);try{for(m.s();!(v=m.n()).done;){var b=v.value,_=o.Z.distance(b.position,c);_<=b.radius?h=!1:d.push(_-b.radius)}}catch(t){m.e(t)}finally{m.f()}d.sort((function(t,r){return t-r})),p=d[0],h&&p>y&&(p=y)}else p=y;(p>this.vs.maxRadius.value||p<this.vs.minRadius.value)&&(h=!1),h&&p>0&&(this.circles.push({position:c,radius:p}),this.ctx.beginPath(),this.ctx.circle(c.x,c.y,p),this.ctx.stroke(),this.ctx.closePath())}}}]),BubblesInCircle}(a.v);_defineProperty(c,"generateGCode",!1),_defineProperty(c,"enableCutouts",!1)},139:(t,r,i)=>{i.d(r,{Z:()=>u});var o=i(204),a=i(109);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey(o.key),o)}}function _setPrototypeOf(t,r){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){return t.__proto__=r,t},_setPrototypeOf(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var i,o=_getPrototypeOf(t);if(r){var a=_getPrototypeOf(this).constructor;i=Reflect.construct(o,arguments,a)}else i=o.apply(this,arguments);return function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,i)}}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _toPropertyKey(t){var r=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===_typeof(r)?r:String(r)}var u=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(GridWaves,t);var r=_createSuper(GridWaves);function GridWaves(){return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,GridWaves),r.apply(this,arguments)}return function _createClass(t,r,i){return r&&_defineProperties(t.prototype,r),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(GridWaves,[{key:"init",value:function init(){this.vs.cols=new a.Z({initialValue:3,min:1,max:10,step:1,disableRandomize:!0}),this.vs.rows=new a.Z({initialValue:4,min:1,max:10,step:1,disableRandomize:!0}),this.vs.gap=new a.Z({initialValue:2,min:0,max:25,step:1,disableRandomize:!0}),this.vs.outerGap=new a.Z({initialValue:5,min:0,max:25,step:1,disableRandomize:!0})}},{key:"initDraw",value:function initDraw(){var t=this.vs.cols.value,r=this.vs.rows.value,i=this.vs.gap.value,o=this.vs.outerGap.value;this.effectiveWidth=this.cw-2*o,this.effectiveHeight=this.ch-2*o;for(var a=(this.effectiveWidth-i*(t-1))/t,u=o,l=o,c=0;c<r;c++){u=o;for(var p=0;p<t;p++)this.ctx.beginPath(),this.ctx.rect(u,l,a,a),this.ctx.stroke(),this.ctx.closePath(),u+=a+i;l+=a+i}}},{key:"draw",value:function draw(t){}}]),GridWaves}(o.v);!function _defineProperty(t,r,i){return(r=_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}(u,"enableCutouts",!1)},97:(t,r,i)=>{i.d(r,{Z:()=>c});var o=i(204),a=i(393),u=i(833),l=i(109);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey(o.key),o)}}function _setPrototypeOf(t,r){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){return t.__proto__=r,t},_setPrototypeOf(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var i,o=_getPrototypeOf(t);if(r){var a=_getPrototypeOf(this).constructor;i=Reflect.construct(o,arguments,a)}else i=o.apply(this,arguments);return function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}(this,i)}}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _defineProperty(t,r,i){return(r=_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function _toPropertyKey(t){var r=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===_typeof(r)?r:String(r)}var c=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(PerlinGrid,t);var r=_createSuper(PerlinGrid);function PerlinGrid(){var t;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,PerlinGrid);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return _defineProperty(_assertThisInitialized(t=r.call.apply(r,[this].concat(o))),"drawCount",0),_defineProperty(_assertThisInitialized(t),"maxDrawCount",0),t}return function _createClass(t,r,i){return r&&_defineProperties(t.prototype,r),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(PerlinGrid,[{key:"init",value:function init(){this.vs.speedUp=new l.Z({initialValue:10,min:1,max:100,step:1,disableRandomize:!0}),this.vs.seed=new l.Z({initialValue:1e3,min:1e3,max:5e3,step:1}),this.vs.cols=new l.Z({initialValue:90,min:1,max:200,step:1,disableRandomize:!0}),this.vs.rows=new l.Z({initialValue:90,min:1,max:200,step:1,disableRandomize:!0}),this.vs.shape=new l.Z({initialValue:1,min:0,max:1,step:1,disableRandomize:!0}),this.vs.size=new l.Z({initialValue:18,min:.1,max:64,step:.1}),this.vs.perlinDiv=new l.Z({initialValue:25,min:1,max:100,step:1,disableRandomize:!0}),this.vs.offsetX=new l.Z({initialValue:0,min:-100,max:100,step:1}),this.vs.offsetY=new l.Z({initialValue:0,min:-100,max:100,step:1}),this.vs.outerGap=new l.Z({initialValue:12,min:0,max:25,step:1,disableRandomize:!0})}},{key:"initDraw",value:function initDraw(){(0,u.b)(this.vs.seed.value),(0,a.ii)(this.vs.seed.value);var t=this.vs.cols.value,r=this.vs.rows.value,i=this.vs.outerGap.value;this.effectiveWidth=this.cw-2*i,this.effectiveHeight=this.ch-2*i,this.drawCount=0,this.maxDrawCount=r*t}},{key:"draw",value:function draw(t){if(!(this.drawCount>=this.maxDrawCount)){var r=this.vs.speedUp.value,i=this.vs.cols.value,o=this.vs.rows.value,u=this.vs.outerGap.value,l=this.vs.size.value,c=this.vs.shape.value,p=this.vs.perlinDiv.value,h=this.vs.offsetX.value,y=this.vs.offsetY.value,v=this.effectiveWidth/i,d=this.effectiveHeight/o;0===c&&(r=Math.max(1,Math.floor(r/4)));for(var m=0;m<this.vs.speedUp.value;m++){var b=this.drawCount+m;if(b>=this.maxDrawCount)break;var _=b%i,P=Math.floor(b/i),g=u+_*v,x=u+P*d,w=Math.abs((0,a.tv)((_+h)/p,(P+y)/p))*l;this.ctx.beginPath(),0===c?this.ctx.circle(g,x,w):1===c&&this.ctx.rect(g-w/2,x-w/2,w,w),this.ctx.stroke(),this.ctx.closePath()}this.drawCount+=this.vs.speedUp.value}}}]),PerlinGrid}(o.v);_defineProperty(c,"enableCutouts",!1)},165:(t,r,i)=>{i.d(r,{Z:()=>c});var o=i(204),a=i(393),u=i(833),l=i(109);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey(o.key),o)}}function _setPrototypeOf(t,r){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){return t.__proto__=r,t},_setPrototypeOf(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var i,o=_getPrototypeOf(t);if(r){var a=_getPrototypeOf(this).constructor;i=Reflect.construct(o,arguments,a)}else i=o.apply(this,arguments);return function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}(this,i)}}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _defineProperty(t,r,i){return(r=_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function _toPropertyKey(t){var r=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===_typeof(r)?r:String(r)}var c=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(PerlinLines,t);var r=_createSuper(PerlinLines);function PerlinLines(){var t;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,PerlinLines);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return _defineProperty(_assertThisInitialized(t=r.call.apply(r,[this].concat(o))),"drawCount",0),_defineProperty(_assertThisInitialized(t),"maxDrawCount",0),t}return function _createClass(t,r,i){return r&&_defineProperties(t.prototype,r),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(PerlinLines,[{key:"init",value:function init(){this.vs.speedUp=new l.Z({initialValue:1,min:1,max:100,step:1,disableRandomize:!0}),this.vs.seed=new l.Z({initialValue:9275,min:1e3,max:5e3,step:1}),this.vs.cols=new l.Z({initialValue:150,min:1,max:300,step:1}),this.vs.rows=new l.Z({initialValue:120,min:1,max:300,step:1}),this.vs.size=new l.Z({initialValue:.5,min:.1,max:8,step:.1}),this.vs.perlinDivX=new l.Z({initialValue:75,min:1,max:100,step:1}),this.vs.perlinDivY=new l.Z({initialValue:75,min:1,max:100,step:1}),this.vs.perlinOffsetX=new l.Z({initialValue:0,min:-100,max:100,step:1}),this.vs.perlinOffsetY=new l.Z({initialValue:0,min:-100,max:100,step:1}),this.vs.drawOffsetStart=new l.Z({initialValue:1,min:-5,max:5,step:.1}),this.vs.drawOffsetEnd=new l.Z({initialValue:-4.5,min:-5,max:5,step:.1}),this.vs.outerGap=new l.Z({initialValue:18,min:0,max:25,step:1,disableRandomize:!0})}},{key:"initDraw",value:function initDraw(){(0,u.b)(this.vs.seed.value),(0,a.ii)(this.vs.seed.value);var t=this.vs.cols.value,r=this.vs.rows.value,i=this.vs.outerGap.value;this.effectiveWidth=this.cw-2*i,this.effectiveHeight=this.ch-2*i,this.drawCount=0,this.maxDrawCount=r*t}},{key:"draw",value:function draw(t){if(!(this.drawCount>=this.maxDrawCount)){for(var r=this.vs.cols.value,i=this.vs.rows.value,o=this.vs.outerGap.value,u=this.vs.size.value,l=this.vs.perlinDivX.value,c=this.vs.perlinDivY.value,p=this.vs.perlinOffsetX.value,h=this.vs.perlinOffsetY.value,y=this.vs.drawOffsetStart.value,v=this.vs.drawOffsetEnd.value,d=this.effectiveWidth/r,m=this.effectiveHeight/i,b=u/(1+(this.vs.size.max-(r+i)/2)/500),_=0;_<this.vs.speedUp.value;_++){var P=this.drawCount+_;if(P>=this.maxDrawCount)break;var g=P%r,x=Math.floor(P/r),w=o+g*d,O=o+x*m,S=(0,a.tv)((g+p)/l,(x+h)/c)*Math.PI*2,C={x:w+Math.cos(S)*(b+y),y:O+Math.sin(S)*(b+y)},T={x:w+Math.cos(S+Math.PI)*(b+v),y:O+Math.sin(S+Math.PI)*(b+v)};this.ctx.beginPath(),P%2==0?(this.ctx.moveTo(C.x,C.y),this.ctx.lineTo(T.x,T.y)):(this.ctx.moveTo(T.x,T.y),this.ctx.lineTo(C.x,C.y)),this.ctx.stroke(),this.ctx.closePath()}this.drawCount+=this.vs.speedUp.value}}}]),PerlinLines}(o.v);_defineProperty(c,"enableCutouts",!1)},245:(t,r,i)=>{i.d(r,{Z:()=>p});var o=i(323),a=i(204),u=i(561),l=i(833),c=i(109);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,o=new Array(r);i<r;i++)o[i]=t[i];return o}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey(o.key),o)}}function _setPrototypeOf(t,r){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){return t.__proto__=r,t},_setPrototypeOf(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var i,o=_getPrototypeOf(t);if(r){var a=_getPrototypeOf(this).constructor;i=Reflect.construct(o,arguments,a)}else i=o.apply(this,arguments);return function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}(this,i)}}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _defineProperty(t,r,i){return(r=_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function _toPropertyKey(t){var r=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===_typeof(r)?r:String(r)}var p=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(Tree,t);var r=_createSuper(Tree);function Tree(){var t;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Tree);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return _defineProperty(_assertThisInitialized(t=r.call.apply(r,[this].concat(o))),"branchLevel",0),_defineProperty(_assertThisInitialized(t),"drawnCurrentStems",0),_defineProperty(_assertThisInitialized(t),"currentStems",[]),_defineProperty(_assertThisInitialized(t),"nextStems",[]),t}return function _createClass(t,r,i){return r&&_defineProperties(t.prototype,r),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(Tree,[{key:"init",value:function init(){this.vs.seed=new c.Z({initialValue:2222,min:1e3,max:5e3,step:1}),this.vs.initBranchLength=new c.Z({initialValue:8,min:5,max:10,step:.1}),this.vs.branchLengthFalloff=new c.Z({initialValue:.83,min:.4,max:.9,step:.005}),this.vs.splitProbability=new c.Z({initialValue:.6,min:0,max:1,step:.005}),this.vs.pruneProbability=new c.Z({initialValue:.95,min:0,max:1,step:.05}),this.vs.bloomProbability=new c.Z({initialValue:.6,min:0,max:1,step:.05}),this.vs.bloomSize=new c.Z({initialValue:.3,min:.2,max:1.2,step:.1}),this.vs.splitAngleRange=new c.Z({initialValue:.44,min:0,max:Math.PI/2,step:Math.PI/256}),this.vs.splitAngleBranchLevelMulti=new c.Z({initialValue:.1,min:-1,max:1,step:.05}),this.vs.splitAngleMinPercent=new c.Z({initialValue:.5,min:0,max:1,step:.05}),this.vs.chaosFactor=new c.Z({initialValue:.85,min:0,max:2,step:.01}),this.vs.splitCount=new c.Z({initialValue:2,min:2,max:5,step:1,disableRandomize:!0}),this.vs.maxBranchLevels=new c.Z({initialValue:14,min:1,max:24,step:1,disableRandomize:!0})}},{key:"initDraw",value:function initDraw(){(0,l.b)(this.vs.seed.value),this.branchLevel=0,this.drawnCurrentStems=0,this.currentStems=[],this.nextStems=[];var t=this.vs.branchLengthFalloff.value,r=this.vs.initBranchLength.value/t,i=-Math.PI/2,a=this.drawBranch(new o.Z(this.cx,this.ch-10),i,r);this.currentStems.push({position:a,angle:i,length:r})}},{key:"draw",value:function draw(t){if(!(this.branchLevel>this.vs.maxBranchLevels.value))if(this.drawnCurrentStems>=this.currentStems.length)this.currentStems=_toConsumableArray(this.nextStems),this.nextStems=[],this.branchLevel++,this.drawnCurrentStems=0;else{var r=this.currentStems[this.drawnCurrentStems],i=this.vs.branchLengthFalloff.value,o=this.branchLevel<3?1:this.vs.splitProbability.value,a=this.vs.splitAngleRange.value,c=this.vs.splitAngleBranchLevelMulti.value,p=this.vs.splitAngleMinPercent.value,h=this.vs.pruneProbability.value,y=this.vs.bloomProbability.value,v=this.vs.chaosFactor.value;if((0,l.M)()<=o)for(var d=this.vs.splitCount.value,m=a*(1+c*this.branchLevel/4),b=m*p+(0,u.EA)(m*(1-p))+(0,u.Qy)(v)*Math.PI/8,_=2*b/d,P=0;P<d;P++){var g=r.length*i*(1+(0,u.Qy)(v/8)),x=r.angle-b/2+_*P+(0,u.Qy)(Math.PI*v/10),w=this.drawBranch(r.position,x,g);this.nextStems.push({position:w,angle:x,length:g})}else{var O=r.angle+(0,u.Qy)(Math.PI*v/10),S=r.length*i*(1+(0,u.Qy)(v/8)),C=this.drawBranch(r.position,O,S);this.branchLevel!==this.vs.maxBranchLevels.value&&(0,l.M)()>h?this.nextStems.push({position:C,angle:O,length:S}):(0,l.M)()<y&&this.drawBloom(C,O)}this.drawnCurrentStems++}}},{key:"drawBranch",value:function drawBranch(t,r,i){this.ctx.beginPath(),this.ctx.moveTo(t.x,t.y);var a=t.clone().add(new o.Z(Math.cos(r)*i,Math.sin(r)*i));return this.ctx.lineTo(a.x,a.y),this.ctx.stroke(),this.ctx.closePath(),a}},{key:"drawBloom",value:function drawBloom(t,r){var i=this.vs.bloomSize.value;this.ctx.beginPath(),this.ctx.circle(t.x+Math.cos(r)*i,t.y+Math.sin(r)*i,i),this.ctx.stroke(),this.ctx.closePath()}}]),Tree}(a.v);_defineProperty(p,"enableCutouts",!1)},404:(t,r,i)=>{i.d(r,{Z:()=>c});var o=i(204),a=i(561),u=i(833),l=i(109);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey(o.key),o)}}function _setPrototypeOf(t,r){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){return t.__proto__=r,t},_setPrototypeOf(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var i,o=_getPrototypeOf(t);if(r){var a=_getPrototypeOf(this).constructor;i=Reflect.construct(o,arguments,a)}else i=o.apply(this,arguments);return function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,i)}}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _toPropertyKey(t){var r=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===_typeof(r)?r:String(r)}var c=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(MondayMaze,t);var r=_createSuper(MondayMaze);function MondayMaze(){return function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,MondayMaze),r.apply(this,arguments)}return function _createClass(t,r,i){return r&&_defineProperties(t.prototype,r),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(MondayMaze,[{key:"init",value:function init(){this.vs.speedUp=new l.Z({initialValue:1,min:1,max:100,step:1,disableRandomize:!0}),this.vs.seed=new l.Z({initialValue:2222,min:1e3,max:5e3,step:1}),this.vs.gridSize=new l.Z({initialValue:2,min:1,max:8,step:.25}),this.vs.radialDivs=new l.Z({initialValue:2,min:1,max:4,step:1}),this.vs.offsetAng=new l.Z({initialValue:0,min:0,max:360,step:15})}},{key:"initDraw",value:function initDraw(){(0,u.b)(this.vs.seed.value),this.i=0,this.rows=Math.ceil(this.cw/this.vs.gridSize.value)+1,this.cols=Math.ceil(this.ch/this.vs.gridSize.value)+1}},{key:"draw",value:function draw(t){if(!(this.i>=this.rows*this.cols))for(var r=0;r<this.vs.speedUp.value&&!(this.i>=this.rows*this.cols);r++){var i=this.i%this.rows,o=Math.floor(this.i/this.rows),u=i*this.vs.gridSize.value,l=o*this.vs.gridSize.value,c=(0,a.Cn)(this.vs.offsetAng.value,this.vs.offsetAng.max,2*Math.PI),p=(0,a.rO)(this.vs.radialDivs.value),h=Math.PI/this.vs.radialDivs.value*p;(h=(0,a.mb)(h))>Math.PI/2&&(h-=Math.PI),h<Math.PI/2&&(h+=Math.PI),h+=c,this.ctx.beginPath(),this.ctx.moveTo(u,l);var y=Math.min(Math.abs(this.vs.gridSize.value/Math.cos(h)),Math.abs(this.vs.gridSize.value/Math.sin(h)));this.ctx.lineTo(u+Math.cos(h)*y,l+Math.sin(h)*y),this.ctx.stroke(),this.ctx.closePath(),this.i++}}}]),MondayMaze}(o.v);!function _defineProperty(t,r,i){return(r=_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}(c,"enableCutouts",!1)},544:(t,r,i)=>{i.d(r,{Z:()=>p});var o=i(323),a=i(204),u=i(561),l=i(833),c=i(109);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey(o.key),o)}}function _setPrototypeOf(t,r){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){return t.__proto__=r,t},_setPrototypeOf(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var i,o=_getPrototypeOf(t);if(r){var a=_getPrototypeOf(this).constructor;i=Reflect.construct(o,arguments,a)}else i=o.apply(this,arguments);return function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}(this,i)}}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _defineProperty(t,r,i){return(r=_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function _toPropertyKey(t){var r=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===_typeof(r)?r:String(r)}var p=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(Chaser,t);var r=_createSuper(Chaser);function Chaser(){var t;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Chaser);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return _defineProperty(_assertThisInitialized(t=r.call.apply(r,[this].concat(o))),"angleChangeCountdown",0),_defineProperty(_assertThisInitialized(t),"increment",0),t}return function _createClass(t,r,i){return r&&_defineProperties(t.prototype,r),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(Chaser,[{key:"init",value:function init(){this.vs.downscaleDrawing=new c.Z({initialValue:5,min:1,max:200,step:.01,disableRandomize:!0}),this.vs.speedUp=new c.Z({initialValue:1,min:1,max:500,step:1,disableRandomize:!0}),this.vs.stopAfter=new c.Z({initialValue:7e4,min:1,max:1e5,step:100,disableRandomize:!0}),this.vs.seed=new c.Z({initialValue:2222,min:1e3,max:5e3,step:1}),this.vs.angleDiff=new c.Z({initialValue:23,min:0,max:180,step:1}),this.vs.minAngleDiff=new c.Z({initialValue:7,min:0,max:180,step:1}),this.vs.angleChangeSpeed=new c.Z({initialValue:68,min:0,max:1200,step:1}),this.vs.easeToAngle=new c.Z({initialValue:25,min:1,max:60,step:.25}),this.vs.centerForce=new c.Z({initialValue:450,min:2,max:1200,step:1}),this.vs.travel=new c.Z({initialValue:.1,min:.001,max:1,step:.001}),this.vs.centerDistRatio=new c.Z({initialValue:40,min:-10,max:80,step:.01})}},{key:"initDraw",value:function initDraw(){this.vs.minAngleDiff.value>this.vs.angleDiff.value&&this.vs.minAngleDiff.setValue(this.vs.angleDiff.value,!0),(0,l.b)(this.vs.seed.value),this.point=new o.Z((0,u.EA)(this.cw),(0,u.EA)(this.ch)),this.pointAngle=(0,u.EA)(2*Math.PI),this.aimAngle=this.pointAngle,this.increment=0,this.angleChangeCountdown=0}},{key:"draw",value:function draw(t){if(!(this.increment>this.vs.stopAfter.value))for(var r=(0,u.Id)(this.vs.angleDiff.value),i=(0,u.Id)(this.vs.minAngleDiff.value),a=0;a<this.vs.speedUp.value&&(this.increment++,!(this.increment>this.vs.stopAfter.value));a++){if(this.angleChangeCountdown<=0){var l=(0,u.Qy)(r-i);l+=(l>0?1:-1)*i,this.aimAngle=this.pointAngle+l,this.aimAngle=(0,u.mb)(this.aimAngle),this.pointAngle=(0,u.mb)(this.pointAngle),this.angleChangeCountdown=this.vs.angleChangeSpeed.value}var c=Math.max(.5,o.Z.distance(this.point,new o.Z(this.cx,this.cy)));this.pointAngle+=(this.aimAngle-this.pointAngle)/this.vs.easeToAngle.value,this.ctx.beginPath(),this.ctx.moveTo((this.point.x-this.cx)/this.vs.downscaleDrawing.value+this.cx,(this.point.y-this.cy)/this.vs.downscaleDrawing.value+this.cy),this.point.x+=Math.cos(this.pointAngle)*this.vs.travel.value,this.point.y+=Math.sin(this.pointAngle)*this.vs.travel.value,this.point.x+=(this.cx-this.point.x)/(this.vs.centerForce.value*(c/this.vs.centerDistRatio.value)),this.point.y+=(this.cy-this.point.y)/(this.vs.centerForce.value*(c/this.vs.centerDistRatio.value)),this.ctx.lineTo((this.point.x-this.cx)/this.vs.downscaleDrawing.value+this.cx,(this.point.y-this.cy)/this.vs.downscaleDrawing.value+this.cy),this.ctx.stroke(),this.ctx.closePath(),this.angleChangeCountdown--}}}]),Chaser}(a.v);_defineProperty(p,"enableCutouts",!1)},230:(t,r,i)=>{i.d(r,{Z:()=>c});var o=i(204),a=i(561),u=i(833),l=i(109);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey(o.key),o)}}function _setPrototypeOf(t,r){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){return t.__proto__=r,t},_setPrototypeOf(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var i,o=_getPrototypeOf(t);if(r){var a=_getPrototypeOf(this).constructor;i=Reflect.construct(o,arguments,a)}else i=o.apply(this,arguments);return function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}(this,i)}}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _defineProperty(t,r,i){return(r=_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function _toPropertyKey(t){var r=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===_typeof(r)?r:String(r)}var c=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(Kaleido,t);var r=_createSuper(Kaleido);function Kaleido(){var t;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Kaleido);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return _defineProperty(_assertThisInitialized(t=r.call.apply(r,[this].concat(o))),"increment",0),t}return function _createClass(t,r,i){return r&&_defineProperties(t.prototype,r),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(Kaleido,[{key:"init",value:function init(){this.vs.speedUp=new l.Z({initialValue:1,min:1,max:100,step:1,disableRandomize:!0}),this.vs.stopAfter=new l.Z({initialValue:20,min:1,max:420,step:1,disableRandomize:!0}),this.vs.maxRadius=new l.Z({initialValue:.45*this.ch,min:1,max:.5*this.ch,step:.1,disableRandomize:!0}),this.vs.angleOffset=new l.Z({initialValue:0,min:0,max:90,step:1,disableRandomize:!0}),this.vs.seed=new l.Z({initialValue:2222,min:1e3,max:5e3,step:1}),this.vs.segments=new l.Z({initialValue:8,min:2,max:24,step:2}),this.vs.maxHeightDiff=new l.Z({initialValue:120,min:0,max:this.vs.maxRadius.value,step:1})}},{key:"initDraw",value:function initDraw(){this.vs.maxHeightDiff.max=this.vs.maxRadius.value,this.vs.maxHeightDiff.value>this.vs.maxRadius.value&&this.vs.maxHeightDiff.setValue(this.vs.maxRadius.value,!0),(0,u.b)(this.vs.seed.value),this.increment=0}},{key:"draw",value:function draw(t){if(!(this.increment>this.vs.stopAfter.value))for(var r=(0,a.Id)(360/this.vs.segments.value),i=0;i<this.vs.speedUp.value&&(this.increment++,!(this.increment>this.vs.stopAfter.value));i++){var o=(0,a.EA)(this.vs.maxRadius.value),u=(0,a.re)(o+(0,a.Qy)(this.vs.maxHeightDiff.value/2),this.vs.maxRadius.value,0);if(o!==u)for(var l=0;l<this.vs.segments.value;l++){var c=r*l+(0,a.Id)(this.vs.angleOffset.value);this.ctx.beginPath(),this.ctx.moveTo(this.cx+Math.cos(c)*(l%2?o:u),this.cy+Math.sin(c)*(l%2?o:u)),this.ctx.lineTo(this.cx+Math.cos(c+r)*(l%2?u:o),this.cy+Math.sin(c+r)*(l%2?u:o)),this.ctx.stroke(),this.ctx.closePath()}}}}]),Kaleido}(o.v);_defineProperty(c,"enableCutouts",!1)},573:(t,r,i)=>{i.d(r,{Z:()=>p});var o=i(204),a=i(393),u=i(561),l=i(833),c=i(109);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey(o.key),o)}}function _setPrototypeOf(t,r){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){return t.__proto__=r,t},_setPrototypeOf(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var i,o=_getPrototypeOf(t);if(r){var a=_getPrototypeOf(this).constructor;i=Reflect.construct(o,arguments,a)}else i=o.apply(this,arguments);return function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}(this,i)}}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _defineProperty(t,r,i){return(r=_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function _toPropertyKey(t){var r=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===_typeof(r)?r:String(r)}var p=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(KaleidoCurve,t);var r=_createSuper(KaleidoCurve);function KaleidoCurve(){var t;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,KaleidoCurve);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return _defineProperty(_assertThisInitialized(t=r.call.apply(r,[this].concat(o))),"increment",0),t}return function _createClass(t,r,i){return r&&_defineProperties(t.prototype,r),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(KaleidoCurve,[{key:"init",value:function init(){this.vs.speedUp=new c.Z({initialValue:1,min:1,max:100,step:1,disableRandomize:!0}),this.vs.stopAfter=new c.Z({initialValue:20,min:1,max:420,step:1,disableRandomize:!0}),this.vs.maxRadius=new c.Z({initialValue:.45*this.ch,min:1,max:.5*this.ch,step:.1,disableRandomize:!0}),this.vs.angleOffset=new c.Z({initialValue:0,min:0,max:90,step:1,disableRandomize:!0}),this.vs.perlinDivX=new c.Z({initialValue:75,min:1,max:100,step:1}),this.vs.perlinDivY=new c.Z({initialValue:75,min:1,max:100,step:1}),this.vs.perlinOffsetX=new c.Z({initialValue:0,min:-100,max:100,step:1}),this.vs.perlinOffsetY=new c.Z({initialValue:0,min:-100,max:100,step:1}),this.vs.seed=new c.Z({initialValue:2222,min:1e3,max:5e3,step:1}),this.vs.segments=new c.Z({initialValue:8,min:2,max:24,step:2}),this.vs.maxHeightDiff=new c.Z({initialValue:120,min:0,max:this.vs.maxRadius.value,step:1}),this.vs.curveRange=new c.Z({initialValue:.5,min:0,max:5,step:.005}),this.vs.maxCurveStrength=new c.Z({initialValue:50,min:0,max:90,step:1})}},{key:"initDraw",value:function initDraw(){this.vs.maxHeightDiff.max=this.vs.maxRadius.value,this.vs.maxHeightDiff.value>this.vs.maxRadius.value&&this.vs.maxHeightDiff.setValue(this.vs.maxRadius.value,!0),(0,l.b)(this.vs.seed.value),this.increment=0}},{key:"draw",value:function draw(t){if(!(this.increment>this.vs.stopAfter.value))for(var r=(0,u.Id)(360/this.vs.segments.value),i=0;i<this.vs.speedUp.value&&(this.increment++,!(this.increment>this.vs.stopAfter.value));i++){var o=(0,u.EA)(this.vs.maxRadius.value),l=(0,u.re)(o+(0,u.Qy)(this.vs.maxHeightDiff.value/2),this.vs.maxRadius.value,0),c=(0,a.tv)((o+this.vs.perlinOffsetX.value)/this.vs.perlinDivX.value,(l+this.vs.perlinOffsetY.value)/this.vs.perlinDivY.value)*this.vs.curveRange.value*r*2+r/2,p=(0,u.EA)(this.vs.maxCurveStrength.value);if(o!==l)for(var h=0;h<this.vs.segments.value;h++){var y=r*h+(0,u.Id)(this.vs.angleOffset.value);this.ctx.beginPath(),this.ctx.moveTo(this.cx+Math.cos(y)*(h%2?o:l),this.cy+Math.sin(y)*(h%2?o:l)),this.ctx.quadraticCurveTo(this.cx+Math.cos(y+c)*p,this.cy+Math.sin(y+c)*p,this.cx+Math.cos(y+r)*(h%2?l:o),this.cy+Math.sin(y+r)*(h%2?l:o)),this.ctx.stroke(),this.ctx.closePath()}}}}]),KaleidoCurve}(o.v);_defineProperty(p,"enableCutouts",!1)},388:(t,r,i)=>{i.d(r,{Z:()=>y});var o=i(323),a=i(204),u=i(289),l=i(561),c=i(132),p=i(833),h=i(109);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var o,a,u,l,c=[],p=!0,h=!1;try{if(u=(i=i.call(t)).next,0===r){if(Object(i)!==i)return;p=!1}else for(;!(p=(o=u.call(i)).done)&&(c.push(o.value),c.length!==r);p=!0);}catch(t){h=!0,a=t}finally{try{if(!p&&null!=i.return&&(l=i.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}(t,r)||_unsupportedIterableToArray(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||_unsupportedIterableToArray(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,o=new Array(r);i<r;i++)o[i]=t[i];return o}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey(o.key),o)}}function _setPrototypeOf(t,r){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){return t.__proto__=r,t},_setPrototypeOf(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var i,o=_getPrototypeOf(t);if(r){var a=_getPrototypeOf(this).constructor;i=Reflect.construct(o,arguments,a)}else i=o.apply(this,arguments);return function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}(this,i)}}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _defineProperty(t,r,i){return(r=_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function _toPropertyKey(t){var r=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===_typeof(r)?r:String(r)}var y=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(Perpendicularity,t);var r=_createSuper(Perpendicularity);function Perpendicularity(){var t;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Perpendicularity);for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];return _defineProperty(_assertThisInitialized(t=r.call.apply(r,[this].concat(a))),"cp",new o.Z(t.cx,t.cy)),_defineProperty(_assertThisInitialized(t),"increment",0),_defineProperty(_assertThisInitialized(t),"segmentAngles",[]),_defineProperty(_assertThisInitialized(t),"segmentsLines",[]),_defineProperty(_assertThisInitialized(t),"drawnLines",[]),_defineProperty(_assertThisInitialized(t),"nextSpawnPoints",[]),t}return function _createClass(t,r,i){return r&&_defineProperties(t.prototype,r),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(Perpendicularity,[{key:"init",value:function init(){this.vs.stopAfter=new h.Z({initialValue:36,min:1,max:420,step:1,disableRandomize:!0}),this.vs.maxRadius=new h.Z({initialValue:.45*this.ch,min:1,max:.5*this.ch,step:.1,disableRandomize:!0}),this.vs.seed=new h.Z({initialValue:2222,min:1e3,max:5e3,step:1}),this.vs.segments=new h.Z({initialValue:6,min:3,max:15,step:1}),this.vs.segmentAngleWonk=new h.Z({initialValue:0,min:0,max:1,step:.001}),this.vs.radialSpawnPoints=new h.Z({initialValue:1,min:0,max:10,step:1}),this.vs.offsetPerpAngle=new h.Z({initialValue:Math.PI/2-.1,min:0,max:Math.PI,step:.001}),this.vs.offsetPerpAngleWonk=new h.Z({initialValue:0,min:0,max:1,step:.001})}},{key:"drawLineFromPointAtAngle",value:function drawLineFromPointAtAngle(t,r){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Math.PI/2,a=r[0].angleTo(r[1]),l=this.cp.angleTo(t),p=a+o;(0,c.S3)(l,a)&&(p+=Math.PI);var h=[t,t.clone().moveAlongAngle(p,1e3)],y=u.wk.apply(void 0,[h].concat(_toConsumableArray(this.drawnLines))).map((function(r){var i=_slicedToArray(r,2),o=i[0];return[o,i[1],t.distanceTo(o)]})).filter((function(t){return _slicedToArray(t,3)[2]>.001})).sort((function(t,r){return _slicedToArray(t,3)[2]-_slicedToArray(r,3)[2]}));if(y.length||(h[1]=h[0].clone().moveAlongAngle(p+Math.PI,1e3),y=u.wk.apply(void 0,[h].concat(_toConsumableArray(this.drawnLines))).map((function(r){var i=_slicedToArray(r,2),o=i[0];return[o,i[1],t.distanceTo(o)]})).filter((function(t){return _slicedToArray(t,3)[2]>.001})).sort((function(t,r){return _slicedToArray(t,3)[2]-_slicedToArray(r,3)[2]}))),y.length>0){var v=_slicedToArray(y[0],2),d=v[0],m=v[1];h[1]=d,this.nextSpawnPoints.push([d,m])}this.drawnLines.push(h),(i=this.ctx).strokeLine.apply(i,h)}},{key:"initDraw",value:function initDraw(){console.log("init draw called"),this.increment=0,this.segmentAngles=[],this.segmentsLines=[],this.drawnLines=[],this.nextSpawnPoints=[],(0,p.b)(this.vs.seed.value);for(var t=new o.Z(this.cx,this.cy),r=(0,l.Id)(360/this.vs.segments.value),i=0,a=0;a<this.vs.segments.value;a++){var u=(0,l.EA)(this.vs.segmentAngleWonk.value);i+=r+(0,l.EA)(-r*u,r*u),this.segmentAngles.push(i);var h=[t,new o.Z(this.cx+Math.cos(i)*this.vs.maxRadius.value,this.cy+Math.sin(i)*this.vs.maxRadius.value)];this.segmentsLines.push(h),this.drawnLines.push(h)}for(var y=0;y<this.vs.segments.value;y++){var v=[this.segmentsLines[y][1],this.segmentsLines[y===this.vs.segments.value-1?0:y+1][1]];this.drawnLines.push(v)}for(var d=0;d<this.vs.segments.value;d++)for(var m=this.segmentsLines[d],b=c.zs.apply(void 0,_toConsumableArray(m).concat([this.vs.radialSpawnPoints.value])),_=0;_<this.vs.radialSpawnPoints.value;_++)this.drawLineFromPointAtAngle(b[_],m,this.vs.offsetPerpAngle.value)}},{key:"draw",value:function draw(t){if(!(this.increment>this.vs.stopAfter.value)){var r=_toConsumableArray(this.nextSpawnPoints);this.nextSpawnPoints=[];var i,o=function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var o=0,a=function F(){};return{s:a,n:function n(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,l=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();return l=t.done,t},e:function e(t){c=!0,u=t},f:function f(){try{l||null==i.return||i.return()}finally{if(c)throw u}}}}(r);try{for(o.s();!(i=o.n()).done;){var a=_slicedToArray(i.value,2),u=a[0],c=a[1],p=this.vs.offsetPerpAngle.value+(0,l.Qy)(this.vs.offsetPerpAngleWonk.value);this.drawLineFromPointAtAngle(u,c,p)}}catch(t){o.e(t)}finally{o.f()}this.increment++}}}]),Perpendicularity}(a.v)},494:(t,r,i)=>{i.d(r,{Z:()=>h});var o=i(323),a=i(204),u=i(289),l=i(561),c=i(833),p=i(109);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var o,a,u,l,c=[],p=!0,h=!1;try{if(u=(i=i.call(t)).next,0===r){if(Object(i)!==i)return;p=!1}else for(;!(p=(o=u.call(i)).done)&&(c.push(o.value),c.length!==r);p=!0);}catch(t){h=!0,a=t}finally{try{if(!p&&null!=i.return&&(l=i.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}(t,r)||_unsupportedIterableToArray(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _createForOfIteratorHelper(t,r){var i="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!i){if(Array.isArray(t)||(i=_unsupportedIterableToArray(t))||r&&t&&"number"==typeof t.length){i&&(t=i);var o=0,a=function F(){};return{s:a,n:function n(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function e(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var u,l=!0,c=!1;return{s:function s(){i=i.call(t)},n:function n(){var t=i.next();return l=t.done,t},e:function e(t){c=!0,u=t},f:function f(){try{l||null==i.return||i.return()}finally{if(c)throw u}}}}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||_unsupportedIterableToArray(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _unsupportedIterableToArray(t,r){if(t){if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);return"Object"===i&&t.constructor&&(i=t.constructor.name),"Map"===i||"Set"===i?Array.from(t):"Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i)?_arrayLikeToArray(t,r):void 0}}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,o=new Array(r);i<r;i++)o[i]=t[i];return o}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey(o.key),o)}}function _setPrototypeOf(t,r){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){return t.__proto__=r,t},_setPrototypeOf(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var i,o=_getPrototypeOf(t);if(r){var a=_getPrototypeOf(this).constructor;i=Reflect.construct(o,arguments,a)}else i=o.apply(this,arguments);return function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}(this,i)}}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _defineProperty(t,r,i){return(r=_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function _toPropertyKey(t){var r=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===_typeof(r)?r:String(r)}var h=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(Rays,t);var r=_createSuper(Rays);function Rays(){var t;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Rays);for(var i=arguments.length,a=new Array(i),u=0;u<i;u++)a[u]=arguments[u];return _defineProperty(_assertThisInitialized(t=r.call.apply(r,[this].concat(a))),"increment",0),_defineProperty(_assertThisInitialized(t),"reflectiveCircles",[]),_defineProperty(_assertThisInitialized(t),"drawingPoints",[]),_defineProperty(_assertThisInitialized(t),"cp",new o.Z(t.cx,t.cy)),t}return function _createClass(t,r,i){return r&&_defineProperties(t.prototype,r),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(Rays,[{key:"init",value:function init(){this.vs.stopAfter=new p.Z({initialValue:3,min:1,max:256,step:1,disableRandomize:!0}),this.vs.maxRadius=new p.Z({initialValue:.45*this.ch,min:1,max:.5*this.ch,step:.1,disableRandomize:!0}),this.vs.seed=new p.Z({initialValue:3975,min:1e3,max:5e3,step:1}),this.vs.lines=new p.Z({initialValue:500,min:3,max:720,step:1,disableRandomize:!0}),this.vs.lineAngleWonk=new p.Z({initialValue:0,min:0,max:1,step:1e-4}),this.vs.circles=new p.Z({initialValue:3,min:1,max:10,step:1,disableRandomize:!0}),this.vs.refractionIndex=new p.Z({initialValue:1,min:1,max:2,step:1e-5,disableRandomize:!0})}},{key:"initDraw",value:function initDraw(){console.log("init draw called"),this.increment=0,this.reflectiveCircles=[],this.drawingPoints=[],(0,c.b)(this.vs.seed.value);for(var t=0;t<this.vs.circles.value;){var r=(0,l.EA)(5,20),i=new o.Z((0,l.EA)(this.cw-2*r,r),(0,l.EA)(this.ch-2*r,r));u.bU.apply(void 0,[[i,r]].concat(_toConsumableArray(this.reflectiveCircles)))||(this.reflectiveCircles.push([i,r]),t++)}for(var a=u.zj.apply(void 0,[this.cp].concat(_toConsumableArray(this.reflectiveCircles))),p=2*Math.PI/this.vs.lines.value,h=0;h<this.vs.lines.value;h++){var y=p*h+(0,l.Qy)(this.vs.lineAngleWonk.value)*p;this.drawingPoints.push([this.cp,y,a])}}},{key:"drawLines",value:function drawLines(t){var r,i=this,o=_createForOfIteratorHelper(t);try{var a=function _loop(){var t,o=_slicedToArray(r.value,3),a=o[0],c=o[1],p=o[2],h=[a,a.moveAlongAngle(c,1e3)],y=[],v=_createForOfIteratorHelper(i.reflectiveCircles);try{for(v.s();!(t=v.n()).done;){var d=_slicedToArray(t.value,2),m=d[0],b=d[1],_=(0,l.P4)(c,h[0].angleTo(m));if(!(_>(0,l.Id)(90)||_<(0,l.Id)(-90))){var P,g=_createForOfIteratorHelper((0,u.Bz)(h,m,b));try{for(g.s();!(P=g.n()).done;){var x=P.value;y.push([x,m,b])}}catch(t){g.e(t)}finally{g.f()}}}}catch(t){v.e(t)}finally{v.f()}if(y.length){var w,O=u.Ou.apply(void 0,[a].concat(_toConsumableArray(y.map((function(t){return _slicedToArray(t,1)[0]}))))),S=y.find((function(t){return _slicedToArray(t,1)[0]===O})),C=_slicedToArray(S,3),T=C[1];C[2];h[1]=O;var I=T.angleTo(O),k=(0,l.Vz)(I,c+Math.PI),E=(p&&Math.PI,I+Math.PI-Math.asin(Math.sin(k)/i.vs.refractionIndex.value));i.drawingPoints.push([O.clone(),E,!0]),(w=i.ctx).strokeLine.apply(w,h)}};for(o.s();!(r=o.n()).done;)a()}catch(t){o.e(t)}finally{o.f()}}},{key:"draw",value:function draw(t){if(!(this.increment>=this.vs.stopAfter.value)){var r=_toConsumableArray(this.drawingPoints);this.drawingPoints=[],this.drawLines(r),this.increment++}}}]),Rays}(a.v)},4:(t,r,i)=>{i.d(r,{Z:()=>u});var o=i(204),a=i(561);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey(o.key),o)}}function _setPrototypeOf(t,r){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){return t.__proto__=r,t},_setPrototypeOf(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var i,o=_getPrototypeOf(t);if(r){var a=_getPrototypeOf(this).constructor;i=Reflect.construct(o,arguments,a)}else i=o.apply(this,arguments);return function _possibleConstructorReturn(t,r){if(r&&("object"===_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(t)}(this,i)}}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}function _defineProperty(t,r,i){return(r=_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function _toPropertyKey(t){var r=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===_typeof(r)?r:String(r)}var u=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(CutoutTest,t);var r=_createSuper(CutoutTest);function CutoutTest(){var t;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,CutoutTest);for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return _defineProperty(_assertThisInitialized(t=r.call.apply(r,[this].concat(o))),"increment",0),t}return function _createClass(t,r,i){return r&&_defineProperties(t.prototype,r),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(CutoutTest,[{key:"init",value:function init(){}},{key:"initDraw",value:function initDraw(){var t,r,i,o,u,l,c,p,h;this.ctx.strokeRect(25,25,25,25);var y=null===(t=this.ctx.path)||void 0===t?void 0:t.getBounds();console.log("bounds",y),this.ctx.strokeRect(y.left,y.top,y.right-y.left,y.bottom-y.top,{debug:!0}),console.log("points",null===(r=this.ctx.path)||void 0===r?void 0:r.getPoints()),console.log("closed",null===(i=this.ctx.path)||void 0===i?void 0:i.current.isClosed()),this.ctx.save(),this.ctx.translate(20,20),this.ctx.strokeRect(0,0,15,15,{cutout:!0}),this.ctx.restore(),this.ctx.save(),this.ctx.translate(25,25),this.ctx.rotate((0,a.Id)(5)),this.ctx.strokeRect(0,0,25,25,{cutout:!0}),this.ctx.restore(),y=null===(o=this.ctx.path)||void 0===o?void 0:o.getBounds(),console.log("bounds",y),console.log("points",null===(u=this.ctx.path)||void 0===u?void 0:u.getPoints()),console.log("closed",null===(l=this.ctx.path)||void 0===l?void 0:l.current.isClosed()),this.ctx.strokeRect(y.left,y.top,y.right-y.left,y.bottom-y.top,{debug:!0}),this.ctx.beginPath(),this.ctx.moveTo(70,25),this.ctx.lineTo(75,20),this.ctx.lineTo(80,25),this.ctx.lineTo(80,40),this.ctx.lineTo(70,40),this.ctx.lineTo(70,25),this.ctx.stroke({cutout:!0}),this.ctx.closePath(),y=null===(c=this.ctx.path)||void 0===c?void 0:c.getBounds(),console.log("bounds",y),this.ctx.strokeRect(y.left,y.top,y.right-y.left,y.bottom-y.top,{debug:!0}),console.log("points",null===(p=this.ctx.path)||void 0===p?void 0:p.getPoints()),console.log("closed",null===(h=this.ctx.path)||void 0===h?void 0:h.current.isClosed())}},{key:"draw",value:function draw(t){}}]),CutoutTest}(o.v);_defineProperty(u,"enableCutouts",!0)},286:(t,r,i)=>{i.d(r,{Z:()=>a});var o=i(323);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey(o.key),o)}}function _defineProperty(t,r,i){return(r=_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function _toPropertyKey(t){var r=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===_typeof(r)?r:String(r)}var a=function(){function Osc(t){if(function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Osc),_defineProperty(this,"value",new o.Z),_defineProperty(this,"offsetPhase",-Math.PI/2),"function"==typeof t.speed?(this.speedFunc=t.speed,this.speed=this.speedFunc(0)):this.speed=t.speed||Math.PI/180,void 0===t.radius)this.radius=new o.Z(1,1);else if("function"==typeof t.radius){this.radiusFunc=t.radius;var r=this.radiusFunc(0);this.radius="number"==typeof r?new o.Z(r,r):r}else this.radius="number"==typeof t.radius?new o.Z(t.radius,t.radius):t.radius.clone();this.offset=t.offset?t.offset.clone():new o.Z(0,0),this.offsetPhase=t.offsetPhase||0,this.phase=t.phase||0,this.theta=new o.Z(this.phase,this.phase),this.process()}return function _createClass(t,r,i){return r&&_defineProperties(t.prototype,r),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(Osc,[{key:"x",get:function get(){return this.value.x}},{key:"y",get:function get(){return this.value.y}},{key:"reset",value:function reset(){this.theta=new o.Z(this.phase,this.phase)}},{key:"step",value:function step(t){if(this.speedFunc){var r=this.speedFunc(t);"number"!=typeof r||isNaN(r)||(this.speed=r)}if(this.radiusFunc){var i=this.radiusFunc(t);this.radius="number"==typeof i?new o.Z(i,i):i}this.theta.x=this.theta.x+this.speed,this.theta.y=this.theta.y+this.speed,this.process()}},{key:"process",value:function process(){this.value.x=this.offset.x+Math.cos(this.offsetPhase+this.theta.x)*this.radius.x,this.value.y=this.offset.y+Math.sin(this.offsetPhase+this.theta.y)*this.radius.y,isNaN(this.value.x)}}]),Osc}()},109:(t,r,i)=>{i.d(r,{Z:()=>u});var o=i(561);function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(a=o.key,u=void 0,u=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(a,"string"),"symbol"===_typeof(u)?u:String(u)),o)}var a,u}var a=0,u=function(){function Range(t){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Range),this.name=t.name||"Var-".concat(a++),this.min=t.min,this.max=t.max,this.step=t.step||.01,this._value=t.initialValue||t.min,this._disableRandomize=t.disableRandomize||!1}return function _createClass(t,r,i){return r&&_defineProperties(t.prototype,r),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(Range,[{key:"value",get:function get(){return this._value},set:function set(t){this._value=(0,o.re)(t,this.max,this.min)}},{key:"setValue",value:function setValue(t){var r=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.value=t,r&&this.inputElem&&(this.inputElem.value=String(this.value))}},{key:"randomize",value:function randomize(){if(!this._disableRandomize){var t=Math.round((this.max-this.min)/this.step),r=this.min+(0,o.c4)(t)*this.step;this.step>=1&&(r=Math.round(r)),this.setValue(r,!0)}}}]),Range}()},289:(t,r,i)=>{i.d(r,{Bz:()=>h,Ou:()=>p,bU:()=>m,wk:()=>l,zj:()=>v});var o=i(323),a=i(561);function _slicedToArray(t,r){return function _arrayWithHoles(t){if(Array.isArray(t))return t}(t)||function _iterableToArrayLimit(t,r){var i=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=i){var o,a,u,l,c=[],p=!0,h=!1;try{if(u=(i=i.call(t)).next,0===r){if(Object(i)!==i)return;p=!1}else for(;!(p=(o=u.call(i)).done)&&(c.push(o.value),c.length!==r);p=!0);}catch(t){h=!0,a=t}finally{try{if(!p&&null!=i.return&&(l=i.return(),Object(l)!==l))return}finally{if(h)throw a}}return c}}(t,r)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t,r)||function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,o=new Array(r);i<r;i++)o[i]=t[i];return o}var u=function getLineIntersectionPoint(t,r){var i=_slicedToArray(t,2),a=i[0],u=i[1],l=_slicedToArray(r,2),c=l[0],p=l[1],h=(p.y-c.y)*(u.x-a.x)-(p.x-c.x)*(u.y-a.y);if(0===h)return null;var y=((p.x-c.x)*(a.y-c.y)-(p.y-c.y)*(a.x-c.x))/h,v=((u.x-a.x)*(a.y-c.y)-(u.y-a.y)*(a.x-c.x))/h;if(y>=0&&y<=1&&v>=0&&v<=1){var d=a.x+y*(u.x-a.x),m=a.y+y*(u.y-a.y);return new o.Z(d,m)}return null},l=function getLineIntersectionPoints(t){for(var r=[],i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];for(var l=0,c=o;l<c.length;l++){var p=c[l],h=u(t,p);h&&r.push([h,p])}return r},c=function getDistancesToPoint(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return i.map((function(r){return[r,t.distanceTo(r)]}))},p=function getClosestButNotSamePoint(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];return c.apply(void 0,[t].concat(i)).sort((function(t,r){return t[1]-r[1]})).filter((function(t){return t[1]>1e-4}))[0][0]},h=function getPointsWhereLineIntersectsCircle(t,r,i){var u=_slicedToArray(t,2),l=u[0],c=u[1],p=l.clone().subtract(r),h=c.clone().subtract(r),y=h.clone().subtract(p),v=y.magnitude(),d=p.x*h.y-h.x*p.y,m=i*i*v*v-d*d;if(m<0)return[];var b=Math.sqrt(m),_=[];return _.push(new o.Z(d*y.y+(0,a.Xx)(y.y)*y.x*b,-d*y.x+Math.abs(y.y)*b).divide(v*v).add(r)),m>0&&_.push(new o.Z(d*y.y-(0,a.Xx)(y.y)*y.x*b,-d*y.x-Math.abs(y.y)*b).divide(v*v).add(r)),_},y=function pointInCircle(t,r,i){return t.distanceTo(r)<i},v=function pointInCircles(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];for(var a=0,u=i;a<u.length;a++){var l=_slicedToArray(u[a],2),c=l[0],p=l[1];if(y(t,c,p))return!0}return!1},d=function circleOverlapsCircle(t,r){var i=_slicedToArray(t,2),o=i[0],a=i[1],u=_slicedToArray(r,2),l=u[0],c=u[1];return o.distanceTo(l)<a+c},m=function circleOverlapsCircles(t){for(var r=_slicedToArray(t,2),i=r[0],o=r[1],a=arguments.length,u=new Array(a>1?a-1:0),l=1;l<a;l++)u[l-1]=arguments[l];for(var c=0,p=u;c<p.length;c++){var h=_slicedToArray(p[c],2),y=h[0],v=h[1];if(d([i,o],[y,v]))return!0}return!1}},393:(t,r,i)=>{function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,_toPropertyKey(o.key),o)}}function _createClass(t,r,i){return r&&_defineProperties(t.prototype,r),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}function _defineProperty(t,r,i){return(r=_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function _toPropertyKey(t){var r=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===_typeof(r)?r:String(r)}i.d(r,{ii:()=>p,tv:()=>v});var o=_createClass((function Grad(t,r,i){var o=this;!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Grad),_defineProperty(this,"dot2",(function(t,r){return o.x*t+o.y*r})),_defineProperty(this,"dot3",(function(t,r,i){return o.x*t+o.y*r+o.z*i})),this.x=t,this.y=r,this.z=i})),a=[new o(1,1,0),new o(-1,1,0),new o(1,-1,0),new o(-1,-1,0),new o(1,0,1),new o(-1,0,1),new o(1,0,-1),new o(-1,0,-1),new o(0,1,1),new o(0,-1,1),new o(0,1,-1),new o(0,-1,-1)],u=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],l=new Array(512),c=new Array(512),p=function seedNoise(t){t>0&&t<1&&(t*=65536),(t=Math.floor(t))<256&&(t|=t<<8);for(var r=0;r<256;r++){var i=1&r?u[r]^255&t:u[r]^t>>8&255;l[r]=l[r+256]=i,c[r]=c[r+256]=a[i%12]}};p(0);Math.sqrt(3),Math.sqrt(3);var h=function fade(t){return t*t*t*(t*(6*t-15)+10)},y=function lerp(t,r,i){return(1-i)*t+i*r},v=function perlin2(t,r){var i=Math.floor(t),o=Math.floor(r);t-=i,r-=o;var a=c[(i&=255)+l[o&=255]].dot2(t,r),u=c[i+l[o+1]].dot2(t,r-1),p=c[i+1+l[o]].dot2(t-1,r),v=c[i+1+l[o+1]].dot2(t-1,r-1),d=h(t);return y(y(a,p,d),y(u,v,d),h(r))}},561:(t,r,i)=>{i.d(r,{Cn:()=>y,EA:()=>u,Id:()=>v,P4:()=>b,Qy:()=>c,Vz:()=>_,Xx:()=>p,c4:()=>a,iH:()=>m,mb:()=>d,rO:()=>l,re:()=>h});var o=i(833),a=function randIntRange(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Math.round((0,o.M)()*(t-r)+r)},u=function randFloatRange(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,o.M)()*(t-r)+r},l=function randInt(t){return Math.round((0,o.M)()*(2*t)-t)},c=function randFloat(t){return(0,o.M)()*(2*t)-t},p=function sign(t){return t<0?-1:1},h=function wrap(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return(t-i)%(r-i)+i},y=function segmentValue(t,r,i){return(i-(arguments.length>3&&void 0!==arguments[3]?arguments[3]:0))/r*t},v=function degToRad(t){return t*Math.PI/180},d=function normalizeRadian(t){return(t+Math.PI)%(2*Math.PI)-Math.PI},m=function floatString(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5;if(t%1==0)return String(t);var i=Math.min(function countDecimals(t){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8,i=1,o=0;o<r;o++,i/=10)if(t%i==0)return o;return r}(t,r),r);return 0===i?String(Math.round(t)):t.toFixed(i)},b=function angleDiff(t,r){return(r-t+3*Math.PI)%(2*Math.PI)-Math.PI},_=function smallestAngleDiff(t,r){return Math.PI-Math.abs(Math.abs(t-r)-Math.PI)}},132:(t,r,i)=>{i.d(r,{Bj:()=>h,CS:()=>u,S3:()=>p,iV:()=>y,mb:()=>c,zs:()=>l});var o=i(323),a=1e-6,u=function arcToPoints(t,r,i,a,u){return i%=2*Math.PI,a%=2*Math.PI,{start:new o.Z(u*Math.cos(i)+t,u*Math.sin(i)+r),end:new o.Z(u*Math.cos(a)+t,u*Math.sin(a)+r)}},l=function lineToPoints(){for(var t=3===arguments.length?arguments.length<=0?void 0:arguments[0]:new o.Z(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1]),r=3===arguments.length?arguments.length<=1?void 0:arguments[1]:new o.Z(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3]),i=3===arguments.length?arguments.length<=2?void 0:arguments[2]:arguments.length<=4?void 0:arguments[4],a=t.angleTo(r),u=t.distanceTo(r),l=[],c=1;c<i+1;c++){var p=t.clone().moveAlongAngle(a,u/(i+1)*c);l.push(p)}return l},c=function pointsToArc(t,r,i){t=t.clone(),r=r.clone(),i=i.clone();var o=Math.atan2(r.y-t.y,r.x-t.x),a=Math.atan2(i.y-t.y,i.x-t.x),u=t.subtract(r).magnitude();return a===o&&(a+=2*Math.PI),{start:o,end:a,radius:u}},p=function sameFloat(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;if(Math.abs(t-r)<a)return!0;var o=Math.abs(t),u=Math.abs(r),l=Math.abs(t-r);return t==r||(0===t||0===r||l<Number.MIN_VALUE?l<i*Number.MIN_VALUE:l/(o+u)<i)},h=function samePos(t,r){return p(t.x,r.x)&&p(t.y,r.y)},y=function convertPointsToEdges(t){if(!h(t[0],t[t.length-1]))throw new Error("convertPointsToEdges: provided points aren't self-closing!");for(var r=[],i=1;i<t.length-1;i++)r.push([t[i-1],t[i]]);return r}},833:(t,r,i)=>{i.d(r,{M:()=>c,b:()=>l});var o=123456789,a=987654321,u=4294967295,l=function seedRandom(t){o=123456789+t&u,a=987654321-t&u},c=function random(){return(((a=36969*(65535&a)+(a>>16)&u)<<16)+(65535&(o=18e3*(65535&o)+(o>>16)&u))>>>0)/4294967296};l(0)}},r={};function __webpack_require__(i){var o=r[i];if(void 0!==o)return o.exports;var a=r[i]={exports:{}};return t[i](a,a.exports,__webpack_require__),a.exports}__webpack_require__.d=(t,r)=>{for(var i in r)__webpack_require__.o(r,i)&&!__webpack_require__.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:r[i]})},__webpack_require__.o=(t,r)=>Object.prototype.hasOwnProperty.call(t,r),(()=>{const t=function isObject(t){var r=typeof t;return null!=t&&("object"==r||"function"==r)};const r="object"==typeof global&&global&&global.Object===Object&&global;var i="object"==typeof self&&self&&self.Object===Object&&self;const o=r||i||Function("return this")();const lodash_es_now=function(){return o.Date.now()};var a=/\s/;const u=function trimmedEndIndex(t){for(var r=t.length;r--&&a.test(t.charAt(r)););return r};var l=/^\s+/;const c=function baseTrim(t){return t?t.slice(0,u(t)+1).replace(l,""):t};const p=o.Symbol;var h=Object.prototype,y=h.hasOwnProperty,v=h.toString,d=p?p.toStringTag:void 0;const m=function getRawTag(t){var r=y.call(t,d),i=t[d];try{t[d]=void 0;var o=!0}catch(t){}var a=v.call(t);return o&&(r?t[d]=i:delete t[d]),a};var b=Object.prototype.toString;const _=function objectToString(t){return b.call(t)};var P=p?p.toStringTag:void 0;const g=function baseGetTag(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":P&&P in Object(t)?m(t):_(t)};const x=function isObjectLike(t){return null!=t&&"object"==typeof t};const w=function isSymbol(t){return"symbol"==typeof t||x(t)&&"[object Symbol]"==g(t)};var O=/^[-+]0x[0-9a-f]+$/i,S=/^0b[01]+$/i,C=/^0o[0-7]+$/i,T=parseInt;const I=function toNumber(r){if("number"==typeof r)return r;if(w(r))return NaN;if(t(r)){var i="function"==typeof r.valueOf?r.valueOf():r;r=t(i)?i+"":i}if("string"!=typeof r)return 0===r?r:+r;r=c(r);var o=S.test(r);return o||C.test(r)?T(r.slice(2),o?2:8):O.test(r)?NaN:+r};var k=Math.max,E=Math.min;const L=function debounce(r,i,o){var a,u,l,c,p,h,y=0,v=!1,d=!1,m=!0;if("function"!=typeof r)throw new TypeError("Expected a function");function invokeFunc(t){var i=a,o=u;return a=u=void 0,y=t,c=r.apply(o,i)}function shouldInvoke(t){var r=t-h;return void 0===h||r>=i||r<0||d&&t-y>=l}function timerExpired(){var t=lodash_es_now();if(shouldInvoke(t))return trailingEdge(t);p=setTimeout(timerExpired,function remainingWait(t){var r=i-(t-h);return d?E(r,l-(t-y)):r}(t))}function trailingEdge(t){return p=void 0,m&&a?invokeFunc(t):(a=u=void 0,c)}function debounced(){var t=lodash_es_now(),r=shouldInvoke(t);if(a=arguments,u=this,h=t,r){if(void 0===p)return function leadingEdge(t){return y=t,p=setTimeout(timerExpired,i),v?invokeFunc(t):c}(h);if(d)return clearTimeout(p),p=setTimeout(timerExpired,i),invokeFunc(h)}return void 0===p&&(p=setTimeout(timerExpired,i)),c}return i=I(i)||0,t(o)&&(v=!!o.leading,l=(d="maxWait"in o)?k(I(o.maxWait)||0,i):l,m="trailing"in o?!!o.trailing:m),debounced.cancel=function cancel(){void 0!==p&&clearTimeout(p),y=0,a=h=u=p=void 0},debounced.flush=function flush(){return void 0===p?c:trailingEdge(lodash_es_now())},debounced};const A=function throttle(r,i,o){var a=!0,u=!0;if("function"!=typeof r)throw new TypeError("Expected a function");return t(o)&&(a="leading"in o?!!o.leading:a,u="trailing"in o?!!o.trailing:u),L(r,i,{leading:a,maxWait:i,trailing:u})};function _typeof(t){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_typeof(t)}function _defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(a=o.key,u=void 0,u=function _toPrimitive(t,r){if("object"!==_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(a,"string"),"symbol"===_typeof(u)?u:String(u)),o)}var a,u}var M=function(){function Driver(t){!function _classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Driver),this.stream=t||{write:function write(t){return console.log(t)},reset:function reset(){}}}return function _createClass(t,r,i){return r&&_defineProperties(t.prototype,r),i&&_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(Driver,[{key:"reset",value:function reset(){this.stream.reset()}},{key:"send",value:function send(){}},{key:"init",value:function init(){}},{key:"unit",value:function unit(t){}},{key:"speed",value:function speed(t){}},{key:"feed",value:function feed(t){}},{key:"coolant",value:function coolant(t){}},{key:"zero",value:function zero(t){}},{key:"atc",value:function atc(t){}},{key:"rapid",value:function rapid(t){}},{key:"linear",value:function linear(t){}},{key:"arcCW",value:function arcCW(t){}},{key:"arcCCW",value:function arcCCW(t){}},{key:"comment",value:function comment(t){}},{key:"meta",value:function meta(t){}}]),Driver}();function GCodeDriver_typeof(t){return GCodeDriver_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},GCodeDriver_typeof(t)}function GCodeDriver_defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(a=o.key,u=void 0,u=function GCodeDriver_toPrimitive(t,r){if("object"!==GCodeDriver_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==GCodeDriver_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(a,"string"),"symbol"===GCodeDriver_typeof(u)?u:String(u)),o)}var a,u}function _setPrototypeOf(t,r){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){return t.__proto__=r,t},_setPrototypeOf(t,r)}function _createSuper(t){var r=function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var i,o=_getPrototypeOf(t);if(r){var a=_getPrototypeOf(this).constructor;i=Reflect.construct(o,arguments,a)}else i=o.apply(this,arguments);return function _possibleConstructorReturn(t,r){if(r&&("object"===GCodeDriver_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,i)}}function _getPrototypeOf(t){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},_getPrototypeOf(t)}var j=function(t){!function _inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&_setPrototypeOf(t,r)}(GCode,t);var r=_createSuper(GCode);function GCode(t){var i;return function GCodeDriver_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,GCode),(i=r.call(this,t)).stream=t||{write:function write(t){return console.log(t)},reset:function reset(){}},i}return function GCodeDriver_createClass(t,r,i){return r&&GCodeDriver_defineProperties(t.prototype,r),i&&GCodeDriver_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(GCode,[{key:"reset",value:function reset(){this.stream.reset(),this.init()}},{key:"send",value:function send(t,r){var i="".concat(t);r&&"zabcijkfpqstxy".split("").forEach((function(t){void 0===r[t]||null===r[t]||isNaN(r[t])||(i+=" ".concat(t.toUpperCase()).concat(r[t]))}));this.stream.write(i)}},{key:"init",value:function init(){this.send("G17 (select the xy plane)"),this.send("M3 S0 (activate servo)")}},{key:"unit",value:function unit(t){this.send({inch:"G20",mm:"G21"}[t]+" (select ".concat(t," unit)"))}},{key:"speed",value:function speed(t){this.send("S".concat(t," (set speed to ").concat(t,")"))}},{key:"feed",value:function feed(t){this.send("F"+t)}},{key:"coolant",value:function coolant(t){"mist"===t?this.send("M07"):t?this.send("M08"):this.send("M09")}},{key:"zero",value:function zero(t){this.send("G28.3",t)}},{key:"atc",value:function atc(t){this.send("M6",{t})}},{key:"rapid",value:function rapid(t){this.send("G0",t)}},{key:"linear",value:function linear(t){this.send("G1",t)}},{key:"arcCW",value:function arcCW(t){this.send("G3",t)}},{key:"arcCCW",value:function arcCCW(t){this.send("G2",t)}},{key:"comment",value:function comment(t){this.send("(".concat(t,")"))}},{key:"meta",value:function meta(t){var r="(";for(var i in t)r+="".concat(i,"=").concat(t[i]);r+=")",this.send(r)}}]),GCode}(M);function NullDriver_typeof(t){return NullDriver_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},NullDriver_typeof(t)}function NullDriver_defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(a=o.key,u=void 0,u=function NullDriver_toPrimitive(t,r){if("object"!==NullDriver_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==NullDriver_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(a,"string"),"symbol"===NullDriver_typeof(u)?u:String(u)),o)}var a,u}function NullDriver_setPrototypeOf(t,r){return NullDriver_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function _setPrototypeOf(t,r){return t.__proto__=r,t},NullDriver_setPrototypeOf(t,r)}function NullDriver_createSuper(t){var r=function NullDriver_isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function _createSuperInternal(){var i,o=NullDriver_getPrototypeOf(t);if(r){var a=NullDriver_getPrototypeOf(this).constructor;i=Reflect.construct(o,arguments,a)}else i=o.apply(this,arguments);return function NullDriver_possibleConstructorReturn(t,r){if(r&&("object"===NullDriver_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return function NullDriver_assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(this,i)}}function NullDriver_getPrototypeOf(t){return NullDriver_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function _getPrototypeOf(t){return t.__proto__||Object.getPrototypeOf(t)},NullDriver_getPrototypeOf(t)}var R=function(t){!function NullDriver_inherits(t,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(r&&r.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),r&&NullDriver_setPrototypeOf(t,r)}(NullDriver,t);var r=NullDriver_createSuper(NullDriver);function NullDriver(){return function NullDriver_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,NullDriver),r.apply(this,arguments)}return function NullDriver_createClass(t,r,i){return r&&NullDriver_defineProperties(t.prototype,r),i&&NullDriver_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(NullDriver)}(M),B=__webpack_require__(323);function Matrix_typeof(t){return Matrix_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Matrix_typeof(t)}function Matrix_defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,(a=o.key,u=void 0,u=function Matrix_toPrimitive(t,r){if("object"!==Matrix_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==Matrix_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(a,"string"),"symbol"===Matrix_typeof(u)?u:String(u)),o)}var a,u}var D=function(){function Matrix(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;!function Matrix_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Matrix),this.a=t,this.b=r,this.c=i,this.d=o,this.tx=a,this.ty=u}return function Matrix_createClass(t,r,i){return r&&Matrix_defineProperties(t.prototype,r),i&&Matrix_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(Matrix,[{key:"clone",value:function clone(){return new Matrix(this.a,this.b,this.c,this.d,this.tx,this.ty)}},{key:"concat",value:function concat(t){return new Matrix(this.a*t.a+this.c*t.b,this.b*t.a+this.d*t.b,this.a*t.c+this.c*t.d,this.b*t.c+this.d*t.d,this.a*t.tx+this.c*t.ty+this.tx,this.b*t.tx+this.d*t.ty+this.ty)}},{key:"deltaTransformPoint",value:function deltaTransformPoint(t){return new B.Z(this.a*t.x+this.c*t.y,this.b*t.x+this.d*t.y)}},{key:"inverse",value:function inverse(){var t=this.a*this.d-this.b*this.c;return new Matrix(this.d/t,-this.b/t,-this.c/t,this.a/t,(this.c*this.ty-this.d*this.tx)/t,(this.b*this.tx-this.a*this.ty)/t)}},{key:"rotate",value:function rotate(t,r){return this.concat(Matrix.rotation(t,r))}},{key:"scale",value:function scale(t,r,i){return this.concat(Matrix.scale(t,r,i))}},{key:"translate",value:function translate(t,r){return this.concat(Matrix.translation(t,r))}},{key:"transformPoint",value:function transformPoint(t){var r,i;return Array.isArray(t)?(r=t[0],i=t[1]):(r=t.x,i=t.y),new B.Z(this.a*r+this.c*i+this.tx,this.b*r+this.d*i+this.ty)}}],[{key:"translation",value:function translation(t,r){return new Matrix(1,0,0,1,t,r)}},{key:"scale",value:function scale(t,r,i){void 0===r&&(r=t);var o=new Matrix(t,0,0,r);return i&&(o=Matrix.translation(i.x,i.y).concat(o).concat(Matrix.translation(-i.x,-i.y))),o}},{key:"rotation",value:function rotation(t,r){var i=new Matrix(Math.cos(t),Math.sin(t),-Math.sin(t),Math.cos(t));return r&&(i=Matrix.translation(r.x,r.y).concat(i).concat(Matrix.translation(-r.x,-r.y))),i}}]),Matrix}(),N=__webpack_require__(73),z=__webpack_require__(132);function Motion_typeof(t){return Motion_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Motion_typeof(t)}function ownKeys(t,r){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.push.apply(i,o)}return i}function _objectSpread(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(i),!0).forEach((function(r){_defineProperty(t,r,i[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))}))}return t}function Motion_defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,Motion_toPropertyKey(o.key),o)}}function _defineProperty(t,r,i){return(r=Motion_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function Motion_toPropertyKey(t){var r=function Motion_toPrimitive(t,r){if("object"!==Motion_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==Motion_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===Motion_typeof(r)?r:String(r)}var Z=function(){function Motion(t){!function Motion_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,Motion),_defineProperty(this,"position",new B.Z),this.ctx=t}return function Motion_createClass(t,r,i){return r&&Motion_defineProperties(t.prototype,r),i&&Motion_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(Motion,[{key:"reset",value:function reset(){this.currentUnit=void 0,this.currentToolDiameter=void 0,this.currentSpeed=void 0,this.currentFeed=void 0,this.currentAtc=void 0,this.position=new B.Z}},{key:"retract",value:function retract(){this.ctx.driver.send("M03 S090")}},{key:"plunge",value:function plunge(){this.ctx.driver.send("M03 S070")}},{key:"zero",value:function zero(t){this.ctx.driver.zero(t)}},{key:"rapid",value:function rapid(t){var r=this.postProcess(t);r&&(this.ctx.driver.rapid(t),this.position=r)}},{key:"linear",value:function linear(t){var r=this.postProcess(t);r&&(this.ctx.driver.linear(t),this.position=r)}},{key:"arcCW",value:function arcCW(t){return this.arc(t,!1)}},{key:"arcCCW",value:function arcCCW(t){return this.arc(t,!0)}},{key:"arc",value:function arc(t){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=this.postProcess(_objectSpread(_objectSpread({},t),{},{z:this.position.z||0})),o=this.position.x+(t.i||0),a=this.position.y+(t.j||0),arc=(0,z.mb)(new B.Z(o,a),this.position,new B.Z(t.x,t.y)),u=arc.radius*(arc.end-arc.start)/(1/this.ctx.feed);(u=Math.round(1e6*u)/1e6)&&(t.f=Math.abs(u)),!r&&this.ctx.driver.arcCW?this.ctx.driver.arcCW(t):r&&this.ctx.driver.arcCCW?this.ctx.driver.arcCCW(t):this.interpolate("arc",[o,a,arc.radius,arc.start,arc.end,r],t.z||0),i&&(this.position=i)}},{key:"postProcess",value:function postProcess(t){this.ctx.driver.unit&&this.ctx.unit!=this.currentUnit&&(this.ctx.driver.unit(this.ctx.unit),this.currentUnit=this.ctx.unit),this.ctx.driver.meta&&this.ctx.toolDiameter!=this.currentToolDiameter&&(this.ctx.driver.meta({toolDiameter:this.ctx.toolDiameter}),this.currentToolDiameter=this.ctx.toolDiameter),this.ctx.driver.speed&&this.ctx.speed!=this.currentSpeed&&(this.ctx.driver.speed(this.ctx.speed),this.currentSpeed=this.ctx.speed),this.ctx.driver.feed&&this.ctx.feed!=this.currentFeed&&(this.ctx.driver.send("G93 (inverse time mode)"),this.currentFeed=this.ctx.feed);var r=new B.Z("x"in t?t.x:this.position.x,"y"in t?t.y:this.position.y,"z"in t?t.z:this.position.z,"a"in t?t.a:this.position.a),i=this.position,o=Math.sqrt(Math.pow(i.x-r.x,2)+Math.pow(i.y-r.y,2));if(!t.f){var a=o/(1/this.ctx.feed);(a=Math.round(1e6*a)/1e6)&&(t.f=Math.abs(a))}if((0,z.Bj)(this.position,r))return!1;for(var u in t){var l=u;"number"==typeof t[l]&&(t[l]=Math.round(1e5*t[l])/1e5)}return r}},{key:"interpolate",value:function interpolate(t,r,i){var o=new N.Z,a=o[t];"function"==typeof a&&a.apply(o,r);for(var u=0,l=o.getLength(),c=this.position.z,p=i-c,h=o.getPoints(40),y=0,v=h.length;y<v;++y){var d=h[y],m=d.x-this.position.x,b=d.y-this.position.y;u+=Math.sqrt(m*m+b*b),this.linear({x:d.x,y:d.y,z:c+u/l*p})}}},{key:"followPath",value:function followPath(t,r){var i,o=this;if(!t)return!1;if("subPaths"in t)t.subPaths.forEach((function(t){o.followPath(t,r)}));else for(var a=this.position.z,u=t.getLength(),l=0,c=this.ctx,p=t.isClosed()&&0!=c.ramping,h=(_defineProperty(i={},"MOVE_TO",(function(){for(var t=arguments.length,i=new Array(t),u=0;u<t;u++)i[u]=arguments[u];var l=i[0],c=i[1],h=(0,z.S3)(l,o.position.x)&&(0,z.S3)(c,o.position.y);p&&h||(h||o.retract(),o.rapid({x:l,y:c}),h||o.plunge(),p||o.linear({z:r}),a=o.position.z)})),_defineProperty(i,"LINE_TO",(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var a=r[0],u=r[1];o.linear({x:a,y:u,z:helix()})})),_defineProperty(i,"ELLIPSE",(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var a=r[0],u=r[1],l=r[2],c=r[3],p=r[4],h=r[5],y=r[6];if((0,z.S3)(l,c)){var v=(0,z.CS)(a,u,p,h,l),d={x:v.end.x,y:v.end.y,i:a-v.start.x,j:u-v.start.y,z:helix()};o.arc(d,y)}else interpolate(o,"ellipse",r)})),_defineProperty(i,"BEZIER_CURVE_TO",(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];interpolate(o,"bezierCurveTo",r)})),_defineProperty(i,"QUADRATIC_CURVE_TO",(function(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];interpolate(o,"quadraticCurveTo",r)})),i),y=0,v=t.actions.length;y<v;++y){var d=t.actions[y];if(0!=y){var m=this.position.x,b=this.position.y;l+=t.getActionLength(m,b,y)}h[d.type].apply(this,d.args)}function helix(){return p?0===u?0:a+(r-a)*(l/u):r}function interpolate(t,r,i){var o=new N.Z;o.moveTo(t.position.x,t.position.y);var a=o[r];"function"==typeof a&&a.apply(o,i);for(var u=o.getPoints(40),l=0,c=u.length;l<c;++l){var p=u[l];t.linear({x:p.x,y:p.y,z:helix()})}}}}]),Motion}(),V=__webpack_require__(563);function GCanvas_typeof(t){return GCanvas_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},GCanvas_typeof(t)}function GCanvas_defineProperties(t,r){for(var i=0;i<r.length;i++){var o=r[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,GCanvas_toPropertyKey(o.key),o)}}function GCanvas_defineProperty(t,r,i){return(r=GCanvas_toPropertyKey(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}function GCanvas_toPropertyKey(t){var r=function GCanvas_toPrimitive(t,r){if("object"!==GCanvas_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==GCanvas_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===GCanvas_typeof(r)?r:String(r)}var q=function(){function GCanvas(t){var r=this;!function GCanvas_classCallCheck(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,GCanvas),GCanvas_defineProperty(this,"enableCutouts",!0),GCanvas_defineProperty(this,"precision",20),GCanvas_defineProperty(this,"align","center"),GCanvas_defineProperty(this,"ramping",!0),GCanvas_defineProperty(this,"depth",0),GCanvas_defineProperty(this,"depthOfCut",0),GCanvas_defineProperty(this,"retract",0),GCanvas_defineProperty(this,"speed",500),GCanvas_defineProperty(this,"feed",1e3),GCanvas_defineProperty(this,"act",0),GCanvas_defineProperty(this,"unit","mm"),GCanvas_defineProperty(this,"top",0),GCanvas_defineProperty(this,"toolDiameter",.15),GCanvas_defineProperty(this,"matrix",new D),GCanvas_defineProperty(this,"subPaths",[]),GCanvas_defineProperty(this,"filters",[]),GCanvas_defineProperty(this,"stack",[]),GCanvas_defineProperty(this,"pathHistory",[]),GCanvas_defineProperty(this,"_strokeStyle","#000000"),GCanvas_defineProperty(this,"_fillStyle","#000000"),GCanvas_defineProperty(this,"_font","7pt Helvetica"),GCanvas_defineProperty(this,"_background","#ffffff"),GCanvas_defineProperty(this,"rect",(function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];var a=4===i.length&&!0===i[3]||5===i.length||!1,u=3===i.length||4===i.length&&!0===i[3]?i[0].x:i[0],l=3===i.length||4===i.length&&!0===i[3]?i[0].y:i[1],c=3===i.length||4===i.length&&!0===i[3]?i[1]:i[2],p=3===i.length||4===i.length&&!0===i[3]?i[2]:i[3];a&&r.cutoutRect(u,l,c,p),r.moveTo(u,l),r.lineTo(u+c,l),r.lineTo(u+c,l+p),r.lineTo(u,l+p),r.lineTo(u,l)})),GCanvas_defineProperty(this,"strokeRect",(function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];var a=3===i.length||4===i.length&&"number"!=typeof i[3]?i[0].x:i[0],u=3===i.length||4===i.length&&"number"!=typeof i[3]?i[0].y:i[1],l=3===i.length||4===i.length&&"number"!=typeof i[3]?i[1]:i[2],c=3===i.length||4===i.length&&"number"!=typeof i[3]?i[2]:i[3],p=5===i.length?i[4]:4===i.length&&"number"!=typeof i[3]?i[3]:void 0;r.beginPath(),r.rect(a,u,l,c),r.stroke(p),r.closePath()})),GCanvas_defineProperty(this,"circle",(function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];var a=2===i.length||3===i.length&&!0===i[2]?i[0].x:i[0],u=2===i.length||3===i.length&&!0===i[2]?i[0].y:i[1],l=2===i.length||3===i.length&&!0===i[2]?i[1]:i[2],c=3===i.length&&!0===i[2]||4===i.length||!1;r.arc(a,u,l,0,2*Math.PI,c)})),this.driver=t.driver||new R,this.motion=new Z(this),this.canvasWidth=t.width,this.canvasHeight=t.height,this.virtualScale=t.virtualScale||1,t.canvas&&(this.canvasElement=t.canvas,this.ctx=this.canvasElement.getContext("2d")),t.output&&(this.outputElement=t.output),t.background&&(this._background=t.background),this.reset()}return function GCanvas_createClass(t,r,i){return r&&GCanvas_defineProperties(t.prototype,r),i&&GCanvas_defineProperties(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(GCanvas,[{key:"reset",value:function reset(){console.clear(),this.driver.reset(),this.motion.reset(),this.path=void 0,this.clipRegion=void 0,this.subPaths=[],this.filters=[],this.stack=[],this.matrix=new D,this.ctx&&(this.ctx.resetTransform(),this.setCtxTransform(this.matrix),this.ctx.fillStyle=this._background,this.ctx.fillRect(0,0,this.canvasWidth,this.canvasHeight),this.ctx.lineWidth=1/this.virtualScale)}},{key:"strokeStyle",get:function get(){return this._strokeStyle},set:function set(t){this._strokeStyle=t,this.ctx&&(this.ctx.strokeStyle=t)}},{key:"fillStyle",get:function get(){return this._fillStyle},set:function set(t){this._fillStyle=t,this.ctx&&(this.ctx.fillStyle=t)}},{key:"font",get:function get(){return this._fillStyle},set:function set(t){this._font=t,this.ctx&&(this.ctx.font=t)}},{key:"setCtxTransform",value:function setCtxTransform(t){this.ctx.setTransform(t.a,t.b,t.c,t.d,t.tx,t.ty),this.ctx.scale(window.devicePixelRatio,window.devicePixelRatio),this.ctx.scale(this.virtualScale,this.virtualScale)}},{key:"save",value:function save(){this.stack.push({matrix:this.matrix,font:this.font,depth:this.depth,depthOfCut:this.depthOfCut,toolDiameter:this.toolDiameter,align:this.align,top:this.top,strokeStyle:this.strokeStyle,fillStyle:this.fillStyle,filters:this.filters.slice()})}},{key:"restore",value:function restore(){var t=this;if(this.stack.length){var r=this.stack.pop();Object.keys(r).forEach((function(i){t[i]=r[i]})),this.setCtxTransform(r.matrix),this.ctx.lineWidth=1/this.virtualScale}else console.warn("Cannot restore: GCanvas stack empty!")}},{key:"beginPath",value:function beginPath(){var t;this.path=new V.Z,null===(t=this.ctx)||void 0===t||t.beginPath()}},{key:"transform",value:function transform(t,r,i,o,a,u){var l;this.matrix=this.matrix.concat(new D(t,r,i,o,a,u)),null===(l=this.ctx)||void 0===l||l.transform(t,r,i,o,a,u)}},{key:"setTransform",value:function setTransform(t,r,i,o,a,u){var l;this.matrix=new D(t,r,i,o,a,u),null===(l=this.ctx)||void 0===l||l.setTransform(t,r,i,o,a,u)}},{key:"resetTransform",value:function resetTransform(){var t;this.matrix=new D,null===(t=this.ctx)||void 0===t||t.resetTransform()}},{key:"rotate",value:function rotate(t){var r;this.matrix=this.matrix.rotate(t),null===(r=this.ctx)||void 0===r||r.rotate(t/180*Math.PI)}},{key:"translate",value:function translate(t,r){var i,o,a;this.matrix=this.matrix.translate(t,r),this.ctx.resetTransform(),null===(i=this.ctx)||void 0===i||i.translate(t,r),null===(o=this.ctx)||void 0===o||o.scale(this.virtualScale,this.virtualScale),null===(a=this.ctx)||void 0===a||a.scale(window.devicePixelRatio,window.devicePixelRatio)}},{key:"scale",value:function scale(t,r){var i;this.matrix=this.matrix.scale(t,r),null===(i=this.ctx)||void 0===i||i.scale(t,r||t)}},{key:"transformPoint",value:function transformPoint(t){return Array.isArray(t),this.matrix.transformPoint(t)}},{key:"ensurePath",value:function ensurePath(t,r){this.path&&0===this.path.subPaths.length&&this.path.moveTo(t,r)}},{key:"moveTo",value:function moveTo(t,r){var i,o=this.transformPoint([t,r]),a=o.x,u=o.y;this.path.moveTo(a,u),null===(i=this.ctx)||void 0===i||i.moveTo(a,u)}},{key:"lineTo",value:function lineTo(t,r){var i,o=this.transformPoint([t,r]),a=o.x,u=o.y;this.ensurePath(a,u),this.path.lineTo(a,u),null===(i=this.ctx)||void 0===i||i.lineTo(a,u)}},{key:"arcTo",value:function arcTo(t,r,i,o,a){var u,l=this.transformPoint([t,r]),c=this.transformPoint([i,o]);this.ensurePath(l.x,l.y);var p=(this.path.lastPoint()||new B.Z).subtract(l),h=c.subtract(l),y=p.x*h.y-p.y*h.x;if(Math.abs(y)<1e-10)this.lineTo(l.x,l.y);else{var v=p.magnitude(),d=h.magnitude(),m=(Math.PI-Math.abs(Math.asin(y/(v*d))))/2,b=a*Math.tan(m),_=b/v,P=new B.Z(l.x+p.x*_,l.y+p.y*_);_=b/d;var g=new B.Z(l.x+h.x*_,l.y+h.y*_),x=new B.Z((P.x+g.x)/2,(P.y+g.y)/2).subtract(l),w=x.magnitude(),O=Math.sqrt(a*a+b*b),S=new B.Z;_=O/w,S.x=l.x+x.x*_,S.y=l.y+x.y*_;var C=(0,z.mb)(S,P,g);this.path.lineTo(P.x,P.y),this.path.arc(S.x,S.y,C.radius,C.start,C.end,y>0),null===(u=this.ctx)||void 0===u||u.arcTo(l.x,l.y,c.x,c.y,a)}}},{key:"arc",value:function arc(){for(var t,r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=i[0],u=i[1],l=i[2],c=i[3],p=i[4],h=i[5];if(c-p!=0){p-c==2*-Math.PI&&(p=2*Math.PI);var y=new B.Z(a,u),v=(0,z.CS)(a,u,c,p,l);this.transformPoint(y),this.transformPoint(v.start),this.transformPoint(v.end);var d=(0,z.mb)(y,v.start,v.end);if(!this.path)throw"beginPath not called yet";this.path.arc(y.x,y.y,d.radius,d.start,d.end,h),null===(t=this.ctx)||void 0===t||t.arc(a,u,l,c,p,h)}}},{key:"bezierCurveTo",value:function bezierCurveTo(){var t,r=this.transformPoint([arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1]]),i=r.x,o=r.y,a=this.transformPoint([arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3]]),u=a.x,l=a.y,c=this.transformPoint([arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]]),p=c.x,h=c.y;this.path.bezierCurveTo(i,o,u,l,p,h),null===(t=this.ctx)||void 0===t||t.bezierCurveTo(i,o,u,l,p,h)}},{key:"quadraticCurveTo",value:function quadraticCurveTo(){var t,r=this.transformPoint([arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1]]),i=r.x,o=r.y,a=this.transformPoint([arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3]]),u=a.x,l=a.y;this.path.quadraticCurveTo(i,o,u,l),null===(t=this.ctx)||void 0===t||t.quadraticCurveTo(i,o,u,l)}},{key:"clip",value:function clip(){var t;this.clipRegion=this.path,null===(t=this.ctx)||void 0===t||t.clip()}},{key:"fillRect",value:function fillRect(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var o=3===r.length?r[0].x:r[0],a=3===r.length?r[0].y:r[1],u=3===r.length?r[1]:r[2],l=3===r.length?r[2]:r[3];this.beginPath(),this.rect(o,a,u,l),this.fill(),this.closePath()}},{key:"cutoutRect",value:function cutoutRect(t,r,i,o){}},{key:"strokeCircle",value:function strokeCircle(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var o=2===r.length?r[0].x:r[0],a=2===r.length?r[0].y:r[1],u=2===r.length?r[1]:r[2];this.beginPath(),this.circle(o,a,u),this.stroke(),this.closePath()}},{key:"fillCircle",value:function fillCircle(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var o=2===r.length?r[0].x:r[0],a=2===r.length?r[0].y:r[1],u=2===r.length?r[1]:r[2];this.beginPath(),this.circle(o,a,u),this.fill(),this.closePath()}},{key:"strokeLine",value:function strokeLine(){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var o=2===r.length?r[0].x:r[0],a=2===r.length?r[0].y:r[1],u=2===r.length?r[1].x:r[2],l=2===r.length?r[1].y:r[3];this.beginPath(),this.moveTo(o,a),this.lineTo(u,l),this.stroke(),this.closePath()}},{key:"clone",value:function clone(){}},{key:"measureText",value:function measureText(t){return{top:0,left:0,right:0,bottom:0}}},{key:"isOpaque",value:function isOpaque(t){return"transparent"!=t&&("none"!=t&&("string"!=typeof t||!t.match(/rgba\((?:.*,){3}[0\.]*\)/)))}},{key:"stroke",value:function stroke(){var t,r=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=i.align,a=void 0===o?this.align:o,u=i.depth,l=(void 0===u&&this.depth,i.cutout),c=i.debug;if(this.isOpaque(this.strokeStyle)){var p=this.ctx.strokeStyle;if(c)this.ctx.strokeStyle="rgba(255,0,0,0.5)";else{var h=this.path;if(l&&this.pathHistory.length>0){var y=(0,z.iV)(h.getPoints());console.log("lines making up current shape:",y),console.log("previously stored shapes: ",this.pathHistory.length);for(var v=this.pathHistory.length-1;v>=0;v--){var d=(0,z.iV)(this.pathHistory[v].getPoints());console.log("history item ".concat(v," lines:"),d)}}this.save();var m=0;"outer"===a&&(m=this.toolDiameter/2),"inner"===a&&(m=-this.toolDiameter/2),"center"!==a&&(h=(h=h.simplify("evenodd",this.precision)).offset(m)||h),h.subPaths?h.subPaths.forEach((function(t){"inner"==a&&(t=t.reverse()),r.layer(t,(function(i){r.motion.followPath(t,i)}))})):console.warn("stroke has no subpaths?"),this.restore()}null===(t=this.ctx)||void 0===t||t.stroke(),c&&(this.ctx.strokeStyle=p)}}},{key:"fill",value:function fill(t){var r,i=this;if(this.isOpaque(this.fillStyle)){if(this.save(),!this.toolDiameter)throw"You must set context.toolDiameter to use fill()";var o=this.path;(o=(o=(o=o.simplify(t,this.precision)).clip(this.clipRegion,0,this.precision)).fillPath(this.toolDiameter,this.precision)).subPaths&&o.subPaths.forEach((function(t){i.layer(t,(function(r){i.motion.followPath(t,r)}))}),this),this.restore(),null===(r=this.ctx)||void 0===r||r.fill()}}},{key:"clearRect",value:function clearRect(t,r,i,o){var a;null===(a=this.ctx)||void 0===a||a.clearRect(t,r,i,o)}},{key:"closePath",value:function closePath(){var t;this.path.close(),this.enableCutouts&&this.pathHistory.push(this.path.current.clone()),null===(t=this.ctx)||void 0===t||t.closePath()}},{key:"layer",value:function layer(t,r){var i=this.depthOfCut||this.depth;if(0!==i){var o=this.depth<0;o&&i>0&&(i=-i);for(var a=Math.ceil(Math.abs(this.depth/i)),u=-this.top;a--;)u-=i,u=o?Math.max(u,this.top+this.depth):Math.max(u,-this.top-this.depth),r.call(this,u);this.ramping&&t.isClosed()&&r.call(this,u)}else r.call(this,-this.top)}}]),GCanvas}(),H=function loadValue(t,r){var i=localStorage.getItem(t);return null===i?void 0!==r?(K(t,r),r):null:JSON.parse(i)},K=function saveValue(t,r){var i=JSON.stringify(r);return localStorage.setItem(t,i),r};function saveSlots_typeof(t){return saveSlots_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},saveSlots_typeof(t)}function _toConsumableArray(t){return function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}(t)||function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function _unsupportedIterableToArray(t,r){if(!t)return;if("string"==typeof t)return _arrayLikeToArray(t,r);var i=Object.prototype.toString.call(t).slice(8,-1);"Object"===i&&t.constructor&&(i=t.constructor.name);if("Map"===i||"Set"===i)return Array.from(t);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return _arrayLikeToArray(t,r)}(t)||function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _arrayLikeToArray(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,o=new Array(r);i<r;i++)o[i]=t[i];return o}function saveSlots_ownKeys(t,r){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);r&&(o=o.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),i.push.apply(i,o)}return i}function saveSlots_objectSpread(t){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?saveSlots_ownKeys(Object(i),!0).forEach((function(r){saveSlots_defineProperty(t,r,i[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):saveSlots_ownKeys(Object(i)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(i,r))}))}return t}function saveSlots_defineProperty(t,r,i){return(r=function saveSlots_toPropertyKey(t){var r=function saveSlots_toPrimitive(t,r){if("object"!==saveSlots_typeof(t)||null===t)return t;var i=t[Symbol.toPrimitive];if(void 0!==i){var o=i.call(t,r||"default");if("object"!==saveSlots_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(t)}(t,"string");return"symbol"===saveSlots_typeof(r)?r:String(r)}(r))in t?Object.defineProperty(t,r,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[r]=i,t}var G=document.getElementById("save-slots"),X=function renderSketchSaveSlots(t,r){G.innerHTML="",H(t.constructor.name,[]).forEach((function(i,o){var a=document.createElement("button");a.type="button",a.innerText="".concat(o+1),a.addEventListener("click",(function(){null==r||r(),t.reset(),console.log("Loading:",i),Object.keys(i).forEach((function(r){t.vs[r].setValue(i[r],!0)})),t.initDraw()})),G.appendChild(a)}))};const U=[__webpack_require__(899).Z,__webpack_require__(715).Z,__webpack_require__(798).Z,__webpack_require__(613).Z,__webpack_require__(918).Z,__webpack_require__(511).Z,__webpack_require__(166).Z,__webpack_require__(703).Z,__webpack_require__(139).Z,__webpack_require__(97).Z,__webpack_require__(165).Z,__webpack_require__(245).Z,__webpack_require__(404).Z,__webpack_require__(544).Z,__webpack_require__(230).Z,__webpack_require__(573).Z,__webpack_require__(388).Z,__webpack_require__(494).Z,__webpack_require__(4).Z];var W,J=__webpack_require__(561),Y=document.getElementById("slider-area"),Q={},$=140,tt=100,et=document.createElement("canvas"),rt=document.getElementById("canvas-area"),nt=document.getElementById("sketch-buttons-area"),it=document.getElementById("save-button"),ot=document.getElementById("reset"),st=document.getElementById("randomize"),at=document.getElementById("gcode"),ut=H("sketchIndex",0),lt=0,ct=0,ft=A((function _setGCodeHTML(t){return at.innerHTML=t}),1e3),pt="",ht=function setGCode(t){ft(pt=t)},yt=function initSketch(t){console.clear(),console.log("Loading new sketch",t.name),ct=0,lt&&(window.cancelAnimationFrame(lt),lt=0),ht(t.generateGCode?"":"(GCode disabled for this sketch)");var r=t.generateGCode?new j({reset:function reset(){ht("")},write:function write(t){!function appendGCode(t){ft(pt+=t+"\n")}(t)}}):void 0,i=new q({canvas:et,driver:r,width:$,height:tt,virtualScale:8,background:"#fff"});(W=new t({ctx:i,width:$,height:tt})).init(),W.initDraw(),function renderSketchSliders(t,r){Q={},Y.innerHTML="",Object.keys(t.vs).forEach((function(i){var o=t.vs[i],a=document.createElement("input");a.type="range",a.min=String(o.min),a.max=String(o.max),a.step=String(o.step),a.value=String(o.value),a.setAttribute("data-slider",i);var u=document.createElement("label"),l=document.createElement("span"),c=document.createElement("small"),p=function handleUpdate(o){var u=void 0===o?Number(a.value):o;c.innerText=(0,J.iH)(u,6),t.vs[i].value=u,t.reset(),t.initDraw(),null==r||r()};a.addEventListener("input",(function(t){return p()})),a.addEventListener("change",(function(t){return p()})),c.addEventListener("click",(function(){var t=window.prompt("".concat(i,": "),String(a.value));if(null!==t){var r=parseFloat(t);isNaN(r)||p(r)}})),c.innerText=(0,J.iH)(Number(a.value)),l.innerText=i,l.appendChild(c),u.appendChild(l),u.appendChild(a),Y.appendChild(u),o.inputElem=a,Q[i]={slider:a,labelSpan:l,valueSpan:c}}))}(W,(function(){ct=0})),X(W,(function(){ct=0})),vt()},vt=function animate(){for(var t=0;t<100;t++)ct++,W.draw(ct);lt=window.requestAnimationFrame(animate)};window.addEventListener("load",(function init(){et.width=1120*window.devicePixelRatio,et.height=800*window.devicePixelRatio,et.style.width="".concat(1120,"px"),et.style.height="".concat(800,"px"),rt?rt.appendChild(et):document.body.appendChild(et),U.forEach((function(t,r){var i=document.createElement("button");i.type="button",i.innerText="".concat(r+1," ").concat(t.name),ut===r&&i.classList.add("active"),i.addEventListener("click",(function(){for(var o=nt.getElementsByTagName("button"),a=0;a<o.length;a++)o.item(a).classList.remove("active");i.classList.add("active"),ut=K("sketchIndex",r),yt(t)})),nt.appendChild(i)})),yt(U[ut]),ot.addEventListener("click",(function(){W&&(ct=0,W.reset(),W.initDraw())})),st.addEventListener("click",(function(){W&&(ct=0,Object.keys(W.vs).forEach((function(t){W.vs[t].randomize()})),function updateSliderValues(t){Object.keys(Q).forEach((function(r){var i=Q[r],o=i.slider,a=i.valueSpan;o.value=String(t.vs[r].value),a.innerText=(0,J.iH)(t.vs[r].value)}))}(W),W.reset(),W.initDraw())})),it.addEventListener("click",(function(){W&&function saveNewPreset(t){var r=Object.keys(t.vs).reduce((function(r,i){return saveSlots_objectSpread(saveSlots_objectSpread({},r),{},saveSlots_defineProperty({},i,t.vs[i].value))}),{}),i=t.constructor.name,o=H(i,[]);K(i,[].concat(_toConsumableArray(o),[r])),X(t)}(W)}))}))})()})();